var LE=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Whe=LE((pi,gi)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function Ob(t,e){const n=Object.create(null),i=t.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function gt(t){if(Ie(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=jt(i)?HE(i):gt(i);if(r)for(const o in r)e[o]=r[o]}return e}else{if(jt(t))return t;if(_t(t))return t}}const NE=/;(?![^(]*\))/g,BE=/:([^]+)/,FE=/\/\*.*?\*\//gs;function HE(t){const e={};return t.replace(FE,"").split(NE).forEach(n=>{if(n){const i=n.split(BE);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function je(t){let e="";if(jt(t))e=t;else if(Ie(t))for(let n=0;n<t.length;n++){const i=je(t[n]);i&&(e+=i+" ")}else if(_t(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function ui(t){if(!t)return null;let{class:e,style:n}=t;return e&&!jt(e)&&(t.class=je(e)),n&&(t.style=gt(n)),t}const VE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jE=Ob(VE);function mA(t){return!!t||t===""}function zE(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=Fp(t[i],e[i]);return n}function Fp(t,e){if(t===e)return!0;let n=J_(t),i=J_(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=zc(t),i=zc(e),n||i)return t===e;if(n=Ie(t),i=Ie(e),n||i)return n&&i?zE(t,e):!1;if(n=_t(t),i=_t(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!Fp(t[s],e[s]))return!1}}return String(t)===String(e)}function WE(t,e){return t.findIndex(n=>Fp(n,e))}const ve=t=>jt(t)?t:t==null?"":Ie(t)||_t(t)&&(t.toString===bA||!Ue(t.toString))?JSON.stringify(t,yA,2):String(t),yA=(t,e)=>e&&e.__v_isRef?yA(t,e.value):Ta(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:Vp(e)?{[`Set(${e.size})`]:[...e.values()]}:_t(e)&&!Ie(e)&&!_A(e)?String(e):e,Dt={},Pa=[],Xi=()=>{},UE=()=>!1,YE=/^on[^a-z]/,Hp=t=>YE.test(t),Mb=t=>t.startsWith("onUpdate:"),wn=Object.assign,Ab=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},qE=Object.prototype.hasOwnProperty,ot=(t,e)=>qE.call(t,e),Ie=Array.isArray,Ta=t=>_u(t)==="[object Map]",Vp=t=>_u(t)==="[object Set]",J_=t=>_u(t)==="[object Date]",Ue=t=>typeof t=="function",jt=t=>typeof t=="string",zc=t=>typeof t=="symbol",_t=t=>t!==null&&typeof t=="object",vA=t=>_t(t)&&Ue(t.then)&&Ue(t.catch),bA=Object.prototype.toString,_u=t=>bA.call(t),KE=t=>_u(t).slice(8,-1),_A=t=>_u(t)==="[object Object]",Pb=t=>jt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Bf=Ob(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},GE=/-(\w)/g,Mr=jp(t=>t.replace(GE,(e,n)=>n?n.toUpperCase():"")),XE=/\B([A-Z])/g,Xs=jp(t=>t.replace(XE,"-$1").toLowerCase()),zp=jp(t=>t.charAt(0).toUpperCase()+t.slice(1)),qg=jp(t=>t?`on${zp(t)}`:""),Wc=(t,e)=>!Object.is(t,e),Ff=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Vh=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},jh=t=>{const e=parseFloat(t);return isNaN(e)?t:e},JE=t=>{const e=jt(t)?Number(t):NaN;return isNaN(e)?t:e};let Q_;const QE=()=>Q_||(Q_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ai;class wA{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ai,!e&&ai&&(this.index=(ai.scopes||(ai.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ai;try{return ai=this,e()}finally{ai=n}}}on(){ai=this}off(){ai=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function xA(t){return new wA(t)}function ZE(t,e=ai){e&&e.active&&e.effects.push(t)}function Wp(){return ai}function Tb(t){ai&&ai.cleanups.push(t)}const Db=t=>{const e=new Set(t);return e.w=0,e.n=0,e},SA=t=>(t.w&Lo)>0,kA=t=>(t.n&Lo)>0,eI=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Lo},tI=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const r=e[i];SA(r)&&!kA(r)?r.delete(t):e[n++]=r,r.w&=~Lo,r.n&=~Lo}e.length=n}},zh=new WeakMap;let oc=0,Lo=1;const My=30;let Ui;const Ds=Symbol(""),Ay=Symbol("");class $b{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ZE(this,i)}run(){if(!this.active)return this.fn();let e=Ui,n=To;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ui,Ui=this,To=!0,Lo=1<<++oc,oc<=My?eI(this):Z_(this),this.fn()}finally{oc<=My&&tI(this),Lo=1<<--oc,Ui=this.parent,To=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ui===this?this.deferStop=!0:this.active&&(Z_(this),this.onStop&&this.onStop(),this.active=!1)}}function Z_(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let To=!0;const CA=[];function wl(){CA.push(To),To=!1}function xl(){const t=CA.pop();To=t===void 0?!0:t}function ii(t,e,n){if(To&&Ui){let i=zh.get(t);i||zh.set(t,i=new Map);let r=i.get(n);r||i.set(n,r=Db()),OA(r)}}function OA(t,e){let n=!1;oc<=My?kA(t)||(t.n|=Lo,n=!SA(t)):n=!t.has(Ui),n&&(t.add(Ui),Ui.deps.push(t))}function Zr(t,e,n,i,r,o){const s=zh.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&Ie(t)){const l=Number(i);s.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(s.get(n)),e){case"add":Ie(t)?Pb(n)&&a.push(s.get("length")):(a.push(s.get(Ds)),Ta(t)&&a.push(s.get(Ay)));break;case"delete":Ie(t)||(a.push(s.get(Ds)),Ta(t)&&a.push(s.get(Ay)));break;case"set":Ta(t)&&a.push(s.get(Ds));break}if(a.length===1)a[0]&&Py(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Py(Db(l))}}function Py(t,e){const n=Ie(t)?t:[...t];for(const i of n)i.computed&&ew(i);for(const i of n)i.computed||ew(i)}function ew(t,e){(t!==Ui||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function nI(t,e){var n;return(n=zh.get(t))===null||n===void 0?void 0:n.get(e)}const iI=Ob("__proto__,__v_isRef,__isVue"),MA=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(zc)),rI=Rb(),oI=Rb(!1,!0),sI=Rb(!0),tw=aI();function aI(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=tt(this);for(let o=0,s=this.length;o<s;o++)ii(i,"get",o+"");const r=i[e](...n);return r===-1||r===!1?i[e](...n.map(tt)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){wl();const i=tt(this)[e].apply(this,n);return xl(),i}}),t}function lI(t){const e=tt(this);return ii(e,"has",t),e.hasOwnProperty(t)}function Rb(t=!1,e=!1){return function(i,r,o){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&o===(t?e?kI:$A:e?DA:TA).get(i))return i;const s=Ie(i);if(!t){if(s&&ot(tw,r))return Reflect.get(tw,r,o);if(r==="hasOwnProperty")return lI}const a=Reflect.get(i,r,o);return(zc(r)?MA.has(r):iI(r))||(t||ii(i,"get",r),e)?a:Ge(a)?s&&Pb(r)?a:a.value:_t(a)?t?RA(a):qt(a):a}}const cI=AA(),uI=AA(!0);function AA(t=!1){return function(n,i,r,o){let s=n[i];if(ja(s)&&Ge(s)&&!Ge(r))return!1;if(!t&&(!Wh(r)&&!ja(r)&&(s=tt(s),r=tt(r)),!Ie(n)&&Ge(s)&&!Ge(r)))return s.value=r,!0;const a=Ie(n)&&Pb(i)?Number(i)<n.length:ot(n,i),l=Reflect.set(n,i,r,o);return n===tt(o)&&(a?Wc(r,s)&&Zr(n,"set",i,r):Zr(n,"add",i,r)),l}}function fI(t,e){const n=ot(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Zr(t,"delete",e,void 0),i}function hI(t,e){const n=Reflect.has(t,e);return(!zc(e)||!MA.has(e))&&ii(t,"has",e),n}function dI(t){return ii(t,"iterate",Ie(t)?"length":Ds),Reflect.ownKeys(t)}const PA={get:rI,set:cI,deleteProperty:fI,has:hI,ownKeys:dI},pI={get:sI,set(t,e){return!0},deleteProperty(t,e){return!0}},gI=wn({},PA,{get:oI,set:uI}),Eb=t=>t,Up=t=>Reflect.getPrototypeOf(t);function Wu(t,e,n=!1,i=!1){t=t.__v_raw;const r=tt(t),o=tt(e);n||(e!==o&&ii(r,"get",e),ii(r,"get",o));const{has:s}=Up(r),a=i?Eb:n?Nb:Uc;if(s.call(r,e))return a(t.get(e));if(s.call(r,o))return a(t.get(o));t!==r&&t.get(e)}function Uu(t,e=!1){const n=this.__v_raw,i=tt(n),r=tt(t);return e||(t!==r&&ii(i,"has",t),ii(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function Yu(t,e=!1){return t=t.__v_raw,!e&&ii(tt(t),"iterate",Ds),Reflect.get(t,"size",t)}function nw(t){t=tt(t);const e=tt(this);return Up(e).has.call(e,t)||(e.add(t),Zr(e,"add",t,t)),this}function iw(t,e){e=tt(e);const n=tt(this),{has:i,get:r}=Up(n);let o=i.call(n,t);o||(t=tt(t),o=i.call(n,t));const s=r.call(n,t);return n.set(t,e),o?Wc(e,s)&&Zr(n,"set",t,e):Zr(n,"add",t,e),this}function rw(t){const e=tt(this),{has:n,get:i}=Up(e);let r=n.call(e,t);r||(t=tt(t),r=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return r&&Zr(e,"delete",t,void 0),o}function ow(){const t=tt(this),e=t.size!==0,n=t.clear();return e&&Zr(t,"clear",void 0,void 0),n}function qu(t,e){return function(i,r){const o=this,s=o.__v_raw,a=tt(s),l=e?Eb:t?Nb:Uc;return!t&&ii(a,"iterate",Ds),s.forEach((c,u)=>i.call(r,l(c),l(u),o))}}function Ku(t,e,n){return function(...i){const r=this.__v_raw,o=tt(r),s=Ta(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,c=r[t](...i),u=n?Eb:e?Nb:Uc;return!e&&ii(o,"iterate",l?Ay:Ds),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function co(t){return function(...e){return t==="delete"?!1:this}}function mI(){const t={get(o){return Wu(this,o)},get size(){return Yu(this)},has:Uu,add:nw,set:iw,delete:rw,clear:ow,forEach:qu(!1,!1)},e={get(o){return Wu(this,o,!1,!0)},get size(){return Yu(this)},has:Uu,add:nw,set:iw,delete:rw,clear:ow,forEach:qu(!1,!0)},n={get(o){return Wu(this,o,!0)},get size(){return Yu(this,!0)},has(o){return Uu.call(this,o,!0)},add:co("add"),set:co("set"),delete:co("delete"),clear:co("clear"),forEach:qu(!0,!1)},i={get(o){return Wu(this,o,!0,!0)},get size(){return Yu(this,!0)},has(o){return Uu.call(this,o,!0)},add:co("add"),set:co("set"),delete:co("delete"),clear:co("clear"),forEach:qu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Ku(o,!1,!1),n[o]=Ku(o,!0,!1),e[o]=Ku(o,!1,!0),i[o]=Ku(o,!0,!0)}),[t,n,e,i]}const[yI,vI,bI,_I]=mI();function Ib(t,e){const n=e?t?_I:bI:t?vI:yI;return(i,r,o)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(ot(n,r)&&r in i?n:i,r,o)}const wI={get:Ib(!1,!1)},xI={get:Ib(!1,!0)},SI={get:Ib(!0,!1)},TA=new WeakMap,DA=new WeakMap,$A=new WeakMap,kI=new WeakMap;function CI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function OI(t){return t.__v_skip||!Object.isExtensible(t)?0:CI(KE(t))}function qt(t){return ja(t)?t:Lb(t,!1,PA,wI,TA)}function MI(t){return Lb(t,!1,gI,xI,DA)}function RA(t){return Lb(t,!0,pI,SI,$A)}function Lb(t,e,n,i,r){if(!_t(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=r.get(t);if(o)return o;const s=OI(t);if(s===0)return t;const a=new Proxy(t,s===2?i:n);return r.set(t,a),a}function Xr(t){return ja(t)?Xr(t.__v_raw):!!(t&&t.__v_isReactive)}function ja(t){return!!(t&&t.__v_isReadonly)}function Wh(t){return!!(t&&t.__v_isShallow)}function EA(t){return Xr(t)||ja(t)}function tt(t){const e=t&&t.__v_raw;return e?tt(e):t}function za(t){return Vh(t,"__v_skip",!0),t}const Uc=t=>_t(t)?qt(t):t,Nb=t=>_t(t)?RA(t):t;function IA(t){To&&Ui&&(t=tt(t),OA(t.dep||(t.dep=Db())))}function LA(t,e){t=tt(t);const n=t.dep;n&&Py(n)}function Ge(t){return!!(t&&t.__v_isRef===!0)}function te(t){return NA(t,!1)}function Bb(t){return NA(t,!0)}function NA(t,e){return Ge(t)?t:new AI(t,e)}class AI{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:tt(e),this._value=n?e:Uc(e)}get value(){return IA(this),this._value}set value(e){const n=this.__v_isShallow||Wh(e)||ja(e);e=n?e:tt(e),Wc(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Uc(e),LA(this))}}function C(t){return Ge(t)?t.value:t}const PI={get:(t,e,n)=>C(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Ge(r)&&!Ge(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function BA(t){return Xr(t)?t:new Proxy(t,PI)}function TI(t){const e=Ie(t)?new Array(t.length):{};for(const n in t)e[n]=Fs(t,n);return e}class DI{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return nI(tt(this._object),this._key)}}function Fs(t,e,n){const i=t[e];return Ge(i)?i:new DI(t,e,n)}var FA;class $I{constructor(e,n,i,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[FA]=!1,this._dirty=!0,this.effect=new $b(e,()=>{this._dirty||(this._dirty=!0,LA(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const e=tt(this);return IA(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}FA="__v_isReadonly";function RI(t,e,n=!1){let i,r;const o=Ue(t);return o?(i=t,r=Xi):(i=t.get,r=t.set),new $I(i,r,o||!r,n)}function Do(t,e,n,i){let r;try{r=i?t(...i):t()}catch(o){wu(o,e,n)}return r}function Di(t,e,n,i){if(Ue(t)){const o=Do(t,e,n,i);return o&&vA(o)&&o.catch(s=>{wu(s,e,n)}),o}const r=[];for(let o=0;o<t.length;o++)r.push(Di(t[o],e,n,i));return r}function wu(t,e,n,i=!0){const r=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=n;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,s,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){Do(l,null,10,[t,s,a]);return}}EI(t,n,r,i)}function EI(t,e,n,i=!0){console.error(t)}let Yc=!1,Ty=!1;const An=[];let fr=0;const Da=[];let jr=null,ws=0;const HA=Promise.resolve();let Fb=null;function Ar(t){const e=Fb||HA;return t?e.then(this?t.bind(this):t):e}function II(t){let e=fr+1,n=An.length;for(;e<n;){const i=e+n>>>1;qc(An[i])<t?e=i+1:n=i}return e}function Yp(t){(!An.length||!An.includes(t,Yc&&t.allowRecurse?fr+1:fr))&&(t.id==null?An.push(t):An.splice(II(t.id),0,t),VA())}function VA(){!Yc&&!Ty&&(Ty=!0,Fb=HA.then(zA))}function LI(t){const e=An.indexOf(t);e>fr&&An.splice(e,1)}function NI(t){Ie(t)?Da.push(...t):(!jr||!jr.includes(t,t.allowRecurse?ws+1:ws))&&Da.push(t),VA()}function sw(t,e=Yc?fr+1:0){for(;e<An.length;e++){const n=An[e];n&&n.pre&&(An.splice(e,1),e--,n())}}function jA(t){if(Da.length){const e=[...new Set(Da)];if(Da.length=0,jr){jr.push(...e);return}for(jr=e,jr.sort((n,i)=>qc(n)-qc(i)),ws=0;ws<jr.length;ws++)jr[ws]();jr=null,ws=0}}const qc=t=>t.id==null?1/0:t.id,BI=(t,e)=>{const n=qc(t)-qc(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function zA(t){Ty=!1,Yc=!0,An.sort(BI);const e=Xi;try{for(fr=0;fr<An.length;fr++){const n=An[fr];n&&n.active!==!1&&Do(n,null,14)}}finally{fr=0,An.length=0,jA(),Yc=!1,Fb=null,(An.length||Da.length)&&zA()}}function FI(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Dt;let r=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in i){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:h}=i[u]||Dt;h&&(r=n.map(d=>jt(d)?d.trim():d)),f&&(r=n.map(jh))}let a,l=i[a=qg(e)]||i[a=qg(Mr(e))];!l&&o&&(l=i[a=qg(Xs(e))]),l&&Di(l,t,6,r);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Di(c,t,6,r)}}function WA(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const o=t.emits;let s={},a=!1;if(!Ue(t)){const l=c=>{const u=WA(c,e,!0);u&&(a=!0,wn(s,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(_t(t)&&i.set(t,null),null):(Ie(o)?o.forEach(l=>s[l]=null):wn(s,o),_t(t)&&i.set(t,s),s)}function qp(t,e){return!t||!Hp(e)?!1:(e=e.slice(2).replace(/Once$/,""),ot(t,e[0].toLowerCase()+e.slice(1))||ot(t,Xs(e))||ot(t,e))}let bn=null,Kp=null;function Uh(t){const e=bn;return bn=t,Kp=t&&t.type.__scopeId||null,e}function Hi(t){Kp=t}function Vi(){Kp=null}function Fe(t,e=bn,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&yw(-1);const o=Uh(e);let s;try{s=t(...r)}finally{Uh(o),i._d&&yw(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function Kg(t){const{type:e,vnode:n,proxy:i,withProxy:r,props:o,propsOptions:[s],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:h,setupState:d,ctx:p,inheritAttrs:g}=t;let y,m;const b=Uh(t);try{if(n.shapeFlag&4){const w=r||i;y=cr(u.call(w,w,f,o,d,h,p)),m=l}else{const w=e;y=cr(w.length>1?w(o,{attrs:l,slots:a,emit:c}):w(o,null)),m=e.props?l:HI(l)}}catch(w){_c.length=0,wu(w,t,1),y=Ae($i)}let _=y;if(m&&g!==!1){const w=Object.keys(m),{shapeFlag:S}=_;w.length&&S&7&&(s&&w.some(Mb)&&(m=VI(m,s)),_=No(_,m))}return n.dirs&&(_=No(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_,Uh(b),y}const HI=t=>{let e;for(const n in t)(n==="class"||n==="style"||Hp(n))&&((e||(e={}))[n]=t[n]);return e},VI=(t,e)=>{const n={};for(const i in t)(!Mb(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function jI(t,e,n){const{props:i,children:r,component:o}=t,{props:s,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?aw(i,s,c):!!s;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(s[h]!==i[h]&&!qp(c,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===s?!1:i?s?aw(i,s,c):!0:!!s;return!1}function aw(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(e[o]!==t[o]&&!qp(n,o))return!0}return!1}function zI({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const WI=t=>t.__isSuspense;function UI(t,e){e&&e.pendingBranch?Ie(t)?e.effects.push(...t):e.effects.push(t):NI(t)}function mc(t,e){if(Wt){let n=Wt.provides;const i=Wt.parent&&Wt.parent.provides;i===n&&(n=Wt.provides=Object.create(i)),n[t]=e}}function mi(t,e,n=!1){const i=Wt||bn;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Ue(e)?e.call(i.proxy):e}}const Gu={};function mt(t,e,n){return UA(t,e,n)}function UA(t,e,{immediate:n,deep:i,flush:r,onTrack:o,onTrigger:s}=Dt){const a=Wp()===(Wt==null?void 0:Wt.scope)?Wt:null;let l,c=!1,u=!1;if(Ge(t)?(l=()=>t.value,c=Wh(t)):Xr(t)?(l=()=>t,i=!0):Ie(t)?(u=!0,c=t.some(_=>Xr(_)||Wh(_)),l=()=>t.map(_=>{if(Ge(_))return _.value;if(Xr(_))return Ms(_);if(Ue(_))return Do(_,a,2)})):Ue(t)?e?l=()=>Do(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return f&&f(),Di(t,a,3,[h])}:l=Xi,e&&i){const _=l;l=()=>Ms(_())}let f,h=_=>{f=m.onStop=()=>{Do(_,a,4)}},d;if(Ua)if(h=Xi,e?n&&Di(e,a,3,[l(),u?[]:void 0,h]):l(),r==="sync"){const _=LL();d=_.__watcherHandles||(_.__watcherHandles=[])}else return Xi;let p=u?new Array(t.length).fill(Gu):Gu;const g=()=>{if(m.active)if(e){const _=m.run();(i||c||(u?_.some((w,S)=>Wc(w,p[S])):Wc(_,p)))&&(f&&f(),Di(e,a,3,[_,p===Gu?void 0:u&&p[0]===Gu?[]:p,h]),p=_)}else m.run()};g.allowRecurse=!!e;let y;r==="sync"?y=g:r==="post"?y=()=>Xn(g,a&&a.suspense):(g.pre=!0,a&&(g.id=a.uid),y=()=>Yp(g));const m=new $b(l,y);e?n?g():p=m.run():r==="post"?Xn(m.run.bind(m),a&&a.suspense):m.run();const b=()=>{m.stop(),a&&a.scope&&Ab(a.scope.effects,m)};return d&&d.push(b),b}function YI(t,e,n){const i=this.proxy,r=jt(t)?t.includes(".")?YA(i,t):()=>i[t]:t.bind(i,i);let o;Ue(e)?o=e:(o=e.handler,n=e);const s=Wt;Wa(this);const a=UA(r,o.bind(i),n);return s?Wa(s):$s(),a}function YA(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function Ms(t,e){if(!_t(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ge(t))Ms(t.value,e);else if(Ie(t))for(let n=0;n<t.length;n++)Ms(t[n],e);else if(Vp(t)||Ta(t))t.forEach(n=>{Ms(n,e)});else if(_A(t))for(const n in t)Ms(t[n],e);return t}function qI(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return sn(()=>{t.isMounted=!0}),Hb(()=>{t.isUnmounting=!0}),t}const xi=[Function,Array],KI={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xi,onEnter:xi,onAfterEnter:xi,onEnterCancelled:xi,onBeforeLeave:xi,onLeave:xi,onAfterLeave:xi,onLeaveCancelled:xi,onBeforeAppear:xi,onAppear:xi,onAfterAppear:xi,onAppearCancelled:xi},setup(t,{slots:e}){const n=Su(),i=qI();let r;return()=>{const o=e.default&&GA(e.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const g of o)if(g.type!==$i){s=g;break}}const a=tt(t),{mode:l}=a;if(i.isLeaving)return Gg(s);const c=lw(s);if(!c)return Gg(s);const u=Dy(c,a,i,n);$y(c,u);const f=n.subTree,h=f&&lw(f);let d=!1;const{getTransitionKey:p}=c.type;if(p){const g=p();r===void 0?r=g:g!==r&&(r=g,d=!0)}if(h&&h.type!==$i&&(!xs(c,h)||d)){const g=Dy(h,a,i,n);if($y(h,g),l==="out-in")return i.isLeaving=!0,g.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Gg(s);l==="in-out"&&c.type!==$i&&(g.delayLeave=(y,m,b)=>{const _=KA(i,h);_[String(h.key)]=h,y._leaveCb=()=>{m(),y._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=b})}return s}}},qA=KI;function KA(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Dy(t,e,n,i){const{appear:r,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:h,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:g,onAppear:y,onAfterAppear:m,onAppearCancelled:b}=e,_=String(t.key),w=KA(n,t),S=(k,P)=>{k&&Di(k,i,9,P)},A=(k,P)=>{const E=P[1];S(k,P),Ie(k)?k.every(I=>I.length<=1)&&E():k.length<=1&&E()},x={mode:o,persisted:s,beforeEnter(k){let P=a;if(!n.isMounted)if(r)P=g||a;else return;k._leaveCb&&k._leaveCb(!0);const E=w[_];E&&xs(t,E)&&E.el._leaveCb&&E.el._leaveCb(),S(P,[k])},enter(k){let P=l,E=c,I=u;if(!n.isMounted)if(r)P=y||l,E=m||c,I=b||u;else return;let B=!1;const J=k._enterCb=ee=>{B||(B=!0,ee?S(I,[k]):S(E,[k]),x.delayedLeave&&x.delayedLeave(),k._enterCb=void 0)};P?A(P,[k,J]):J()},leave(k,P){const E=String(t.key);if(k._enterCb&&k._enterCb(!0),n.isUnmounting)return P();S(f,[k]);let I=!1;const B=k._leaveCb=J=>{I||(I=!0,P(),J?S(p,[k]):S(d,[k]),k._leaveCb=void 0,w[E]===t&&delete w[E])};w[E]=t,h?A(h,[k,B]):B()},clone(k){return Dy(k,e,n,i)}};return x}function Gg(t){if(xu(t))return t=No(t),t.children=null,t}function lw(t){return xu(t)?t.children?t.children[0]:void 0:t}function $y(t,e){t.shapeFlag&6&&t.component?$y(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function GA(t,e=!1,n){let i=[],r=0;for(let o=0;o<t.length;o++){let s=t[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===de?(s.patchFlag&128&&r++,i=i.concat(GA(s.children,e,a))):(e||s.type!==$i)&&i.push(a!=null?No(s,{key:a}):s)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function $e(t){return Ue(t)?{setup:t,name:t.name}:t}const yc=t=>!!t.type.__asyncLoader;function GI(t){Ue(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:r=200,timeout:o,suspensible:s=!0,onError:a}=t;let l=null,c,u=0;const f=()=>(u++,l=null,h()),h=()=>{let d;return l||(d=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((g,y)=>{a(p,()=>g(f()),()=>y(p),u+1)});throw p}).then(p=>d!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return $e({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return c},setup(){const d=Wt;if(c)return()=>Xg(c,d);const p=b=>{l=null,wu(b,d,13,!i)};if(s&&d.suspense||Ua)return h().then(b=>()=>Xg(b,d)).catch(b=>(p(b),()=>i?Ae(i,{error:b}):null));const g=te(!1),y=te(),m=te(!!r);return r&&setTimeout(()=>{m.value=!1},r),o!=null&&setTimeout(()=>{if(!g.value&&!y.value){const b=new Error(`Async component timed out after ${o}ms.`);p(b),y.value=b}},o),h().then(()=>{g.value=!0,d.parent&&xu(d.parent.vnode)&&Yp(d.parent.update)}).catch(b=>{p(b),y.value=b}),()=>{if(g.value&&c)return Xg(c,d);if(y.value&&i)return Ae(i,{error:y.value});if(n&&!m.value)return Ae(n)}}})}function Xg(t,e){const{ref:n,props:i,children:r,ce:o}=e.vnode,s=Ae(t,i,r);return s.ref=n,s.ce=o,delete e.vnode.ce,s}const xu=t=>t.type.__isKeepAlive;function XI(t,e){XA(t,"a",e)}function JI(t,e){XA(t,"da",e)}function XA(t,e,n=Wt){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Gp(e,i,n),n){let r=n.parent;for(;r&&r.parent;)xu(r.parent.vnode)&&QI(i,e,n,r),r=r.parent}}function QI(t,e,n,i){const r=Gp(e,t,i,!0);Sl(()=>{Ab(i[e],r)},n)}function Gp(t,e,n=Wt,i=!1){if(n){const r=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;wl(),Wa(n);const a=Di(e,n,t,s);return $s(),xl(),a});return i?r.unshift(o):r.push(o),o}}const io=t=>(e,n=Wt)=>(!Ua||t==="sp")&&Gp(t,(...i)=>e(...i),n),ZI=io("bm"),sn=io("m"),JA=io("bu"),eL=io("u"),Hb=io("bum"),Sl=io("um"),tL=io("sp"),nL=io("rtg"),iL=io("rtc");function rL(t,e=Wt){Gp("ec",t,e)}function $t(t,e){const n=bn;if(n===null)return t;const i=Qp(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[s,a,l,c=Dt]=e[o];s&&(Ue(s)&&(s={mounted:s,updated:s}),s.deep&&Ms(a),r.push({dir:s,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function as(t,e,n,i){const r=t.dirs,o=e&&e.dirs;for(let s=0;s<r.length;s++){const a=r[s];o&&(a.oldValue=o[s].value);let l=a.dir[i];l&&(wl(),Di(l,n,8,[t.el,a,t,e]),xl())}}const Vb="components";function kt(t,e){return ZA(Vb,t,!0,e)||t}const QA=Symbol();function $a(t){return jt(t)?ZA(Vb,t,!1)||t:t||QA}function ZA(t,e,n=!0,i=!1){const r=bn||Wt;if(r){const o=r.type;if(t===Vb){const a=$L(o,!1);if(a&&(a===e||a===Mr(e)||a===zp(Mr(e))))return o}const s=cw(r[t]||o[t],e)||cw(r.appContext[t],e);return!s&&i?o:s}}function cw(t,e){return t&&(t[e]||t[Mr(e)]||t[zp(Mr(e))])}function He(t,e,n,i){let r;const o=n&&n[i];if(Ie(t)||jt(t)){r=new Array(t.length);for(let s=0,a=t.length;s<a;s++)r[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){r=new Array(t);for(let s=0;s<t;s++)r[s]=e(s+1,s,void 0,o&&o[s])}else if(_t(t))if(t[Symbol.iterator])r=Array.from(t,(s,a)=>e(s,a,void 0,o&&o[a]));else{const s=Object.keys(t);r=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const c=s[a];r[a]=e(t[c],c,a,o&&o[a])}}else r=[];return n&&(n[i]=r),r}function Qn(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(Ie(i))for(let r=0;r<i.length;r++)t[i[r].name]=i[r].fn;else i&&(t[i.name]=i.key?(...r)=>{const o=i.fn(...r);return o&&(o.key=i.key),o}:i.fn)}return t}function ke(t,e,n={},i,r){if(bn.isCE||bn.parent&&yc(bn.parent)&&bn.parent.isCE)return e!=="default"&&(n.name=e),Ae("slot",n,i&&i());let o=t[e];o&&o._c&&(o._d=!1),M();const s=o&&eP(o(n)),a=ye(de,{key:n.key||s&&s.key||`_${e}`},s||(i?i():[]),s&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function eP(t){return t.some(e=>qh(e)?!(e.type===$i||e.type===de&&!eP(e.children)):!0)?t:null}const Ry=t=>t?hP(t)?Qp(t)||t.proxy:Ry(t.parent):null,vc=wn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ry(t.parent),$root:t=>Ry(t.root),$emit:t=>t.emit,$options:t=>jb(t),$forceUpdate:t=>t.f||(t.f=()=>Yp(t.update)),$nextTick:t=>t.n||(t.n=Ar.bind(t.proxy)),$watch:t=>YI.bind(t)}),Jg=(t,e)=>t!==Dt&&!t.__isScriptSetup&&ot(t,e),oL={get({_:t},e){const{ctx:n,setupState:i,data:r,props:o,accessCache:s,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=s[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return o[e]}else{if(Jg(i,e))return s[e]=1,i[e];if(r!==Dt&&ot(r,e))return s[e]=2,r[e];if((c=t.propsOptions[0])&&ot(c,e))return s[e]=3,o[e];if(n!==Dt&&ot(n,e))return s[e]=4,n[e];Ey&&(s[e]=0)}}const u=vc[e];let f,h;if(u)return e==="$attrs"&&ii(t,"get",e),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Dt&&ot(n,e))return s[e]=4,n[e];if(h=l.config.globalProperties,ot(h,e))return h[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:o}=t;return Jg(r,e)?(r[e]=n,!0):i!==Dt&&ot(i,e)?(i[e]=n,!0):ot(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:o}},s){let a;return!!n[s]||t!==Dt&&ot(t,s)||Jg(e,s)||(a=o[0])&&ot(a,s)||ot(i,s)||ot(vc,s)||ot(r.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ot(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Ey=!0;function sL(t){const e=jb(t),n=t.proxy,i=t.ctx;Ey=!1,e.beforeCreate&&uw(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:g,deactivated:y,beforeDestroy:m,beforeUnmount:b,destroyed:_,unmounted:w,render:S,renderTracked:A,renderTriggered:x,errorCaptured:k,serverPrefetch:P,expose:E,inheritAttrs:I,components:B,directives:J,filters:ee}=e;if(c&&aL(c,i,null,t.appContext.config.unwrapInjectedRef),s)for(const v in s){const $=s[v];Ue($)&&(i[v]=$.bind(n))}if(r){const v=r.call(n,n);_t(v)&&(t.data=qt(v))}if(Ey=!0,o)for(const v in o){const $=o[v],W=Ue($)?$.bind(n,n):Ue($.get)?$.get.bind(n,n):Xi,Y=!Ue($)&&Ue($.set)?$.set.bind(n):Xi,Q=Z({get:W,set:Y});Object.defineProperty(i,v,{enumerable:!0,configurable:!0,get:()=>Q.value,set:ce=>Q.value=ce})}if(a)for(const v in a)tP(a[v],i,n,v);if(l){const v=Ue(l)?l.call(n):l;Reflect.ownKeys(v).forEach($=>{mc($,v[$])})}u&&uw(u,t,"c");function z(v,$){Ie($)?$.forEach(W=>v(W.bind(n))):$&&v($.bind(n))}if(z(ZI,f),z(sn,h),z(JA,d),z(eL,p),z(XI,g),z(JI,y),z(rL,k),z(iL,A),z(nL,x),z(Hb,b),z(Sl,w),z(tL,P),Ie(E))if(E.length){const v=t.exposed||(t.exposed={});E.forEach($=>{Object.defineProperty(v,$,{get:()=>n[$],set:W=>n[$]=W})})}else t.exposed||(t.exposed={});S&&t.render===Xi&&(t.render=S),I!=null&&(t.inheritAttrs=I),B&&(t.components=B),J&&(t.directives=J)}function aL(t,e,n=Xi,i=!1){Ie(t)&&(t=Iy(t));for(const r in t){const o=t[r];let s;_t(o)?"default"in o?s=mi(o.from||r,o.default,!0):s=mi(o.from||r):s=mi(o),Ge(s)&&i?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function uw(t,e,n){Di(Ie(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function tP(t,e,n,i){const r=i.includes(".")?YA(n,i):()=>n[i];if(jt(t)){const o=e[t];Ue(o)&&mt(r,o)}else if(Ue(t))mt(r,t.bind(n));else if(_t(t))if(Ie(t))t.forEach(o=>tP(o,e,n,i));else{const o=Ue(t.handler)?t.handler.bind(n):e[t.handler];Ue(o)&&mt(r,o,t)}}function jb(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(c=>Yh(l,c,s,!0)),Yh(l,e,s)),_t(e)&&o.set(e,l),l}function Yh(t,e,n,i=!1){const{mixins:r,extends:o}=e;o&&Yh(t,o,n,!0),r&&r.forEach(s=>Yh(t,s,n,!0));for(const s in e)if(!(i&&s==="expose")){const a=lL[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const lL={data:fw,props:gs,emits:gs,methods:gs,computed:gs,beforeCreate:Hn,created:Hn,beforeMount:Hn,mounted:Hn,beforeUpdate:Hn,updated:Hn,beforeDestroy:Hn,beforeUnmount:Hn,destroyed:Hn,unmounted:Hn,activated:Hn,deactivated:Hn,errorCaptured:Hn,serverPrefetch:Hn,components:gs,directives:gs,watch:uL,provide:fw,inject:cL};function fw(t,e){return e?t?function(){return wn(Ue(t)?t.call(this,this):t,Ue(e)?e.call(this,this):e)}:e:t}function cL(t,e){return gs(Iy(t),Iy(e))}function Iy(t){if(Ie(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Hn(t,e){return t?[...new Set([].concat(t,e))]:e}function gs(t,e){return t?wn(wn(Object.create(null),t),e):e}function uL(t,e){if(!t)return e;if(!e)return t;const n=wn(Object.create(null),t);for(const i in e)n[i]=Hn(t[i],e[i]);return n}function fL(t,e,n,i=!1){const r={},o={};Vh(o,Jp,1),t.propsDefaults=Object.create(null),nP(t,e,r,o);for(const s in t.propsOptions[0])s in r||(r[s]=void 0);n?t.props=i?r:MI(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function hL(t,e,n,i){const{props:r,attrs:o,vnode:{patchFlag:s}}=t,a=tt(r),[l]=t.propsOptions;let c=!1;if((i||s>0)&&!(s&16)){if(s&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(qp(t.emitsOptions,h))continue;const d=e[h];if(l)if(ot(o,h))d!==o[h]&&(o[h]=d,c=!0);else{const p=Mr(h);r[p]=Ly(l,a,p,d,t,!1)}else d!==o[h]&&(o[h]=d,c=!0)}}}else{nP(t,e,r,o)&&(c=!0);let u;for(const f in a)(!e||!ot(e,f)&&((u=Xs(f))===f||!ot(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Ly(l,a,f,void 0,t,!0)):delete r[f]);if(o!==a)for(const f in o)(!e||!ot(e,f))&&(delete o[f],c=!0)}c&&Zr(t,"set","$attrs")}function nP(t,e,n,i){const[r,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(Bf(l))continue;const c=e[l];let u;r&&ot(r,u=Mr(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:qp(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,s=!0)}if(o){const l=tt(n),c=a||Dt;for(let u=0;u<o.length;u++){const f=o[u];n[f]=Ly(r,l,f,c[f],t,!ot(c,f))}}return s}function Ly(t,e,n,i,r,o){const s=t[n];if(s!=null){const a=ot(s,"default");if(a&&i===void 0){const l=s.default;if(s.type!==Function&&Ue(l)){const{propsDefaults:c}=r;n in c?i=c[n]:(Wa(r),i=c[n]=l.call(null,e),$s())}else i=l}s[0]&&(o&&!a?i=!1:s[1]&&(i===""||i===Xs(n))&&(i=!0))}return i}function iP(t,e,n=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const o=t.props,s={},a=[];let l=!1;if(!Ue(t)){const u=f=>{l=!0;const[h,d]=iP(f,e,!0);wn(s,h),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return _t(t)&&i.set(t,Pa),Pa;if(Ie(o))for(let u=0;u<o.length;u++){const f=Mr(o[u]);hw(f)&&(s[f]=Dt)}else if(o)for(const u in o){const f=Mr(u);if(hw(f)){const h=o[u],d=s[f]=Ie(h)||Ue(h)?{type:h}:Object.assign({},h);if(d){const p=gw(Boolean,d.type),g=gw(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||ot(d,"default"))&&a.push(f)}}}const c=[s,a];return _t(t)&&i.set(t,c),c}function hw(t){return t[0]!=="$"}function dw(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function pw(t,e){return dw(t)===dw(e)}function gw(t,e){return Ie(e)?e.findIndex(n=>pw(n,t)):Ue(e)&&pw(e,t)?0:-1}const rP=t=>t[0]==="_"||t==="$stable",zb=t=>Ie(t)?t.map(cr):[cr(t)],dL=(t,e,n)=>{if(e._n)return e;const i=Fe((...r)=>zb(e(...r)),n);return i._c=!1,i},oP=(t,e,n)=>{const i=t._ctx;for(const r in t){if(rP(r))continue;const o=t[r];if(Ue(o))e[r]=dL(r,o,i);else if(o!=null){const s=zb(o);e[r]=()=>s}}},sP=(t,e)=>{const n=zb(e);t.slots.default=()=>n},pL=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=tt(e),Vh(e,"_",n)):oP(e,t.slots={})}else t.slots={},e&&sP(t,e);Vh(t.slots,Jp,1)},gL=(t,e,n)=>{const{vnode:i,slots:r}=t;let o=!0,s=Dt;if(i.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(wn(r,e),!n&&a===1&&delete r._):(o=!e.$stable,oP(e,r)),s=e}else e&&(sP(t,e),s={default:1});if(o)for(const a in r)!rP(a)&&!(a in s)&&delete r[a]};function aP(){return{app:null,config:{isNativeTag:UE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mL=0;function yL(t,e){return function(i,r=null){Ue(i)||(i=Object.assign({},i)),r!=null&&!_t(r)&&(r=null);const o=aP(),s=new Set;let a=!1;const l=o.app={_uid:mL++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:NL,get config(){return o.config},set config(c){},use(c,...u){return s.has(c)||(c&&Ue(c.install)?(s.add(c),c.install(l,...u)):Ue(c)&&(s.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,f){if(!a){const h=Ae(i,r);return h.appContext=o,u&&e?e(h,c):t(h,c,f),a=!0,l._container=c,c.__vue_app__=l,Qp(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l}};return l}}function Ny(t,e,n,i,r=!1){if(Ie(t)){t.forEach((h,d)=>Ny(h,e&&(Ie(e)?e[d]:e),n,i,r));return}if(yc(i)&&!r)return;const o=i.shapeFlag&4?Qp(i.component)||i.component.proxy:i.el,s=r?null:o,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Dt?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(jt(c)?(u[c]=null,ot(f,c)&&(f[c]=null)):Ge(c)&&(c.value=null)),Ue(l))Do(l,a,12,[s,u]);else{const h=jt(l),d=Ge(l);if(h||d){const p=()=>{if(t.f){const g=h?ot(f,l)?f[l]:u[l]:l.value;r?Ie(g)&&Ab(g,o):Ie(g)?g.includes(o)||g.push(o):h?(u[l]=[o],ot(f,l)&&(f[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else h?(u[l]=s,ot(f,l)&&(f[l]=s)):d&&(l.value=s,t.k&&(u[t.k]=s))};s?(p.id=-1,Xn(p,n)):p()}}}const Xn=UI;function vL(t){return bL(t)}function bL(t,e){const n=QE();n.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=Xi,insertStaticContent:p}=t,g=(T,R,q,K=null,oe=null,ue=null,pe=!1,fe=null,he=!!R.dynamicChildren)=>{if(T===R)return;T&&!xs(T,R)&&(K=V(T),ce(T,oe,ue,!0),T=null),R.patchFlag===-2&&(he=!1,R.dynamicChildren=null);const{type:se,ref:Te,shapeFlag:we}=R;switch(se){case Xp:y(T,R,q,K);break;case $i:m(T,R,q,K);break;case Hf:T==null&&b(R,q,K,pe);break;case de:B(T,R,q,K,oe,ue,pe,fe,he);break;default:we&1?S(T,R,q,K,oe,ue,pe,fe,he):we&6?J(T,R,q,K,oe,ue,pe,fe,he):(we&64||we&128)&&se.process(T,R,q,K,oe,ue,pe,fe,he,ae)}Te!=null&&oe&&Ny(Te,T&&T.ref,ue,R||T,!R)},y=(T,R,q,K)=>{if(T==null)i(R.el=a(R.children),q,K);else{const oe=R.el=T.el;R.children!==T.children&&c(oe,R.children)}},m=(T,R,q,K)=>{T==null?i(R.el=l(R.children||""),q,K):R.el=T.el},b=(T,R,q,K)=>{[T.el,T.anchor]=p(T.children,R,q,K,T.el,T.anchor)},_=({el:T,anchor:R},q,K)=>{let oe;for(;T&&T!==R;)oe=h(T),i(T,q,K),T=oe;i(R,q,K)},w=({el:T,anchor:R})=>{let q;for(;T&&T!==R;)q=h(T),r(T),T=q;r(R)},S=(T,R,q,K,oe,ue,pe,fe,he)=>{pe=pe||R.type==="svg",T==null?A(R,q,K,oe,ue,pe,fe,he):P(T,R,oe,ue,pe,fe,he)},A=(T,R,q,K,oe,ue,pe,fe)=>{let he,se;const{type:Te,props:we,shapeFlag:Ce,transition:Le,dirs:We}=T;if(he=T.el=s(T.type,ue,we&&we.is,we),Ce&8?u(he,T.children):Ce&16&&k(T.children,he,null,K,oe,ue&&Te!=="foreignObject",pe,fe),We&&as(T,null,K,"created"),x(he,T,T.scopeId,pe,K),we){for(const Xe in we)Xe!=="value"&&!Bf(Xe)&&o(he,Xe,null,we[Xe],ue,T.children,K,oe,N);"value"in we&&o(he,"value",null,we.value),(se=we.onVnodeBeforeMount)&&nr(se,K,T)}We&&as(T,null,K,"beforeMount");const rt=(!oe||oe&&!oe.pendingBranch)&&Le&&!Le.persisted;rt&&Le.beforeEnter(he),i(he,R,q),((se=we&&we.onVnodeMounted)||rt||We)&&Xn(()=>{se&&nr(se,K,T),rt&&Le.enter(he),We&&as(T,null,K,"mounted")},oe)},x=(T,R,q,K,oe)=>{if(q&&d(T,q),K)for(let ue=0;ue<K.length;ue++)d(T,K[ue]);if(oe){let ue=oe.subTree;if(R===ue){const pe=oe.vnode;x(T,pe,pe.scopeId,pe.slotScopeIds,oe.parent)}}},k=(T,R,q,K,oe,ue,pe,fe,he=0)=>{for(let se=he;se<T.length;se++){const Te=T[se]=fe?vo(T[se]):cr(T[se]);g(null,Te,R,q,K,oe,ue,pe,fe)}},P=(T,R,q,K,oe,ue,pe)=>{const fe=R.el=T.el;let{patchFlag:he,dynamicChildren:se,dirs:Te}=R;he|=T.patchFlag&16;const we=T.props||Dt,Ce=R.props||Dt;let Le;q&&ls(q,!1),(Le=Ce.onVnodeBeforeUpdate)&&nr(Le,q,R,T),Te&&as(R,T,q,"beforeUpdate"),q&&ls(q,!0);const We=oe&&R.type!=="foreignObject";if(se?E(T.dynamicChildren,se,fe,q,K,We,ue):pe||$(T,R,fe,null,q,K,We,ue,!1),he>0){if(he&16)I(fe,R,we,Ce,q,K,oe);else if(he&2&&we.class!==Ce.class&&o(fe,"class",null,Ce.class,oe),he&4&&o(fe,"style",we.style,Ce.style,oe),he&8){const rt=R.dynamicProps;for(let Xe=0;Xe<rt.length;Xe++){const H=rt[Xe],re=we[H],Oe=Ce[H];(Oe!==re||H==="value")&&o(fe,H,re,Oe,oe,T.children,q,K,N)}}he&1&&T.children!==R.children&&u(fe,R.children)}else!pe&&se==null&&I(fe,R,we,Ce,q,K,oe);((Le=Ce.onVnodeUpdated)||Te)&&Xn(()=>{Le&&nr(Le,q,R,T),Te&&as(R,T,q,"updated")},K)},E=(T,R,q,K,oe,ue,pe)=>{for(let fe=0;fe<R.length;fe++){const he=T[fe],se=R[fe],Te=he.el&&(he.type===de||!xs(he,se)||he.shapeFlag&70)?f(he.el):q;g(he,se,Te,null,K,oe,ue,pe,!0)}},I=(T,R,q,K,oe,ue,pe)=>{if(q!==K){if(q!==Dt)for(const fe in q)!Bf(fe)&&!(fe in K)&&o(T,fe,q[fe],null,pe,R.children,oe,ue,N);for(const fe in K){if(Bf(fe))continue;const he=K[fe],se=q[fe];he!==se&&fe!=="value"&&o(T,fe,se,he,pe,R.children,oe,ue,N)}"value"in K&&o(T,"value",q.value,K.value)}},B=(T,R,q,K,oe,ue,pe,fe,he)=>{const se=R.el=T?T.el:a(""),Te=R.anchor=T?T.anchor:a("");let{patchFlag:we,dynamicChildren:Ce,slotScopeIds:Le}=R;Le&&(fe=fe?fe.concat(Le):Le),T==null?(i(se,q,K),i(Te,q,K),k(R.children,q,Te,oe,ue,pe,fe,he)):we>0&&we&64&&Ce&&T.dynamicChildren?(E(T.dynamicChildren,Ce,q,oe,ue,pe,fe),(R.key!=null||oe&&R===oe.subTree)&&Wb(T,R,!0)):$(T,R,q,Te,oe,ue,pe,fe,he)},J=(T,R,q,K,oe,ue,pe,fe,he)=>{R.slotScopeIds=fe,T==null?R.shapeFlag&512?oe.ctx.activate(R,q,K,pe,he):ee(R,q,K,oe,ue,pe,he):F(T,R,he)},ee=(T,R,q,K,oe,ue,pe)=>{const fe=T.component=AL(T,K,oe);if(xu(T)&&(fe.ctx.renderer=ae),PL(fe),fe.asyncDep){if(oe&&oe.registerDep(fe,z),!T.el){const he=fe.subTree=Ae($i);m(null,he,R,q)}return}z(fe,T,R,q,oe,ue,pe)},F=(T,R,q)=>{const K=R.component=T.component;if(jI(T,R,q))if(K.asyncDep&&!K.asyncResolved){v(K,R,q);return}else K.next=R,LI(K.update),K.update();else R.el=T.el,K.vnode=R},z=(T,R,q,K,oe,ue,pe)=>{const fe=()=>{if(T.isMounted){let{next:Te,bu:we,u:Ce,parent:Le,vnode:We}=T,rt=Te,Xe;ls(T,!1),Te?(Te.el=We.el,v(T,Te,pe)):Te=We,we&&Ff(we),(Xe=Te.props&&Te.props.onVnodeBeforeUpdate)&&nr(Xe,Le,Te,We),ls(T,!0);const H=Kg(T),re=T.subTree;T.subTree=H,g(re,H,f(re.el),V(re),T,oe,ue),Te.el=H.el,rt===null&&zI(T,H.el),Ce&&Xn(Ce,oe),(Xe=Te.props&&Te.props.onVnodeUpdated)&&Xn(()=>nr(Xe,Le,Te,We),oe)}else{let Te;const{el:we,props:Ce}=R,{bm:Le,m:We,parent:rt}=T,Xe=yc(R);if(ls(T,!1),Le&&Ff(Le),!Xe&&(Te=Ce&&Ce.onVnodeBeforeMount)&&nr(Te,rt,R),ls(T,!0),we&&xe){const H=()=>{T.subTree=Kg(T),xe(we,T.subTree,T,oe,null)};Xe?R.type.__asyncLoader().then(()=>!T.isUnmounted&&H()):H()}else{const H=T.subTree=Kg(T);g(null,H,q,K,T,oe,ue),R.el=H.el}if(We&&Xn(We,oe),!Xe&&(Te=Ce&&Ce.onVnodeMounted)){const H=R;Xn(()=>nr(Te,rt,H),oe)}(R.shapeFlag&256||rt&&yc(rt.vnode)&&rt.vnode.shapeFlag&256)&&T.a&&Xn(T.a,oe),T.isMounted=!0,R=q=K=null}},he=T.effect=new $b(fe,()=>Yp(se),T.scope),se=T.update=()=>he.run();se.id=T.uid,ls(T,!0),se()},v=(T,R,q)=>{R.component=T;const K=T.vnode.props;T.vnode=R,T.next=null,hL(T,R.props,K,q),gL(T,R.children,q),wl(),sw(),xl()},$=(T,R,q,K,oe,ue,pe,fe,he=!1)=>{const se=T&&T.children,Te=T?T.shapeFlag:0,we=R.children,{patchFlag:Ce,shapeFlag:Le}=R;if(Ce>0){if(Ce&128){Y(se,we,q,K,oe,ue,pe,fe,he);return}else if(Ce&256){W(se,we,q,K,oe,ue,pe,fe,he);return}}Le&8?(Te&16&&N(se,oe,ue),we!==se&&u(q,we)):Te&16?Le&16?Y(se,we,q,K,oe,ue,pe,fe,he):N(se,oe,ue,!0):(Te&8&&u(q,""),Le&16&&k(we,q,K,oe,ue,pe,fe,he))},W=(T,R,q,K,oe,ue,pe,fe,he)=>{T=T||Pa,R=R||Pa;const se=T.length,Te=R.length,we=Math.min(se,Te);let Ce;for(Ce=0;Ce<we;Ce++){const Le=R[Ce]=he?vo(R[Ce]):cr(R[Ce]);g(T[Ce],Le,q,null,oe,ue,pe,fe,he)}se>Te?N(T,oe,ue,!0,!1,we):k(R,q,K,oe,ue,pe,fe,he,we)},Y=(T,R,q,K,oe,ue,pe,fe,he)=>{let se=0;const Te=R.length;let we=T.length-1,Ce=Te-1;for(;se<=we&&se<=Ce;){const Le=T[se],We=R[se]=he?vo(R[se]):cr(R[se]);if(xs(Le,We))g(Le,We,q,null,oe,ue,pe,fe,he);else break;se++}for(;se<=we&&se<=Ce;){const Le=T[we],We=R[Ce]=he?vo(R[Ce]):cr(R[Ce]);if(xs(Le,We))g(Le,We,q,null,oe,ue,pe,fe,he);else break;we--,Ce--}if(se>we){if(se<=Ce){const Le=Ce+1,We=Le<Te?R[Le].el:K;for(;se<=Ce;)g(null,R[se]=he?vo(R[se]):cr(R[se]),q,We,oe,ue,pe,fe,he),se++}}else if(se>Ce)for(;se<=we;)ce(T[se],oe,ue,!0),se++;else{const Le=se,We=se,rt=new Map;for(se=We;se<=Ce;se++){const Xt=R[se]=he?vo(R[se]):cr(R[se]);Xt.key!=null&&rt.set(Xt.key,se)}let Xe,H=0;const re=Ce-We+1;let Oe=!1,Ee=0;const at=new Array(re);for(se=0;se<re;se++)at[se]=0;for(se=Le;se<=we;se++){const Xt=T[se];if(H>=re){ce(Xt,oe,ue,!0);continue}let ne;if(Xt.key!=null)ne=rt.get(Xt.key);else for(Xe=We;Xe<=Ce;Xe++)if(at[Xe-We]===0&&xs(Xt,R[Xe])){ne=Xe;break}ne===void 0?ce(Xt,oe,ue,!0):(at[ne-We]=se+1,ne>=Ee?Ee=ne:Oe=!0,g(Xt,R[ne],q,null,oe,ue,pe,fe,he),H++)}const ri=Oe?_L(at):Pa;for(Xe=ri.length-1,se=re-1;se>=0;se--){const Xt=We+se,ne=R[Xt],Se=Xt+1<Te?R[Xt+1].el:K;at[se]===0?g(null,ne,q,Se,oe,ue,pe,fe,he):Oe&&(Xe<0||se!==ri[Xe]?Q(ne,q,Se,2):Xe--)}}},Q=(T,R,q,K,oe=null)=>{const{el:ue,type:pe,transition:fe,children:he,shapeFlag:se}=T;if(se&6){Q(T.component.subTree,R,q,K);return}if(se&128){T.suspense.move(R,q,K);return}if(se&64){pe.move(T,R,q,ae);return}if(pe===de){i(ue,R,q);for(let we=0;we<he.length;we++)Q(he[we],R,q,K);i(T.anchor,R,q);return}if(pe===Hf){_(T,R,q);return}if(K!==2&&se&1&&fe)if(K===0)fe.beforeEnter(ue),i(ue,R,q),Xn(()=>fe.enter(ue),oe);else{const{leave:we,delayLeave:Ce,afterLeave:Le}=fe,We=()=>i(ue,R,q),rt=()=>{we(ue,()=>{We(),Le&&Le()})};Ce?Ce(ue,We,rt):rt()}else i(ue,R,q)},ce=(T,R,q,K=!1,oe=!1)=>{const{type:ue,props:pe,ref:fe,children:he,dynamicChildren:se,shapeFlag:Te,patchFlag:we,dirs:Ce}=T;if(fe!=null&&Ny(fe,null,q,T,!0),Te&256){R.ctx.deactivate(T);return}const Le=Te&1&&Ce,We=!yc(T);let rt;if(We&&(rt=pe&&pe.onVnodeBeforeUnmount)&&nr(rt,R,T),Te&6)O(T.component,q,K);else{if(Te&128){T.suspense.unmount(q,K);return}Le&&as(T,null,R,"beforeUnmount"),Te&64?T.type.remove(T,R,q,oe,ae,K):se&&(ue!==de||we>0&&we&64)?N(se,R,q,!1,!0):(ue===de&&we&384||!oe&&Te&16)&&N(he,R,q),K&&X(T)}(We&&(rt=pe&&pe.onVnodeUnmounted)||Le)&&Xn(()=>{rt&&nr(rt,R,T),Le&&as(T,null,R,"unmounted")},q)},X=T=>{const{type:R,el:q,anchor:K,transition:oe}=T;if(R===de){L(q,K);return}if(R===Hf){w(T);return}const ue=()=>{r(q),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(T.shapeFlag&1&&oe&&!oe.persisted){const{leave:pe,delayLeave:fe}=oe,he=()=>pe(q,ue);fe?fe(T.el,ue,he):he()}else ue()},L=(T,R)=>{let q;for(;T!==R;)q=h(T),r(T),T=q;r(R)},O=(T,R,q)=>{const{bum:K,scope:oe,update:ue,subTree:pe,um:fe}=T;K&&Ff(K),oe.stop(),ue&&(ue.active=!1,ce(pe,T,R,q)),fe&&Xn(fe,R),Xn(()=>{T.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},N=(T,R,q,K=!1,oe=!1,ue=0)=>{for(let pe=ue;pe<T.length;pe++)ce(T[pe],R,q,K,oe)},V=T=>T.shapeFlag&6?V(T.component.subTree):T.shapeFlag&128?T.suspense.next():h(T.anchor||T.el),G=(T,R,q)=>{T==null?R._vnode&&ce(R._vnode,null,null,!0):g(R._vnode||null,T,R,null,null,null,q),sw(),jA(),R._vnode=T},ae={p:g,um:ce,m:Q,r:X,mt:ee,mc:k,pc:$,pbc:E,n:V,o:t};let _e,xe;return e&&([_e,xe]=e(ae)),{render:G,hydrate:_e,createApp:yL(G,_e)}}function ls({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Wb(t,e,n=!1){const i=t.children,r=e.children;if(Ie(i)&&Ie(r))for(let o=0;o<i.length;o++){const s=i[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=vo(r[o]),a.el=s.el),n||Wb(s,a)),a.type===Xp&&(a.el=s.el)}}function _L(t){const e=t.slice(),n=[0];let i,r,o,s,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<c?o=a+1:s=a;c<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}const wL=t=>t.__isTeleport,bc=t=>t&&(t.disabled||t.disabled===""),mw=t=>typeof SVGElement<"u"&&t instanceof SVGElement,By=(t,e)=>{const n=t&&t.to;return jt(n)?e?e(n):null:n},xL={__isTeleport:!0,process(t,e,n,i,r,o,s,a,l,c){const{mc:u,pc:f,pbc:h,o:{insert:d,querySelector:p,createText:g,createComment:y}}=c,m=bc(e.props);let{shapeFlag:b,children:_,dynamicChildren:w}=e;if(t==null){const S=e.el=g(""),A=e.anchor=g("");d(S,n,i),d(A,n,i);const x=e.target=By(e.props,p),k=e.targetAnchor=g("");x&&(d(k,x),s=s||mw(x));const P=(E,I)=>{b&16&&u(_,E,I,r,o,s,a,l)};m?P(n,A):x&&P(x,k)}else{e.el=t.el;const S=e.anchor=t.anchor,A=e.target=t.target,x=e.targetAnchor=t.targetAnchor,k=bc(t.props),P=k?n:A,E=k?S:x;if(s=s||mw(A),w?(h(t.dynamicChildren,w,P,r,o,s,a),Wb(t,e,!0)):l||f(t,e,P,E,r,o,s,a,!1),m)k||Xu(e,n,S,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const I=e.target=By(e.props,p);I&&Xu(e,I,null,c,0)}else k&&Xu(e,A,x,c,1)}cP(e)},remove(t,e,n,i,{um:r,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:f,props:h}=t;if(f&&o(u),(s||!bc(h))&&(o(c),a&16))for(let d=0;d<l.length;d++){const p=l[d];r(p,e,n,!0,!!p.dynamicChildren)}},move:Xu,hydrate:SL};function Xu(t,e,n,{o:{insert:i},m:r},o=2){o===0&&i(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=t,f=o===2;if(f&&i(s,e,n),(!f||bc(u))&&l&16)for(let h=0;h<c.length;h++)r(c[h],e,n,2);f&&i(a,e,n)}function SL(t,e,n,i,r,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=e.target=By(e.props,l);if(u){const f=u._lpa||u.firstChild;if(e.shapeFlag&16)if(bc(e.props))e.anchor=c(s(t),e,a(t),n,i,r,o),e.targetAnchor=f;else{e.anchor=s(t);let h=f;for(;h;)if(h=s(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}c(f,e,u,n,i,r,o)}cP(e)}return e.anchor&&s(e.anchor)}const lP=xL;function cP(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const de=Symbol(void 0),Xp=Symbol(void 0),$i=Symbol(void 0),Hf=Symbol(void 0),_c=[];let Yi=null;function M(t=!1){_c.push(Yi=t?null:[])}function kL(){_c.pop(),Yi=_c[_c.length-1]||null}let Kc=1;function yw(t){Kc+=t}function uP(t){return t.dynamicChildren=Kc>0?Yi||Pa:null,kL(),Kc>0&&Yi&&Yi.push(t),t}function D(t,e,n,i,r,o){return uP(j(t,e,n,i,r,o,!0))}function ye(t,e,n,i,r){return uP(Ae(t,e,n,i,r,!0))}function qh(t){return t?t.__v_isVNode===!0:!1}function xs(t,e){return t.type===e.type&&t.key===e.key}const Jp="__vInternal",fP=({key:t})=>t??null,Vf=({ref:t,ref_key:e,ref_for:n})=>t!=null?jt(t)||Ge(t)||Ue(t)?{i:bn,r:t,k:e,f:!!n}:t:null;function j(t,e=null,n=null,i=0,r=null,o=t===de?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&fP(e),ref:e&&Vf(e),scopeId:Kp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:bn};return a?(Yb(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=jt(n)?8:16),Kc>0&&!s&&Yi&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Yi.push(l),l}const Ae=CL;function CL(t,e=null,n=null,i=0,r=null,o=!1){if((!t||t===QA)&&(t=$i),qh(t)){const a=No(t,e,!0);return n&&Yb(a,n),Kc>0&&!o&&Yi&&(a.shapeFlag&6?Yi[Yi.indexOf(t)]=a:Yi.push(a)),a.patchFlag|=-2,a}if(RL(t)&&(t=t.__vccOpts),e){e=gr(e);let{class:a,style:l}=e;a&&!jt(a)&&(e.class=je(a)),_t(l)&&(EA(l)&&!Ie(l)&&(l=wn({},l)),e.style=gt(l))}const s=jt(t)?1:WI(t)?128:wL(t)?64:_t(t)?4:Ue(t)?2:0;return j(t,e,n,i,r,s,o,!0)}function gr(t){return t?EA(t)||Jp in t?wn({},t):t:null}function No(t,e,n=!1){const{props:i,ref:r,patchFlag:o,children:s}=t,a=e?nn(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&fP(a),ref:e&&e.ref?n&&r?Ie(r)?r.concat(Vf(e)):[r,Vf(e)]:Vf(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==de?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&No(t.ssContent),ssFallback:t.ssFallback&&No(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Yt(t=" ",e=0){return Ae(Xp,null,t,e)}function Ub(t,e){const n=Ae(Hf,null,t);return n.staticCount=e,n}function U(t="",e=!1){return e?(M(),ye($i,null,t)):Ae($i,null,t)}function cr(t){return t==null||typeof t=="boolean"?Ae($i):Ie(t)?Ae(de,null,t.slice()):typeof t=="object"?vo(t):Ae(Xp,null,String(t))}function vo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:No(t)}function Yb(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ie(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),Yb(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Jp in e)?e._ctx=bn:r===3&&bn&&(bn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ue(e)?(e={default:e,_ctx:bn},n=32):(e=String(e),i&64?(n=16,e=[Yt(e)]):n=8);t.children=e,t.shapeFlag|=n}function nn(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=je([e.class,i.class]));else if(r==="style")e.style=gt([e.style,i.style]);else if(Hp(r)){const o=e[r],s=i[r];s&&o!==s&&!(Ie(o)&&o.includes(s))&&(e[r]=o?[].concat(o,s):s)}else r!==""&&(e[r]=i[r])}return e}function nr(t,e,n,i=null){Di(t,e,7,[n,i])}const OL=aP();let ML=0;function AL(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||OL,o={uid:ML++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new wA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:iP(i,r),emitsOptions:WA(i,r),emit:null,emitted:null,propsDefaults:Dt,inheritAttrs:i.inheritAttrs,ctx:Dt,data:Dt,props:Dt,attrs:Dt,slots:Dt,refs:Dt,setupState:Dt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=FI.bind(null,o),t.ce&&t.ce(o),o}let Wt=null;const Su=()=>Wt||bn,Wa=t=>{Wt=t,t.scope.on()},$s=()=>{Wt&&Wt.scope.off(),Wt=null};function hP(t){return t.vnode.shapeFlag&4}let Ua=!1;function PL(t,e=!1){Ua=e;const{props:n,children:i}=t.vnode,r=hP(t);fL(t,n,r,e),pL(t,i);const o=r?TL(t,e):void 0;return Ua=!1,o}function TL(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=za(new Proxy(t.ctx,oL));const{setup:i}=n;if(i){const r=t.setupContext=i.length>1?pP(t):null;Wa(t),wl();const o=Do(i,t,0,[t.props,r]);if(xl(),$s(),vA(o)){if(o.then($s,$s),e)return o.then(s=>{vw(t,s,e)}).catch(s=>{wu(s,t,0)});t.asyncDep=o}else vw(t,o,e)}else dP(t,e)}function vw(t,e,n){Ue(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:_t(e)&&(t.setupState=BA(e)),dP(t,n)}let bw;function dP(t,e,n){const i=t.type;if(!t.render){if(!e&&bw&&!i.render){const r=i.template||jb(t).template;if(r){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=wn(wn({isCustomElement:o,delimiters:a},s),l);i.render=bw(r,c)}}t.render=i.render||Xi}Wa(t),wl(),sL(t),xl(),$s()}function DL(t){return new Proxy(t.attrs,{get(e,n){return ii(t,"get","$attrs"),e[n]}})}function pP(t){const e=i=>{t.exposed=i||{}};let n;return{get attrs(){return n||(n=DL(t))},slots:t.slots,emit:t.emit,expose:e}}function Qp(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(BA(za(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in vc)return vc[n](t)},has(e,n){return n in e||n in vc}}))}function $L(t,e=!0){return Ue(t)?t.displayName||t.name:t.name||e&&t.__name}function RL(t){return Ue(t)&&"__vccOpts"in t}const Z=(t,e)=>RI(t,e,Ua);function qb(){return EL().slots}function EL(){const t=Su();return t.setupContext||(t.setupContext=pP(t))}function Gc(t,e,n){const i=arguments.length;return i===2?_t(e)&&!Ie(e)?qh(e)?Ae(t,null,[e]):Ae(t,e):Ae(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&qh(n)&&(n=[n]),Ae(t,e,n))}const IL=Symbol(""),LL=()=>mi(IL),NL="3.2.47",BL="http://www.w3.org/2000/svg",Ss=typeof document<"u"?document:null,_w=Ss&&Ss.createElement("template"),FL={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e?Ss.createElementNS(BL,t):Ss.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Ss.createTextNode(t),createComment:t=>Ss.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ss.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,o){const s=n?n.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{_w.innerHTML=i?`<svg>${t}</svg>`:t;const a=_w.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function HL(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function VL(t,e,n){const i=t.style,r=jt(n);if(n&&!r){if(e&&!jt(e))for(const o in e)n[o]==null&&Fy(i,o,"");for(const o in n)Fy(i,o,n[o])}else{const o=i.display;r?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=o)}}const ww=/\s*!important$/;function Fy(t,e,n){if(Ie(n))n.forEach(i=>Fy(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=jL(t,e);ww.test(n)?t.setProperty(Xs(i),n.replace(ww,""),"important"):t[i]=n}}const xw=["Webkit","Moz","ms"],Qg={};function jL(t,e){const n=Qg[e];if(n)return n;let i=Mr(e);if(i!=="filter"&&i in t)return Qg[e]=i;i=zp(i);for(let r=0;r<xw.length;r++){const o=xw[r]+i;if(o in t)return Qg[e]=o}return e}const Sw="http://www.w3.org/1999/xlink";function zL(t,e,n,i,r){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Sw,e.slice(6,e.length)):t.setAttributeNS(Sw,e,n);else{const o=jE(e);n==null||o&&!mA(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function WL(t,e,n,i,r,o,s){if(e==="innerHTML"||e==="textContent"){i&&s(i,r,o),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n??"";(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=mA(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function ks(t,e,n,i){t.addEventListener(e,n,i)}function UL(t,e,n,i){t.removeEventListener(e,n,i)}function YL(t,e,n,i,r=null){const o=t._vei||(t._vei={}),s=o[e];if(i&&s)s.value=i;else{const[a,l]=qL(e);if(i){const c=o[e]=XL(i,r);ks(t,a,c,l)}else s&&(UL(t,a,s,l),o[e]=void 0)}}const kw=/(?:Once|Passive|Capture)$/;function qL(t){let e;if(kw.test(t)){e={};let i;for(;i=t.match(kw);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Xs(t.slice(2)),e]}let Zg=0;const KL=Promise.resolve(),GL=()=>Zg||(KL.then(()=>Zg=0),Zg=Date.now());function XL(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Di(JL(i,n.value),e,5,[i])};return n.value=t,n.attached=GL(),n}function JL(t,e){if(Ie(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const Cw=/^on[a-z]/,QL=(t,e,n,i,r=!1,o,s,a,l)=>{e==="class"?HL(t,i,r):e==="style"?VL(t,n,i):Hp(e)?Mb(e)||YL(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ZL(t,e,i,r))?WL(t,e,i,o,s,a,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),zL(t,e,i,r))};function ZL(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&Cw.test(e)&&Ue(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Cw.test(e)&&jt(n)?!1:e in t}const uo="transition",Il="animation",Xo=(t,{slots:e})=>Gc(qA,eN(t),e);Xo.displayName="Transition";const gP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Xo.props=wn({},qA.props,gP);const cs=(t,e=[])=>{Ie(t)?t.forEach(n=>n(...e)):t&&t(...e)},Ow=t=>t?Ie(t)?t.some(e=>e.length>1):t.length>1:!1;function eN(t){const e={};for(const B in t)B in gP||(e[B]=t[B]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,p=tN(r),g=p&&p[0],y=p&&p[1],{onBeforeEnter:m,onEnter:b,onEnterCancelled:_,onLeave:w,onLeaveCancelled:S,onBeforeAppear:A=m,onAppear:x=b,onAppearCancelled:k=_}=e,P=(B,J,ee)=>{us(B,J?u:a),us(B,J?c:s),ee&&ee()},E=(B,J)=>{B._isLeaving=!1,us(B,f),us(B,d),us(B,h),J&&J()},I=B=>(J,ee)=>{const F=B?x:b,z=()=>P(J,B,ee);cs(F,[J,z]),Mw(()=>{us(J,B?l:o),fo(J,B?u:a),Ow(F)||Aw(J,i,g,z)})};return wn(e,{onBeforeEnter(B){cs(m,[B]),fo(B,o),fo(B,s)},onBeforeAppear(B){cs(A,[B]),fo(B,l),fo(B,c)},onEnter:I(!1),onAppear:I(!0),onLeave(B,J){B._isLeaving=!0;const ee=()=>E(B,J);fo(B,f),rN(),fo(B,h),Mw(()=>{B._isLeaving&&(us(B,f),fo(B,d),Ow(w)||Aw(B,i,y,ee))}),cs(w,[B,ee])},onEnterCancelled(B){P(B,!1),cs(_,[B])},onAppearCancelled(B){P(B,!0),cs(k,[B])},onLeaveCancelled(B){E(B),cs(S,[B])}})}function tN(t){if(t==null)return null;if(_t(t))return[em(t.enter),em(t.leave)];{const e=em(t);return[e,e]}}function em(t){return JE(t)}function fo(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function us(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Mw(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let nN=0;function Aw(t,e,n,i){const r=t._endId=++nN,o=()=>{r===t._endId&&i()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=iN(t,e);if(!s)return i();const c=s+"end";let u=0;const f=()=>{t.removeEventListener(c,h),o()},h=d=>{d.target===t&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),t.addEventListener(c,h)}function iN(t,e){const n=window.getComputedStyle(t),i=p=>(n[p]||"").split(", "),r=i(`${uo}Delay`),o=i(`${uo}Duration`),s=Pw(r,o),a=i(`${Il}Delay`),l=i(`${Il}Duration`),c=Pw(a,l);let u=null,f=0,h=0;e===uo?s>0&&(u=uo,f=s,h=o.length):e===Il?c>0&&(u=Il,f=c,h=l.length):(f=Math.max(s,c),u=f>0?s>c?uo:Il:null,h=u?u===uo?o.length:l.length:0);const d=u===uo&&/\b(transform|all)(,|$)/.test(i(`${uo}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:d}}function Pw(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>Tw(n)+Tw(t[i])))}function Tw(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function rN(){return document.body.offsetHeight}const Kh=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ie(e)?n=>Ff(e,n):e};function oN(t){t.target.composing=!0}function Dw(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const qi={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t._assign=Kh(r);const o=i||r.props&&r.props.type==="number";ks(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=jh(a)),t._assign(a)}),n&&ks(t,"change",()=>{t.value=t.value.trim()}),e||(ks(t,"compositionstart",oN),ks(t,"compositionend",Dw),ks(t,"change",Dw))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:r}},o){if(t._assign=Kh(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(r||t.type==="number")&&jh(t.value)===e))return;const s=e??"";t.value!==s&&(t.value=s)}},So={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const r=Vp(e);ks(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?jh(Gh(s)):Gh(s));t._assign(t.multiple?r?new Set(o):o:o[0])}),t._assign=Kh(i)},mounted(t,{value:e}){$w(t,e)},beforeUpdate(t,e,n){t._assign=Kh(n)},updated(t,{value:e}){$w(t,e)}};function $w(t,e){const n=t.multiple;if(!(n&&!Ie(e)&&!Vp(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],s=Gh(o);if(n)Ie(e)?o.selected=WE(e,s)>-1:o.selected=e.has(s);else if(Fp(Gh(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Gh(t){return"_value"in t?t._value:t.value}const sN=["ctrl","shift","alt","meta"],aN={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>sN.some(n=>t[`${n}Key`]&&!e.includes(n))},hi=(t,e)=>(n,...i)=>{for(let r=0;r<e.length;r++){const o=aN[e[r]];if(o&&o(n,e))return}return t(n,...i)},lN={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Qe=(t,e)=>n=>{if(!("key"in n))return;const i=Xs(n.key);if(e.some(r=>r===i||lN[r]===i))return t(n)},Ra={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ll(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Ll(t,!0),i.enter(t)):i.leave(t,()=>{Ll(t,!1)}):Ll(t,e))},beforeUnmount(t,{value:e}){Ll(t,e)}};function Ll(t,e){t.style.display=e?t._vod:"none"}const cN=wn({patchProp:QL},FL);let Rw;function uN(){return Rw||(Rw=vL(cN))}const fN=(...t)=>{const e=uN().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=hN(i);if(!r)return;const o=e._component;!Ue(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};function hN(t){return jt(t)?document.querySelector(t):t}var dN=!1;/*!
  * pinia v2.0.33
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let mP;const Zp=t=>mP=t,yP=Symbol();function Hy(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var wc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(wc||(wc={}));function pN(){const t=xA(!0),e=t.run(()=>te({}));let n=[],i=[];const r=za({install(o){Zp(r),r._a=o,o.provide(yP,r),o.config.globalProperties.$pinia=r,i.forEach(s=>n.push(s)),i=[]},use(o){return!this._a&&!dN?i.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const vP=()=>{};function Ew(t,e,n,i=vP){t.push(e);const r=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!n&&Wp()&&Tb(r),r}function ua(t,...e){t.slice().forEach(n=>{n(...e)})}function Vy(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],r=t[n];Hy(r)&&Hy(i)&&t.hasOwnProperty(n)&&!Ge(i)&&!Xr(i)?t[n]=Vy(r,i):t[n]=i}return t}const gN=Symbol();function mN(t){return!Hy(t)||!t.hasOwnProperty(gN)}const{assign:yo}=Object;function yN(t){return!!(Ge(t)&&t.effect)}function vN(t,e,n,i){const{state:r,actions:o,getters:s}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const u=TI(n.state.value[t]);return yo(u,o,Object.keys(s||{}).reduce((f,h)=>(f[h]=za(Z(()=>{Zp(n);const d=n._s.get(t);return s[h].call(d,d)})),f),{}))}return l=bP(t,c,e,n,i,!0),l}function bP(t,e,n={},i,r,o){let s;const a=yo({actions:{}},n),l={deep:!0};let c,u,f=za([]),h=za([]),d;const p=i.state.value[t];!o&&!p&&(i.state.value[t]={}),te({});let g;function y(x){let k;c=u=!1,typeof x=="function"?(x(i.state.value[t]),k={type:wc.patchFunction,storeId:t,events:d}):(Vy(i.state.value[t],x),k={type:wc.patchObject,payload:x,storeId:t,events:d});const P=g=Symbol();Ar().then(()=>{g===P&&(c=!0)}),u=!0,ua(f,k,i.state.value[t])}const m=o?function(){const{state:k}=n,P=k?k():{};this.$patch(E=>{yo(E,P)})}:vP;function b(){s.stop(),f=[],h=[],i._s.delete(t)}function _(x,k){return function(){Zp(i);const P=Array.from(arguments),E=[],I=[];function B(F){E.push(F)}function J(F){I.push(F)}ua(h,{args:P,name:x,store:S,after:B,onError:J});let ee;try{ee=k.apply(this&&this.$id===t?this:S,P)}catch(F){throw ua(I,F),F}return ee instanceof Promise?ee.then(F=>(ua(E,F),F)).catch(F=>(ua(I,F),Promise.reject(F))):(ua(E,ee),ee)}}const w={_p:i,$id:t,$onAction:Ew.bind(null,h),$patch:y,$reset:m,$subscribe(x,k={}){const P=Ew(f,x,k.detached,()=>E()),E=s.run(()=>mt(()=>i.state.value[t],I=>{(k.flush==="sync"?u:c)&&x({storeId:t,type:wc.direct,events:d},I)},yo({},l,k)));return P},$dispose:b},S=qt(w);i._s.set(t,S);const A=i._e.run(()=>(s=xA(),s.run(()=>e())));for(const x in A){const k=A[x];if(Ge(k)&&!yN(k)||Xr(k))o||(p&&mN(k)&&(Ge(k)?k.value=p[x]:Vy(k,p[x])),i.state.value[t][x]=k);else if(typeof k=="function"){const P=_(x,k);A[x]=P,a.actions[x]=k}}return yo(S,A),yo(tt(S),A),Object.defineProperty(S,"$state",{get:()=>i.state.value[t],set:x=>{y(k=>{yo(k,x)})}}),i._p.forEach(x=>{yo(S,s.run(()=>x({store:S,app:i._a,pinia:i,options:a})))}),p&&o&&n.hydrate&&n.hydrate(S.$state,p),c=!0,u=!0,S}function _P(t,e,n){let i,r;const o=typeof e=="function";typeof t=="string"?(i=t,r=o?n:e):(r=t,i=t.id);function s(a,l){const c=Su();return a=a||c&&mi(yP,null),a&&Zp(a),a=mP,a._s.has(i)||(o?bP(i,e,r,a):vN(i,r,a)),a._s.get(i)}return s.$id=i,s}function bN(t){{t=tt(t);const e={};for(const n in t){const i=t[n];(Ge(i)||Xr(i))&&(e[n]=Fs(t,n))}return e}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Sa=typeof window<"u";function _N(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ht=Object.assign;function tm(t,e){const n={};for(const i in e){const r=e[i];n[i]=Ji(r)?r.map(t):t(r)}return n}const xc=()=>{},Ji=Array.isArray,wN=/\/$/,xN=t=>t.replace(wN,"");function nm(t,e,n="/"){let i,r={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),r=t(o)),a>-1&&(i=i||e.slice(0,a),s=e.slice(a,e.length)),i=ON(i??e,n),{fullPath:i+(o&&"?")+o+s,path:i,query:r,hash:s}}function SN(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Iw(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function kN(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Ya(e.matched[i],n.matched[r])&&wP(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ya(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function wP(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!CN(t[n],e[n]))return!1;return!0}function CN(t,e){return Ji(t)?Lw(t,e):Ji(e)?Lw(e,t):t===e}function Lw(t,e){return Ji(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function ON(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/");let r=n.length-1,o,s;for(o=0;o<i.length;o++)if(s=i[o],s!==".")if(s==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var Xc;(function(t){t.pop="pop",t.push="push"})(Xc||(Xc={}));var Sc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Sc||(Sc={}));function MN(t){if(!t)if(Sa){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),xN(t)}const AN=/^[^#]+#/;function PN(t,e){return t.replace(AN,"#")+e}function TN(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const eg=()=>({left:window.pageXOffset,top:window.pageYOffset});function DN(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=TN(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Nw(t,e){return(history.state?history.state.position-e:-1)+t}const jy=new Map;function $N(t,e){jy.set(t,e)}function RN(t){const e=jy.get(t);return jy.delete(t),e}let EN=()=>location.protocol+"//"+location.host;function xP(t,e){const{pathname:n,search:i,hash:r}=e,o=t.indexOf("#");if(o>-1){let a=r.includes(t.slice(o))?t.slice(o).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Iw(l,"")}return Iw(n,t)+i+r}function IN(t,e,n,i){let r=[],o=[],s=null;const a=({state:h})=>{const d=xP(t,location),p=n.value,g=e.value;let y=0;if(h){if(n.value=d,e.value=h,s&&s===p){s=null;return}y=g?h.position-g.position:0}else i(d);r.forEach(m=>{m(n.value,p,{delta:y,type:Xc.pop,direction:y?y>0?Sc.forward:Sc.back:Sc.unknown})})};function l(){s=n.value}function c(h){r.push(h);const d=()=>{const p=r.indexOf(h);p>-1&&r.splice(p,1)};return o.push(d),d}function u(){const{history:h}=window;h.state&&h.replaceState(ht({},h.state,{scroll:eg()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:f}}function Bw(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?eg():null}}function LN(t){const{history:e,location:n}=window,i={value:xP(t,n)},r={value:e.state};r.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:EN()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),r.value=c}catch(d){console.error(d),n[u?"replace":"assign"](h)}}function s(l,c){const u=ht({},e.state,Bw(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});o(l,u,!0),i.value=l}function a(l,c){const u=ht({},r.value,e.state,{forward:l,scroll:eg()});o(u.current,u,!0);const f=ht({},Bw(i.value,l,null),{position:u.position+1},c);o(l,f,!1),i.value=l}return{location:i,state:r,push:a,replace:s}}function NN(t){t=MN(t);const e=LN(t),n=IN(t,e.state,e.location,e.replace);function i(o,s=!0){s||n.pauseListeners(),history.go(o)}const r=ht({location:"",base:t,go:i,createHref:PN.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function BN(t){return typeof t=="string"||t&&typeof t=="object"}function SP(t){return typeof t=="string"||typeof t=="symbol"}const ho={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},kP=Symbol("");var Fw;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Fw||(Fw={}));function qa(t,e){return ht(new Error,{type:t,[kP]:!0},e)}function Lr(t,e){return t instanceof Error&&kP in t&&(e==null||!!(t.type&e))}const Hw="[^/]+?",FN={sensitive:!1,strict:!1,start:!0,end:!0},HN=/[.+*?^${}()[\]/\\]/g;function VN(t,e){const n=ht({},FN,e),i=[];let r=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const h=c[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(HN,"\\$&"),d+=40;else if(h.type===1){const{value:p,repeatable:g,optional:y,regexp:m}=h;o.push({name:p,repeatable:g,optional:y});const b=m||Hw;if(b!==Hw){d+=10;try{new RegExp(`(${b})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+w.message)}}let _=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(_=y&&c.length<2?`(?:/${_})`:"/"+_),y&&(_+="?"),r+=_,d+=20,y&&(d+=-8),g&&(d+=-20),b===".*"&&(d+=-50)}u.push(d)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(s),f={};if(!u)return null;for(let h=1;h<u.length;h++){const d=u[h]||"",p=o[h-1];f[p.name]=d&&p.repeatable?d.split("/"):d}return f}function l(c){let u="",f=!1;for(const h of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const d of h)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:g,optional:y}=d,m=p in c?c[p]:"";if(Ji(m)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=Ji(m)?m.join("/"):m;if(!b)if(y)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);u+=b}}return u||"/"}return{re:s,score:i,keys:o,parse:a,stringify:l}}function jN(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function zN(t,e){let n=0;const i=t.score,r=e.score;for(;n<i.length&&n<r.length;){const o=jN(i[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-i.length)===1){if(Vw(i))return 1;if(Vw(r))return-1}return r.length-i.length}function Vw(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const WN={type:0,value:""},UN=/[a-zA-Z0-9_]/;function YN(t){if(!t)return[[]];if(t==="/")return[[WN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,i=n;const r=[];let o;function s(){o&&r.push(o),o=[]}let a=0,l,c="",u="";function f(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),s()):l===":"?(f(),n=1):h();break;case 4:h(),n=i;break;case 1:l==="("?n=2:UN.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),s(),r}function qN(t,e,n){const i=VN(YN(t.path),n),r=ht(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function KN(t,e){const n=[],i=new Map;e=Ww({strict:!1,end:!0,sensitive:!1},e);function r(u){return i.get(u)}function o(u,f,h){const d=!h,p=GN(u);p.aliasOf=h&&h.record;const g=Ww(e,u),y=[p];if("alias"in u){const _=typeof u.alias=="string"?[u.alias]:u.alias;for(const w of _)y.push(ht({},p,{components:h?h.record.components:p.components,path:w,aliasOf:h?h.record:p}))}let m,b;for(const _ of y){const{path:w}=_;if(f&&w[0]!=="/"){const S=f.record.path,A=S[S.length-1]==="/"?"":"/";_.path=f.record.path+(w&&A+w)}if(m=qN(_,f,g),h?h.alias.push(m):(b=b||m,b!==m&&b.alias.push(m),d&&u.name&&!zw(m)&&s(u.name)),p.children){const S=p.children;for(let A=0;A<S.length;A++)o(S[A],m,h&&h.children[A])}h=h||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&l(m)}return b?()=>{s(b)}:xc}function s(u){if(SP(u)){const f=i.get(u);f&&(i.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&i.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function a(){return n}function l(u){let f=0;for(;f<n.length&&zN(u,n[f])>=0&&(u.record.path!==n[f].record.path||!CP(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!zw(u)&&i.set(u.record.name,u)}function c(u,f){let h,d={},p,g;if("name"in u&&u.name){if(h=i.get(u.name),!h)throw qa(1,{location:u});g=h.record.name,d=ht(jw(f.params,h.keys.filter(b=>!b.optional).map(b=>b.name)),u.params&&jw(u.params,h.keys.map(b=>b.name))),p=h.stringify(d)}else if("path"in u)p=u.path,h=n.find(b=>b.re.test(p)),h&&(d=h.parse(p),g=h.record.name);else{if(h=f.name?i.get(f.name):n.find(b=>b.re.test(f.path)),!h)throw qa(1,{location:u,currentLocation:f});g=h.record.name,d=ht({},f.params,u.params),p=h.stringify(d)}const y=[];let m=h;for(;m;)y.unshift(m.record),m=m.parent;return{name:g,path:p,params:d,matched:y,meta:JN(y)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:s,getRoutes:a,getRecordMatcher:r}}function jw(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function GN(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:XN(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function XN(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="boolean"?n:n[i];return e}function zw(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function JN(t){return t.reduce((e,n)=>ht(e,n.meta),{})}function Ww(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function CP(t,e){return e.children.some(n=>n===t||CP(t,n))}const OP=/#/g,QN=/&/g,ZN=/\//g,eB=/=/g,tB=/\?/g,MP=/\+/g,nB=/%5B/g,iB=/%5D/g,AP=/%5E/g,rB=/%60/g,PP=/%7B/g,oB=/%7C/g,TP=/%7D/g,sB=/%20/g;function Kb(t){return encodeURI(""+t).replace(oB,"|").replace(nB,"[").replace(iB,"]")}function aB(t){return Kb(t).replace(PP,"{").replace(TP,"}").replace(AP,"^")}function zy(t){return Kb(t).replace(MP,"%2B").replace(sB,"+").replace(OP,"%23").replace(QN,"%26").replace(rB,"`").replace(PP,"{").replace(TP,"}").replace(AP,"^")}function lB(t){return zy(t).replace(eB,"%3D")}function cB(t){return Kb(t).replace(OP,"%23").replace(tB,"%3F")}function uB(t){return t==null?"":cB(t).replace(ZN,"%2F")}function Xh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function fB(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const o=i[r].replace(MP," "),s=o.indexOf("="),a=Xh(s<0?o:o.slice(0,s)),l=s<0?null:Xh(o.slice(s+1));if(a in e){let c=e[a];Ji(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Uw(t){let e="";for(let n in t){const i=t[n];if(n=lB(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ji(i)?i.map(o=>o&&zy(o)):[i&&zy(i)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function hB(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Ji(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const dB=Symbol(""),Yw=Symbol(""),Gb=Symbol(""),Xb=Symbol(""),Wy=Symbol("");function Nl(){let t=[];function e(i){return t.push(i),()=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function bo(t,e,n,i,r){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((s,a)=>{const l=f=>{f===!1?a(qa(4,{from:n,to:e})):f instanceof Error?a(f):BN(f)?a(qa(2,{from:e,to:f})):(o&&i.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),s())},c=t.call(i&&i.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(f=>a(f))})}function im(t,e,n,i){const r=[];for(const o of t)for(const s in o.components){let a=o.components[s];if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(pB(a)){const c=(a.__vccOpts||a)[e];c&&r.push(bo(c,n,i,o,s))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const u=_N(c)?c.default:c;o.components[s]=u;const h=(u.__vccOpts||u)[e];return h&&bo(h,n,i,o,s)()}))}}return r}function pB(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function qw(t){const e=mi(Gb),n=mi(Xb),i=Z(()=>e.resolve(C(t.to))),r=Z(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex(Ya.bind(null,u));if(h>-1)return h;const d=Kw(l[c-2]);return c>1&&Kw(u)===d&&f[f.length-1].path!==d?f.findIndex(Ya.bind(null,l[c-2])):h}),o=Z(()=>r.value>-1&&yB(n.params,i.value.params)),s=Z(()=>r.value>-1&&r.value===n.matched.length-1&&wP(n.params,i.value.params));function a(l={}){return mB(l)?e[C(t.replace)?"replace":"push"](C(t.to)).catch(xc):Promise.resolve()}return{route:i,href:Z(()=>i.value.href),isActive:o,isExactActive:s,navigate:a}}const gB=$e({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qw,setup(t,{slots:e}){const n=qt(qw(t)),{options:i}=mi(Gb),r=Z(()=>({[Gw(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Gw(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Gc("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),DP=gB;function mB(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function yB(t,e){for(const n in e){const i=e[n],r=t[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Ji(r)||r.length!==i.length||i.some((o,s)=>o!==r[s]))return!1}return!0}function Kw(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Gw=(t,e,n)=>t??e??n,vB=$e({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=mi(Wy),r=Z(()=>t.route||i.value),o=mi(Yw,0),s=Z(()=>{let c=C(o);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=Z(()=>r.value.matched[s.value]);mc(Yw,Z(()=>s.value+1)),mc(dB,a),mc(Wy,r);const l=te();return mt(()=>[l.value,a.value,t.name],([c,u,f],[h,d,p])=>{u&&(u.instances[f]=c,d&&d!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Ya(u,d)||!h)&&(u.enterCallbacks[f]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,f=a.value,h=f&&f.components[u];if(!h)return Xw(n.default,{Component:h,route:c});const d=f.props[u],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,y=Gc(h,ht({},p,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Xw(n.default,{Component:y,route:c})||y}}});function Xw(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const $P=vB;function bB(t){const e=KN(t.routes,t),n=t.parseQuery||fB,i=t.stringifyQuery||Uw,r=t.history,o=Nl(),s=Nl(),a=Nl(),l=Bb(ho);let c=ho;Sa&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=tm.bind(null,O=>""+O),f=tm.bind(null,uB),h=tm.bind(null,Xh);function d(O,N){let V,G;return SP(O)?(V=e.getRecordMatcher(O),G=N):G=O,e.addRoute(G,V)}function p(O){const N=e.getRecordMatcher(O);N&&e.removeRoute(N)}function g(){return e.getRoutes().map(O=>O.record)}function y(O){return!!e.getRecordMatcher(O)}function m(O,N){if(N=ht({},N||l.value),typeof O=="string"){const T=nm(n,O,N.path),R=e.resolve({path:T.path},N),q=r.createHref(T.fullPath);return ht(T,R,{params:h(R.params),hash:Xh(T.hash),redirectedFrom:void 0,href:q})}let V;if("path"in O)V=ht({},O,{path:nm(n,O.path,N.path).path});else{const T=ht({},O.params);for(const R in T)T[R]==null&&delete T[R];V=ht({},O,{params:f(O.params)}),N.params=f(N.params)}const G=e.resolve(V,N),ae=O.hash||"";G.params=u(h(G.params));const _e=SN(i,ht({},O,{hash:aB(ae),path:G.path})),xe=r.createHref(_e);return ht({fullPath:_e,hash:ae,query:i===Uw?hB(O.query):O.query||{}},G,{redirectedFrom:void 0,href:xe})}function b(O){return typeof O=="string"?nm(n,O,l.value.path):ht({},O)}function _(O,N){if(c!==O)return qa(8,{from:N,to:O})}function w(O){return x(O)}function S(O){return w(ht(b(O),{replace:!0}))}function A(O){const N=O.matched[O.matched.length-1];if(N&&N.redirect){const{redirect:V}=N;let G=typeof V=="function"?V(O):V;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=b(G):{path:G},G.params={}),ht({query:O.query,hash:O.hash,params:"path"in G?{}:O.params},G)}}function x(O,N){const V=c=m(O),G=l.value,ae=O.state,_e=O.force,xe=O.replace===!0,T=A(V);if(T)return x(ht(b(T),{state:typeof T=="object"?ht({},ae,T.state):ae,force:_e,replace:xe}),N||V);const R=V;R.redirectedFrom=N;let q;return!_e&&kN(i,G,V)&&(q=qa(16,{to:R,from:G}),Y(G,G,!0,!1)),(q?Promise.resolve(q):P(R,G)).catch(K=>Lr(K)?Lr(K,2)?K:W(K):v(K,R,G)).then(K=>{if(K){if(Lr(K,2))return x(ht({replace:xe},b(K.to),{state:typeof K.to=="object"?ht({},ae,K.to.state):ae,force:_e}),N||R)}else K=I(R,G,!0,xe,ae);return E(R,G,K),K})}function k(O,N){const V=_(O,N);return V?Promise.reject(V):Promise.resolve()}function P(O,N){let V;const[G,ae,_e]=_B(O,N);V=im(G.reverse(),"beforeRouteLeave",O,N);for(const T of G)T.leaveGuards.forEach(R=>{V.push(bo(R,O,N))});const xe=k.bind(null,O,N);return V.push(xe),fa(V).then(()=>{V=[];for(const T of o.list())V.push(bo(T,O,N));return V.push(xe),fa(V)}).then(()=>{V=im(ae,"beforeRouteUpdate",O,N);for(const T of ae)T.updateGuards.forEach(R=>{V.push(bo(R,O,N))});return V.push(xe),fa(V)}).then(()=>{V=[];for(const T of O.matched)if(T.beforeEnter&&!N.matched.includes(T))if(Ji(T.beforeEnter))for(const R of T.beforeEnter)V.push(bo(R,O,N));else V.push(bo(T.beforeEnter,O,N));return V.push(xe),fa(V)}).then(()=>(O.matched.forEach(T=>T.enterCallbacks={}),V=im(_e,"beforeRouteEnter",O,N),V.push(xe),fa(V))).then(()=>{V=[];for(const T of s.list())V.push(bo(T,O,N));return V.push(xe),fa(V)}).catch(T=>Lr(T,8)?T:Promise.reject(T))}function E(O,N,V){for(const G of a.list())G(O,N,V)}function I(O,N,V,G,ae){const _e=_(O,N);if(_e)return _e;const xe=N===ho,T=Sa?history.state:{};V&&(G||xe?r.replace(O.fullPath,ht({scroll:xe&&T&&T.scroll},ae)):r.push(O.fullPath,ae)),l.value=O,Y(O,N,V,xe),W()}let B;function J(){B||(B=r.listen((O,N,V)=>{if(!L.listening)return;const G=m(O),ae=A(G);if(ae){x(ht(ae,{replace:!0}),G).catch(xc);return}c=G;const _e=l.value;Sa&&$N(Nw(_e.fullPath,V.delta),eg()),P(G,_e).catch(xe=>Lr(xe,12)?xe:Lr(xe,2)?(x(xe.to,G).then(T=>{Lr(T,20)&&!V.delta&&V.type===Xc.pop&&r.go(-1,!1)}).catch(xc),Promise.reject()):(V.delta&&r.go(-V.delta,!1),v(xe,G,_e))).then(xe=>{xe=xe||I(G,_e,!1),xe&&(V.delta&&!Lr(xe,8)?r.go(-V.delta,!1):V.type===Xc.pop&&Lr(xe,20)&&r.go(-1,!1)),E(G,_e,xe)}).catch(xc)}))}let ee=Nl(),F=Nl(),z;function v(O,N,V){W(O);const G=F.list();return G.length?G.forEach(ae=>ae(O,N,V)):console.error(O),Promise.reject(O)}function $(){return z&&l.value!==ho?Promise.resolve():new Promise((O,N)=>{ee.add([O,N])})}function W(O){return z||(z=!O,J(),ee.list().forEach(([N,V])=>O?V(O):N()),ee.reset()),O}function Y(O,N,V,G){const{scrollBehavior:ae}=t;if(!Sa||!ae)return Promise.resolve();const _e=!V&&RN(Nw(O.fullPath,0))||(G||!V)&&history.state&&history.state.scroll||null;return Ar().then(()=>ae(O,N,_e)).then(xe=>xe&&DN(xe)).catch(xe=>v(xe,O,N))}const Q=O=>r.go(O);let ce;const X=new Set,L={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:y,getRoutes:g,resolve:m,options:t,push:w,replace:S,go:Q,back:()=>Q(-1),forward:()=>Q(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:F.add,isReady:$,install(O){const N=this;O.component("RouterLink",DP),O.component("RouterView",$P),O.config.globalProperties.$router=N,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>C(l)}),Sa&&!ce&&l.value===ho&&(ce=!0,w(r.location).catch(ae=>{}));const V={};for(const ae in ho)V[ae]=Z(()=>l.value[ae]);O.provide(Gb,N),O.provide(Xb,qt(V)),O.provide(Wy,l);const G=O.unmount;X.add(O),O.unmount=function(){X.delete(O),X.size<1&&(c=ho,B&&B(),B=null,l.value=ho,ce=!1,z=!1),G()}}};return L}function fa(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function _B(t,e){const n=[],i=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const a=e.matched[s];a&&(t.matched.find(c=>Ya(c,a))?i.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(c=>Ya(c,l))||r.push(l))}return[n,i,r]}function kl(){return mi(Xb)}const Jb={API_HOST:"https://api.internet-of-plants.org:4001"};async function wB(t){return t.limit=t.limit??3,await lo("/v1/device/logs",t)}const xB={list:wB};async function SB(t){return t.limit=t.limit??3,await lo("/v1/device/panics",t)}async function kB(t){await la("/v1/device/panic/solve",t)}const RP={list:SB,solve:kB},EP="/soil-temperature.png",IP="/soil-moisture.png",LP="/air-temperature.png",NP="/air-humidity.png",Jh=$e({__name:"IopTime",props:{moment:null},setup(t){const e=t,n=i=>{const r=Math.floor(i/1e3);if(r<=0)return"00h:00m";if(!Number.isFinite(r))return"Never";const s=`0${Math.floor(r/3600)}`.slice(-2),l=`0${Math.floor(r/60%60)}`.slice(-2);return`${s}h:${l}m`};return(i,r)=>ve(n(new Date().getTime()-new Date(e.moment).getTime()))+"ago "}});var sr=(t=>(t.SSID="SSID",t.PSK="PSK",t.Timezone="Timezone",t))(sr||{}),vt=(t=>(t.Seconds="Seconds",t.U8="U8",t.U16="U16",t.U32="U32",t.U64="U64",t.F32="F32",t.F64="F64",t.Sensor="Sensor",t.Selection="Selection",t.Moment="Moment",t.Map="Map",t))(vt||{}),qr=(t=>(t.AirTemperature="AirTemperature",t.AirHumidity="AirHumidity",t.SoilTemperature="SoilTemperature",t.SoilMoisture="SoilMoisture",t))(qr||{}),lt=(t=>(t.Percentage="Percentage",t.FloatCelsius="FloatCelsius",t.RawAnalogRead="RawAnalogRead",t.Heap="Heap",t.Stack="Stack",t.Unknown="Unknown",t))(lt||{});const CB={key:0,class:"flex flex-col w-full"},OB={key:0,class:"text-xl text-center"},MB={key:1},AB=j("b",null,"Description: ",-1),PB={key:2,class:"flex flex-row flex-wrap justify-center"},TB={key:0,class:"w-16 h-16 self-center",src:EP},DB={key:1,class:"w-16 h-16 p-2.5 self-center",src:IP},$B={key:2,class:"w-16 h-16 p-3 self-center",src:LP},RB={key:3,class:"w-16 h-16 p-3.5 self-center",src:NP},EB={class:"text-center text-xl"},IB={key:4,class:"text-xs text-right"},LB={key:3},NB=j("b",null,"Description:",-1),BB={key:4},FB=["title"],BP=$e({__name:"DeviceCard",props:{device:null},setup(t){const e=t,n=te(e.device.name);mt(()=>e.device,l=>{n.value=l.name});const i=l=>{var c,u;return(u=(c=e.device.compiler)==null?void 0:c.sensors.find(f=>f.measurements.find(h=>h.name===l)))==null?void 0:u.alias},r=l=>{var u;const c=(((u=e.device.lastEvent)==null?void 0:u.metadatas)??[]).find(f=>f.name===l);if(c){const f=c.name,h=i(c.name);return h?`${h}
${f}`:f}else return l},o=l=>{var c;return(((c=e.device.lastEvent)==null?void 0:c.metadatas)??[]).find(u=>u.name===l)},s=l=>{var u;const c=(((u=e.device.lastEvent)==null?void 0:u.metadatas)??[]).find(f=>f.name===l);if(!c)return"";switch(c.ty){case lt.Percentage:return"%";case lt.RawAnalogRead:return"";case lt.FloatCelsius:return"C"}};function a(l){var u;const c=Math.max((((u=l.toString().split(".")[1])==null?void 0:u.length)??1)-1,0);return l.toFixed(Math.min(c,2))}return(l,c)=>e.device?(M(),D("div",CB,[e.device.name?(M(),D("strong",OB,ve(n.value),1)):U("",!0),e.device.description?(M(),D("p",MB,[AB,Yt(ve(e.device.description),1)])):U("",!0),e.device.lastEvent?(M(),D("div",PB,[(M(!0),D(de,null,He(Object.entries(e.device.lastEvent.measurements),([u,f],h)=>{var d,p,g,y;return M(),D("span",{key:u,class:"flex flex-col m-2"},[((d=o(u))==null?void 0:d.kind)===C(qr).SoilTemperature?(M(),D("img",TB)):((p=o(u))==null?void 0:p.kind)===C(qr).SoilMoisture?(M(),D("img",DB)):((g=o(u))==null?void 0:g.kind)===C(qr).AirTemperature?(M(),D("img",$B)):((y=o(u))==null?void 0:y.kind)===C(qr).AirHumidity?(M(),D("img",RB)):U("",!0),j("span",EB,ve(a(f))+ve(s(u)),1),(M(!0),D(de,null,He(r(u).split(`
`),m=>(M(),D("p",{class:"text-center",key:m},ve(m),1))),128)),h===Object.keys(e.device.lastEvent.measurements).length-1?(M(),D("span",IB,[Ae(Jh,{moment:e.device.lastEvent.createdAt},null,8,["moment"])])):U("",!0)])}),128))])):U("",!0),e.device.description?(M(),D("p",LB,[NB,Yt(ve(e.device.description),1)])):U("",!0),e.device.lastEvent?U("",!0):(M(),D("p",BB,[Yt("Updated at "),Ae(Jh,{moment:e.device.updatedAt},null,8,["moment"])])),e.device.compiler&&e.device.compiler.latestFirmware.hash!==e.device.firmware.hash?(M(),D("p",{key:5,title:`Current Firmware MD5: ${e.device.firmware.hash}
Update's Firmware MD5: ${e.device.compiler.latestFirmware.hash}`}," Update Available ",8,FB)):U("",!0)])):U("",!0)}}),HB={key:0},VB={key:0,class:"text-center"},jB={key:1},zB={class:"flex flex-col-reverse"},WB={key:0},UB={key:1},FP=$e({__name:"IopLogs",props:{logs:null},setup(t){const e=t,n=r=>new Date(r).toLocaleString([],{hour:"2-digit",minute:"2-digit"}),i=Z(()=>{const r=[];let o;for(const s of e.logs){const a=new Date(s.createdAt);a.setHours(0,0,0,0),a.toDateString()!==(o==null?void 0:o.toDateString())&&(o&&(r.push({id:o.toLocaleString(),log:o.toLocaleString([],{day:"2-digit",month:"2-digit",year:"numeric"})}),r.push({id:o.toLocaleString()+"space",log:"",createdAt:null})),o=a),r.push(s)}return o?(r.push({id:o.toLocaleString(),log:o.toLocaleString([],{day:"2-digit",month:"2-digit",year:"numeric"})}),r):[]});return(r,o)=>e.logs.length>0?(M(),D("span",HB,[e.logs.length>1?(M(),D("h3",VB,"Last "+ve(e.logs.length)+" logs",1)):(M(),D("h3",jB,"Last log:")),j("div",zB,[(M(!0),D(de,null,He(C(i),s=>(M(),D("div",{key:s.id},[s.log!==""?(M(),D("p",WB,ve(s.createdAt?n(s.createdAt):"")+" "+ve(s.log),1)):(M(),D("br",UB))]))),128))])])):U("",!0)}}),YB=["onClick"],HP=$e({__name:"IopPanics",props:{panics:null,deviceId:null},setup(t){const e=t,n=async i=>{await RP.solve({deviceId:e.deviceId,panicId:i}),Qi.go(0)};return(i,r)=>e.panics.length>0?(M(),D(de,{key:0},[j("h3",null,"Last "+ve(e.panics.length)+" unsolved panics",1),(M(!0),D(de,null,He(e.panics,o=>(M(),D("div",{key:o.id},[j("p",null,ve(o.file),1),j("p",null,ve(o.line),1),j("p",null,ve(o.func),1),j("p",null,ve(o.msg),1),j("p",null,[Yt("Happened "),Ae(Jh,{moment:o.createdAt},null,8,["moment"])]),j("button",{onClick:s=>n(o.id)},"Solve",8,YB)]))),128))],64)):U("",!0)}}),qB={key:0,class:"flex"},KB=["title"],GB=["title"],XB=j("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[j("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),j("path",{"fill-rule":"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule":"evenodd"})],-1),JB=[XB],VP=$e({__name:"IopName",props:{modelValue:null,title:null},emits:["blur","update:modelValue","toggle-edit"],setup(t,{emit:e}){const n=t,i=te(!1),r=Z({get(){return n.modelValue},set(s){e("update:modelValue",s)}}),o=()=>{i.value=!i.value,e("toggle-edit",i.value)};return(s,a)=>C(r)?(M(),D("span",qB,[i.value?i.value?$t((M(),D("input",{key:1,"onUpdate:modelValue":a[0]||(a[0]=l=>Ge(r)?r.value=l:null),title:n.title,class:"text-2xl text-center",type:"text",onBlur:a[1]||(a[1]=l=>e("blur"))},null,40,GB)),[[qi,C(r)]]):U("",!0):(M(),D("p",{key:0,title:n.title,class:"text-3xl text-center"},ve(C(r)),9,KB)),j("button",{class:"right ml-2",onClick:a[2]||(a[2]=l=>o())},JB)])):U("",!0)}}),QB="modulepreload",ZB=function(t){return"/"+t},Jw={},e3=function(e,n,i){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=ZB(o),o in Jw)return;Jw[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!i)for(let u=r.length-1;u>=0;u--){const f=r[u];if(f.href===o&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":QB,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};function Ve(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Re(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function jf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jf=function(n){return typeof n}:jf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jf(t)}function ze(t){Re(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||jf(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function $o(t,e){Re(2,arguments);var n=ze(t),i=Ve(e);return isNaN(i)?new Date(NaN):(i&&n.setDate(n.getDate()+i),n)}function mr(t,e){Re(2,arguments);var n=ze(t),i=Ve(e);if(isNaN(i))return new Date(NaN);if(!i)return n;var r=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+i+1,0);var s=o.getDate();return r>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}function zf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zf=function(n){return typeof n}:zf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zf(t)}function jP(t,e){if(Re(2,arguments),!e||zf(e)!=="object")return new Date(NaN);var n=e.years?Ve(e.years):0,i=e.months?Ve(e.months):0,r=e.weeks?Ve(e.weeks):0,o=e.days?Ve(e.days):0,s=e.hours?Ve(e.hours):0,a=e.minutes?Ve(e.minutes):0,l=e.seconds?Ve(e.seconds):0,c=ze(t),u=i||n?mr(c,i+n*12):c,f=o||r?$o(u,o+r*7):u,h=a+s*60,d=l+h*60,p=d*1e3,g=new Date(f.getTime()+p);return g}function t3(t,e){Re(2,arguments);var n=ze(t).getTime(),i=Ve(e);return new Date(n+i)}var n3={};function Jo(){return n3}function Uy(t,e){var n,i,r,o,s,a,l,c;Re(1,arguments);var u=Jo(),f=Ve((n=(i=(r=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ze(t),d=h.getDay(),p=(d<f?7:0)+d-f;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function Qh(t){return Re(1,arguments),Uy(t,{weekStartsOn:1})}function i3(t){Re(1,arguments);var e=ze(t),n=e.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var r=Qh(i),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=Qh(o);return e.getTime()>=r.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function r3(t){Re(1,arguments);var e=i3(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var i=Qh(n);return i}function Zh(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Qw(t){Re(1,arguments);var e=ze(t);return e.setHours(0,0,0,0),e}var o3=864e5;function s3(t,e){Re(2,arguments);var n=Qw(t),i=Qw(e),r=n.getTime()-Zh(n),o=i.getTime()-Zh(i);return Math.round((r-o)/o3)}function zP(t,e){Re(2,arguments);var n=Ve(e);return mr(t,n*12)}var Qb=6e4,Zb=36e5,a3=1e3;function Wf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wf=function(n){return typeof n}:Wf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wf(t)}function WP(t){return Re(1,arguments),t instanceof Date||Wf(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kc(t){if(Re(1,arguments),!WP(t)&&typeof t!="number")return!1;var e=ze(t);return!isNaN(Number(e))}function Zw(t,e){var n;Re(1,arguments);var i=t||{},r=ze(i.start),o=ze(i.end),s=o.getTime();if(!(r.getTime()<=s))throw new RangeError("Invalid interval");var a=[],l=r;l.setHours(0,0,0,0);var c=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=s;)a.push(ze(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return a}function l3(t,e){var n,i,r,o,s,a,l,c;Re(1,arguments);var u=Jo(),f=Ve((n=(i=(r=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ze(t),d=h.getDay(),p=(d<f?-7:0)+6-(d-f);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}function UP(t,e){Re(2,arguments);var n=Ve(e);return t3(t,-n)}var c3=864e5;function u3(t){Re(1,arguments);var e=ze(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var i=e.getTime(),r=n-i;return Math.floor(r/c3)+1}function Ka(t){Re(1,arguments);var e=1,n=ze(t),i=n.getUTCDay(),r=(i<e?7:0)+i-e;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function YP(t){Re(1,arguments);var e=ze(t),n=e.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var r=Ka(i),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=Ka(o);return e.getTime()>=r.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function f3(t){Re(1,arguments);var e=YP(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var i=Ka(n);return i}var h3=6048e5;function qP(t){Re(1,arguments);var e=ze(t),n=Ka(e).getTime()-f3(e).getTime();return Math.round(n/h3)+1}function Hs(t,e){var n,i,r,o,s,a,l,c;Re(1,arguments);var u=Jo(),f=Ve((n=(i=(r=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ze(t),d=h.getUTCDay(),p=(d<f?7:0)+d-f;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function e1(t,e){var n,i,r,o,s,a,l,c;Re(1,arguments);var u=ze(t),f=u.getUTCFullYear(),h=Jo(),d=Ve((n=(i=(r=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:h.firstWeekContainsDate)!==null&&i!==void 0?i:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,d),p.setUTCHours(0,0,0,0);var g=Hs(p,e),y=new Date(0);y.setUTCFullYear(f,0,d),y.setUTCHours(0,0,0,0);var m=Hs(y,e);return u.getTime()>=g.getTime()?f+1:u.getTime()>=m.getTime()?f:f-1}function d3(t,e){var n,i,r,o,s,a,l,c;Re(1,arguments);var u=Jo(),f=Ve((n=(i=(r=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:u.firstWeekContainsDate)!==null&&i!==void 0?i:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=e1(t,e),d=new Date(0);d.setUTCFullYear(h,0,f),d.setUTCHours(0,0,0,0);var p=Hs(d,e);return p}var p3=6048e5;function KP(t,e){Re(1,arguments);var n=ze(t),i=Hs(n,e).getTime()-d3(n,e).getTime();return Math.round(i/p3)+1}function ft(t,e){for(var n=t<0?"-":"",i=Math.abs(t).toString();i.length<e;)i="0"+i;return n+i}var g3={y:function(e,n){var i=e.getUTCFullYear(),r=i>0?i:1-i;return ft(n==="yy"?r%100:r,n.length)},M:function(e,n){var i=e.getUTCMonth();return n==="M"?String(i+1):ft(i+1,2)},d:function(e,n){return ft(e.getUTCDate(),n.length)},a:function(e,n){var i=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(e,n){return ft(e.getUTCHours()%12||12,n.length)},H:function(e,n){return ft(e.getUTCHours(),n.length)},m:function(e,n){return ft(e.getUTCMinutes(),n.length)},s:function(e,n){return ft(e.getUTCSeconds(),n.length)},S:function(e,n){var i=n.length,r=e.getUTCMilliseconds(),o=Math.floor(r*Math.pow(10,i-3));return ft(o,n.length)}};const po=g3;var ha={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},m3={G:function(e,n,i){var r=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return i.era(r,{width:"abbreviated"});case"GGGGG":return i.era(r,{width:"narrow"});case"GGGG":default:return i.era(r,{width:"wide"})}},y:function(e,n,i){if(n==="yo"){var r=e.getUTCFullYear(),o=r>0?r:1-r;return i.ordinalNumber(o,{unit:"year"})}return po.y(e,n)},Y:function(e,n,i,r){var o=e1(e,r),s=o>0?o:1-o;if(n==="YY"){var a=s%100;return ft(a,2)}return n==="Yo"?i.ordinalNumber(s,{unit:"year"}):ft(s,n.length)},R:function(e,n){var i=YP(e);return ft(i,n.length)},u:function(e,n){var i=e.getUTCFullYear();return ft(i,n.length)},Q:function(e,n,i){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return ft(r,2);case"Qo":return i.ordinalNumber(r,{unit:"quarter"});case"QQQ":return i.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,i){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return ft(r,2);case"qo":return i.ordinalNumber(r,{unit:"quarter"});case"qqq":return i.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,i){var r=e.getUTCMonth();switch(n){case"M":case"MM":return po.M(e,n);case"Mo":return i.ordinalNumber(r+1,{unit:"month"});case"MMM":return i.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,i){var r=e.getUTCMonth();switch(n){case"L":return String(r+1);case"LL":return ft(r+1,2);case"Lo":return i.ordinalNumber(r+1,{unit:"month"});case"LLL":return i.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,i,r){var o=KP(e,r);return n==="wo"?i.ordinalNumber(o,{unit:"week"}):ft(o,n.length)},I:function(e,n,i){var r=qP(e);return n==="Io"?i.ordinalNumber(r,{unit:"week"}):ft(r,n.length)},d:function(e,n,i){return n==="do"?i.ordinalNumber(e.getUTCDate(),{unit:"date"}):po.d(e,n)},D:function(e,n,i){var r=u3(e);return n==="Do"?i.ordinalNumber(r,{unit:"dayOfYear"}):ft(r,n.length)},E:function(e,n,i){var r=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return i.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(r,{width:"short",context:"formatting"});case"EEEE":default:return i.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,i,r){var o=e.getUTCDay(),s=(o-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return ft(s,2);case"eo":return i.ordinalNumber(s,{unit:"day"});case"eee":return i.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(o,{width:"short",context:"formatting"});case"eeee":default:return i.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,i,r){var o=e.getUTCDay(),s=(o-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return ft(s,n.length);case"co":return i.ordinalNumber(s,{unit:"day"});case"ccc":return i.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(o,{width:"narrow",context:"standalone"});case"cccccc":return i.day(o,{width:"short",context:"standalone"});case"cccc":default:return i.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,i){var r=e.getUTCDay(),o=r===0?7:r;switch(n){case"i":return String(o);case"ii":return ft(o,n.length);case"io":return i.ordinalNumber(o,{unit:"day"});case"iii":return i.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(r,{width:"short",context:"formatting"});case"iiii":default:return i.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,i){var r=e.getUTCHours(),o=r/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,i){var r=e.getUTCHours(),o;switch(r===12?o=ha.noon:r===0?o=ha.midnight:o=r/12>=1?"pm":"am",n){case"b":case"bb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,i){var r=e.getUTCHours(),o;switch(r>=17?o=ha.evening:r>=12?o=ha.afternoon:r>=4?o=ha.morning:o=ha.night,n){case"B":case"BB":case"BBB":return i.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,i){if(n==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),i.ordinalNumber(r,{unit:"hour"})}return po.h(e,n)},H:function(e,n,i){return n==="Ho"?i.ordinalNumber(e.getUTCHours(),{unit:"hour"}):po.H(e,n)},K:function(e,n,i){var r=e.getUTCHours()%12;return n==="Ko"?i.ordinalNumber(r,{unit:"hour"}):ft(r,n.length)},k:function(e,n,i){var r=e.getUTCHours();return r===0&&(r=24),n==="ko"?i.ordinalNumber(r,{unit:"hour"}):ft(r,n.length)},m:function(e,n,i){return n==="mo"?i.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):po.m(e,n)},s:function(e,n,i){return n==="so"?i.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):po.s(e,n)},S:function(e,n){return po.S(e,n)},X:function(e,n,i,r){var o=r._originalDate||e,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return tx(s);case"XXXX":case"XX":return ms(s);case"XXXXX":case"XXX":default:return ms(s,":")}},x:function(e,n,i,r){var o=r._originalDate||e,s=o.getTimezoneOffset();switch(n){case"x":return tx(s);case"xxxx":case"xx":return ms(s);case"xxxxx":case"xxx":default:return ms(s,":")}},O:function(e,n,i,r){var o=r._originalDate||e,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+ex(s,":");case"OOOO":default:return"GMT"+ms(s,":")}},z:function(e,n,i,r){var o=r._originalDate||e,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+ex(s,":");case"zzzz":default:return"GMT"+ms(s,":")}},t:function(e,n,i,r){var o=r._originalDate||e,s=Math.floor(o.getTime()/1e3);return ft(s,n.length)},T:function(e,n,i,r){var o=r._originalDate||e,s=o.getTime();return ft(s,n.length)}};function ex(t,e){var n=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),o=i%60;if(o===0)return n+String(r);var s=e||"";return n+String(r)+s+ft(o,2)}function tx(t,e){if(t%60===0){var n=t>0?"-":"+";return n+ft(Math.abs(t)/60,2)}return ms(t,e)}function ms(t,e){var n=e||"",i=t>0?"-":"+",r=Math.abs(t),o=ft(Math.floor(r/60),2),s=ft(r%60,2);return i+o+n+s}const y3=m3;var nx=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},GP=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},v3=function(e,n){var i=e.match(/(P+)(p+)?/)||[],r=i[1],o=i[2];if(!o)return nx(e,n);var s;switch(r){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",nx(r,n)).replace("{{time}}",GP(o,n))},b3={p:GP,P:v3};const Yy=b3;var _3=["D","DD"],w3=["YY","YYYY"];function XP(t){return _3.indexOf(t)!==-1}function JP(t){return w3.indexOf(t)!==-1}function ed(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var x3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},S3=function(e,n,i){var r,o=x3[e];return typeof o=="string"?r=o:n===1?r=o.one:r=o.other.replace("{{count}}",n.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+r:r+" ago":r};const k3=S3;function rm(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,i=t.formats[n]||t.formats[t.defaultWidth];return i}}var C3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},O3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},A3={date:rm({formats:C3,defaultWidth:"full"}),time:rm({formats:O3,defaultWidth:"full"}),dateTime:rm({formats:M3,defaultWidth:"full"})};const P3=A3;var T3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},D3=function(e,n,i,r){return T3[e]};const $3=D3;function Bl(t){return function(e,n){var i=n!=null&&n.context?String(n.context):"standalone",r;if(i==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;r=t.formattingValues[s]||t.formattingValues[o]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return r[c]}}var R3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},E3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},L3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},N3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},B3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},F3=function(e,n){var i=Number(e),r=i%100;if(r>20||r<10)switch(r%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},H3={ordinalNumber:F3,era:Bl({values:R3,defaultWidth:"wide"}),quarter:Bl({values:E3,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Bl({values:I3,defaultWidth:"wide"}),day:Bl({values:L3,defaultWidth:"wide"}),dayPeriod:Bl({values:N3,defaultWidth:"wide",formattingValues:B3,defaultFormattingWidth:"wide"})};const V3=H3;function Fl(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],o=e.match(r);if(!o)return null;var s=o[0],a=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?z3(a,function(f){return f.test(s)}):j3(a,function(f){return f.test(s)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(s.length);return{value:c,rest:u}}}function j3(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function z3(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function W3(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.match(t.matchPattern);if(!i)return null;var r=i[0],o=e.match(t.parsePattern);if(!o)return null;var s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=e.slice(r.length);return{value:s,rest:a}}}var U3=/^(\d+)(th|st|nd|rd)?/i,Y3=/\d+/i,q3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},K3={any:[/^b/i,/^(a|c)/i]},G3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},X3={any:[/1/i,/2/i,/3/i,/4/i]},J3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Q3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},e5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},t5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},n5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},i5={ordinalNumber:W3({matchPattern:U3,parsePattern:Y3,valueCallback:function(e){return parseInt(e,10)}}),era:Fl({matchPatterns:q3,defaultMatchWidth:"wide",parsePatterns:K3,defaultParseWidth:"any"}),quarter:Fl({matchPatterns:G3,defaultMatchWidth:"wide",parsePatterns:X3,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Fl({matchPatterns:J3,defaultMatchWidth:"wide",parsePatterns:Q3,defaultParseWidth:"any"}),day:Fl({matchPatterns:Z3,defaultMatchWidth:"wide",parsePatterns:e5,defaultParseWidth:"any"}),dayPeriod:Fl({matchPatterns:t5,defaultMatchWidth:"any",parsePatterns:n5,defaultParseWidth:"any"})};const r5=i5;var o5={code:"en-US",formatDistance:k3,formatLong:P3,formatRelative:$3,localize:V3,match:r5,options:{weekStartsOn:0,firstWeekContainsDate:1}};const QP=o5;var s5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l5=/^'([^]*?)'?$/,c5=/''/g,u5=/[a-zA-Z]/;function Cc(t,e,n){var i,r,o,s,a,l,c,u,f,h,d,p,g,y,m,b,_,w;Re(2,arguments);var S=String(e),A=Jo(),x=(i=(r=n==null?void 0:n.locale)!==null&&r!==void 0?r:A.locale)!==null&&i!==void 0?i:QP,k=Ve((o=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:A.firstWeekContainsDate)!==null&&s!==void 0?s:(f=A.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Ve((d=(p=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(m=n.locale)===null||m===void 0||(b=m.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&g!==void 0?g:A.weekStartsOn)!==null&&p!==void 0?p:(_=A.locale)===null||_===void 0||(w=_.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&d!==void 0?d:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");var E=ze(t);if(!kc(E))throw new RangeError("Invalid time value");var I=Zh(E),B=UP(E,I),J={firstWeekContainsDate:k,weekStartsOn:P,locale:x,_originalDate:E},ee=S.match(a5).map(function(F){var z=F[0];if(z==="p"||z==="P"){var v=Yy[z];return v(F,x.formatLong)}return F}).join("").match(s5).map(function(F){if(F==="''")return"'";var z=F[0];if(z==="'")return f5(F);var v=y3[z];if(v)return!(n!=null&&n.useAdditionalWeekYearTokens)&&JP(F)&&ed(F,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&XP(F)&&ed(F,e,String(t)),v(B,F,x.localize,J);if(z.match(u5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");return F}).join("");return ee}function f5(t){var e=t.match(l5);return e?e[1].replace(c5,"'"):t}function h5(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function d5(t){Re(1,arguments);var e=ze(t),n=e.getDay();return n}function p5(t){Re(1,arguments);var e=ze(t),n=e.getFullYear(),i=e.getMonth(),r=new Date(0);return r.setFullYear(n,i+1,0),r.setHours(0,0,0,0),r.getDate()}function Wr(t){Re(1,arguments);var e=ze(t),n=e.getHours();return n}var g5=6048e5;function m5(t){Re(1,arguments);var e=ze(t),n=Qh(e).getTime()-r3(e).getTime();return Math.round(n/g5)+1}function Ur(t){Re(1,arguments);var e=ze(t),n=e.getMinutes();return n}function At(t){Re(1,arguments);var e=ze(t),n=e.getMonth();return n}function Ga(t){Re(1,arguments);var e=ze(t),n=e.getSeconds();return n}function Pt(t){return Re(1,arguments),ze(t).getFullYear()}function t1(t,e){Re(2,arguments);var n=ze(t),i=ze(e);return n.getTime()>i.getTime()}function n1(t,e){Re(2,arguments);var n=ze(t),i=ze(e);return n.getTime()<i.getTime()}function ZP(t,e){Re(2,arguments);var n=ze(t),i=ze(e);return n.getTime()===i.getTime()}function Uf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uf=function(n){return typeof n}:Uf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Uf(t)}function e2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qy(t,e)}function qy(t,e){return qy=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},qy(t,e)}function t2(t){var e=v5();return function(){var i=td(t),r;if(e){var o=td(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return y5(this,r)}}function y5(t,e){return e&&(Uf(e)==="object"||typeof e=="function")?e:Ky(t)}function Ky(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function td(t){return td=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},td(t)}function i1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ix(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r1(t,e,n){return e&&ix(t.prototype,e),n&&ix(t,n),t}function Gy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b5=10,n2=function(){function t(){i1(this,t),Gy(this,"subPriority",0)}return r1(t,[{key:"validate",value:function(n,i){return!0}}]),t}(),_5=function(t){e2(n,t);var e=t2(n);function n(i,r,o,s,a){var l;return i1(this,n),l=e.call(this),l.value=i,l.validateValue=r,l.setValue=o,l.priority=s,a&&(l.subPriority=a),l}return r1(n,[{key:"validate",value:function(r,o){return this.validateValue(r,this.value,o)}},{key:"set",value:function(r,o,s){return this.setValue(r,o,this.value,s)}}]),n}(n2),w5=function(t){e2(n,t);var e=t2(n);function n(){var i;i1(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),Gy(Ky(i),"priority",b5),Gy(Ky(i),"subPriority",-1),i}return r1(n,[{key:"set",value:function(r,o){if(o.timestampIsSet)return r;var s=new Date(0);return s.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),s.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),s}}]),n}(n2);function x5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S5(t,e,n){return e&&rx(t.prototype,e),n&&rx(t,n),t}var ut=function(){function t(){x5(this,t)}return S5(t,[{key:"run",value:function(n,i,r,o){var s=this.parse(n,i,r,o);return s?{setter:new _5(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,i,r){return!0}}]),t}();function Yf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yf=function(n){return typeof n}:Yf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yf(t)}function k5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ox(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function C5(t,e,n){return e&&ox(t.prototype,e),n&&ox(t,n),t}function O5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xy(t,e)}function Xy(t,e){return Xy=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Xy(t,e)}function M5(t){var e=P5();return function(){var i=nd(t),r;if(e){var o=nd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return A5(this,r)}}function A5(t,e){return e&&(Yf(e)==="object"||typeof e=="function")?e:Jy(t)}function Jy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nd(t){return nd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},nd(t)}function sx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T5=function(t){O5(n,t);var e=M5(n);function n(){var i;k5(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),sx(Jy(i),"priority",140),sx(Jy(i),"incompatibleTokens",["R","u","t","T"]),i}return C5(n,[{key:"parse",value:function(r,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}},{key:"set",value:function(r,o,s){return o.era=s,r.setUTCFullYear(s,0,1),r.setUTCHours(0,0,0,0),r}}]),n}(ut),Zt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},hr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function en(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ht(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function dr(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var i=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:i*(r*Zb+o*Qb+s*a3),rest:e.slice(n[0].length)}}function i2(t){return Ht(Zt.anyDigitsSigned,t)}function Kt(t,e){switch(t){case 1:return Ht(Zt.singleDigit,e);case 2:return Ht(Zt.twoDigits,e);case 3:return Ht(Zt.threeDigits,e);case 4:return Ht(Zt.fourDigits,e);default:return Ht(new RegExp("^\\d{1,"+t+"}"),e)}}function id(t,e){switch(t){case 1:return Ht(Zt.singleDigitSigned,e);case 2:return Ht(Zt.twoDigitsSigned,e);case 3:return Ht(Zt.threeDigitsSigned,e);case 4:return Ht(Zt.fourDigitsSigned,e);default:return Ht(new RegExp("^-?\\d{1,"+t+"}"),e)}}function o1(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function r2(t,e){var n=e>0,i=n?e:1-e,r;if(i<=50)r=t||100;else{var o=i+50,s=Math.floor(o/100)*100,a=t>=o%100;r=t+s-(a?100:0)}return n?r:1-r}function o2(t){return t%400===0||t%4===0&&t%100!==0}function qf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qf=function(n){return typeof n}:qf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qf(t)}function D5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ax(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function $5(t,e,n){return e&&ax(t.prototype,e),n&&ax(t,n),t}function R5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qy(t,e)}function Qy(t,e){return Qy=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Qy(t,e)}function E5(t){var e=L5();return function(){var i=rd(t),r;if(e){var o=rd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return I5(this,r)}}function I5(t,e){return e&&(qf(e)==="object"||typeof e=="function")?e:Zy(t)}function Zy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rd(t){return rd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},rd(t)}function lx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N5=function(t){R5(n,t);var e=E5(n);function n(){var i;D5(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),lx(Zy(i),"priority",130),lx(Zy(i),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),i}return $5(n,[{key:"parse",value:function(r,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="yy"}};switch(o){case"y":return en(Kt(4,r),a);case"yo":return en(s.ordinalNumber(r,{unit:"year"}),a);default:return en(Kt(o.length,r),a)}}},{key:"validate",value:function(r,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(r,o,s){var a=r.getUTCFullYear();if(s.isTwoDigitYear){var l=r2(s.year,a);return r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r}var c=!("era"in o)||o.era===1?s.year:1-s.year;return r.setUTCFullYear(c,0,1),r.setUTCHours(0,0,0,0),r}}]),n}(ut);function Kf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kf=function(n){return typeof n}:Kf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Kf(t)}function B5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function F5(t,e,n){return e&&cx(t.prototype,e),n&&cx(t,n),t}function H5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&e0(t,e)}function e0(t,e){return e0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},e0(t,e)}function V5(t){var e=z5();return function(){var i=od(t),r;if(e){var o=od(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return j5(this,r)}}function j5(t,e){return e&&(Kf(e)==="object"||typeof e=="function")?e:t0(t)}function t0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function od(t){return od=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},od(t)}function ux(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W5=function(t){H5(n,t);var e=V5(n);function n(){var i;B5(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),ux(t0(i),"priority",130),ux(t0(i),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),i}return F5(n,[{key:"parse",value:function(r,o,s){var a=function(c){return{year:c,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return en(Kt(4,r),a);case"Yo":return en(s.ordinalNumber(r,{unit:"year"}),a);default:return en(Kt(o.length,r),a)}}},{key:"validate",value:function(r,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(r,o,s,a){var l=e1(r,a);if(s.isTwoDigitYear){var c=r2(s.year,l);return r.setUTCFullYear(c,0,a.firstWeekContainsDate),r.setUTCHours(0,0,0,0),Hs(r,a)}var u=!("era"in o)||o.era===1?s.year:1-s.year;return r.setUTCFullYear(u,0,a.firstWeekContainsDate),r.setUTCHours(0,0,0,0),Hs(r,a)}}]),n}(ut);function Gf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gf=function(n){return typeof n}:Gf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gf(t)}function U5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Y5(t,e,n){return e&&fx(t.prototype,e),n&&fx(t,n),t}function q5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n0(t,e)}function n0(t,e){return n0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},n0(t,e)}function K5(t){var e=X5();return function(){var i=sd(t),r;if(e){var o=sd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return G5(this,r)}}function G5(t,e){return e&&(Gf(e)==="object"||typeof e=="function")?e:i0(t)}function i0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sd(t){return sd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},sd(t)}function hx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J5=function(t){q5(n,t);var e=K5(n);function n(){var i;U5(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),hx(i0(i),"priority",130),hx(i0(i),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),i}return Y5(n,[{key:"parse",value:function(r,o){return id(o==="R"?4:o.length,r)}},{key:"set",value:function(r,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Ka(a)}}]),n}(ut);function Xf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xf=function(n){return typeof n}:Xf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xf(t)}function Q5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Z5(t,e,n){return e&&dx(t.prototype,e),n&&dx(t,n),t}function eF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r0(t,e)}function r0(t,e){return r0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},r0(t,e)}function tF(t){var e=iF();return function(){var i=ad(t),r;if(e){var o=ad(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return nF(this,r)}}function nF(t,e){return e&&(Xf(e)==="object"||typeof e=="function")?e:o0(t)}function o0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ad(t){return ad=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ad(t)}function px(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rF=function(t){eF(n,t);var e=tF(n);function n(){var i;Q5(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),px(o0(i),"priority",130),px(o0(i),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),i}return Z5(n,[{key:"parse",value:function(r,o){return id(o==="u"?4:o.length,r)}},{key:"set",value:function(r,o,s){return r.setUTCFullYear(s,0,1),r.setUTCHours(0,0,0,0),r}}]),n}(ut);function Jf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jf=function(n){return typeof n}:Jf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Jf(t)}function oF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function sF(t,e,n){return e&&gx(t.prototype,e),n&&gx(t,n),t}function aF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s0(t,e)}function s0(t,e){return s0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},s0(t,e)}function lF(t){var e=uF();return function(){var i=ld(t),r;if(e){var o=ld(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return cF(this,r)}}function cF(t,e){return e&&(Jf(e)==="object"||typeof e=="function")?e:a0(t)}function a0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ld(t){return ld=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ld(t)}function mx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fF=function(t){aF(n,t);var e=lF(n);function n(){var i;oF(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),mx(a0(i),"priority",120),mx(a0(i),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),i}return sF(n,[{key:"parse",value:function(r,o,s){switch(o){case"Q":case"QQ":return Kt(o.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=1&&o<=4}},{key:"set",value:function(r,o,s){return r.setUTCMonth((s-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),n}(ut);function Qf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qf=function(n){return typeof n}:Qf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qf(t)}function hF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function dF(t,e,n){return e&&yx(t.prototype,e),n&&yx(t,n),t}function pF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l0(t,e)}function l0(t,e){return l0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},l0(t,e)}function gF(t){var e=yF();return function(){var i=cd(t),r;if(e){var o=cd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return mF(this,r)}}function mF(t,e){return e&&(Qf(e)==="object"||typeof e=="function")?e:c0(t)}function c0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},cd(t)}function vx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vF=function(t){pF(n,t);var e=gF(n);function n(){var i;hF(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),vx(c0(i),"priority",120),vx(c0(i),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),i}return dF(n,[{key:"parse",value:function(r,o,s){switch(o){case"q":case"qq":return Kt(o.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,o){return o>=1&&o<=4}},{key:"set",value:function(r,o,s){return r.setUTCMonth((s-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),n}(ut);function Zf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zf=function(n){return typeof n}:Zf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zf(t)}function bF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _F(t,e,n){return e&&bx(t.prototype,e),n&&bx(t,n),t}function wF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u0(t,e)}function u0(t,e){return u0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},u0(t,e)}function xF(t){var e=kF();return function(){var i=ud(t),r;if(e){var o=ud(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return SF(this,r)}}function SF(t,e){return e&&(Zf(e)==="object"||typeof e=="function")?e:f0(t)}function f0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ud(t)}function _x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var CF=function(t){wF(n,t);var e=xF(n);function n(){var i;bF(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),_x(f0(i),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),_x(f0(i),"priority",110),i}return _F(n,[{key:"parse",value:function(r,o,s){var a=function(c){return c-1};switch(o){case"M":return en(Ht(Zt.month,r),a);case"MM":return en(Kt(2,r),a);case"Mo":return en(s.ordinalNumber(r,{unit:"month"}),a);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=11}},{key:"set",value:function(r,o,s){return r.setUTCMonth(s,1),r.setUTCHours(0,0,0,0),r}}]),n}(ut);function eh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eh=function(n){return typeof n}:eh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},eh(t)}function OF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function MF(t,e,n){return e&&wx(t.prototype,e),n&&wx(t,n),t}function AF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h0(t,e)}function h0(t,e){return h0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},h0(t,e)}function PF(t){var e=DF();return function(){var i=fd(t),r;if(e){var o=fd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return TF(this,r)}}function TF(t,e){return e&&(eh(e)==="object"||typeof e=="function")?e:d0(t)}function d0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},fd(t)}function xx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $F=function(t){AF(n,t);var e=PF(n);function n(){var i;OF(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),xx(d0(i),"priority",110),xx(d0(i),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),i}return MF(n,[{key:"parse",value:function(r,o,s){var a=function(c){return c-1};switch(o){case"L":return en(Ht(Zt.month,r),a);case"LL":return en(Kt(2,r),a);case"Lo":return en(s.ordinalNumber(r,{unit:"month"}),a);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=11}},{key:"set",value:function(r,o,s){return r.setUTCMonth(s,1),r.setUTCHours(0,0,0,0),r}}]),n}(ut);function RF(t,e,n){Re(2,arguments);var i=ze(t),r=Ve(e),o=KP(i,n)-r;return i.setUTCDate(i.getUTCDate()-o*7),i}function th(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?th=function(n){return typeof n}:th=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},th(t)}function EF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function IF(t,e,n){return e&&Sx(t.prototype,e),n&&Sx(t,n),t}function LF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p0(t,e)}function p0(t,e){return p0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},p0(t,e)}function NF(t){var e=FF();return function(){var i=hd(t),r;if(e){var o=hd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return BF(this,r)}}function BF(t,e){return e&&(th(e)==="object"||typeof e=="function")?e:g0(t)}function g0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hd(t){return hd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},hd(t)}function kx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var HF=function(t){LF(n,t);var e=NF(n);function n(){var i;EF(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),kx(g0(i),"priority",100),kx(g0(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),i}return IF(n,[{key:"parse",value:function(r,o,s){switch(o){case"w":return Ht(Zt.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return Kt(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=53}},{key:"set",value:function(r,o,s,a){return Hs(RF(r,s,a),a)}}]),n}(ut);function VF(t,e){Re(2,arguments);var n=ze(t),i=Ve(e),r=qP(n)-i;return n.setUTCDate(n.getUTCDate()-r*7),n}function nh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nh=function(n){return typeof n}:nh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nh(t)}function jF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function zF(t,e,n){return e&&Cx(t.prototype,e),n&&Cx(t,n),t}function WF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m0(t,e)}function m0(t,e){return m0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},m0(t,e)}function UF(t){var e=qF();return function(){var i=dd(t),r;if(e){var o=dd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return YF(this,r)}}function YF(t,e){return e&&(nh(e)==="object"||typeof e=="function")?e:y0(t)}function y0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dd(t){return dd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},dd(t)}function Ox(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var KF=function(t){WF(n,t);var e=UF(n);function n(){var i;jF(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),Ox(y0(i),"priority",100),Ox(y0(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),i}return zF(n,[{key:"parse",value:function(r,o,s){switch(o){case"I":return Ht(Zt.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return Kt(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=53}},{key:"set",value:function(r,o,s){return Ka(VF(r,s))}}]),n}(ut);function ih(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ih=function(n){return typeof n}:ih=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ih(t)}function GF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function XF(t,e,n){return e&&Mx(t.prototype,e),n&&Mx(t,n),t}function JF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},v0(t,e)}function QF(t){var e=eH();return function(){var i=pd(t),r;if(e){var o=pd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return ZF(this,r)}}function ZF(t,e){return e&&(ih(e)==="object"||typeof e=="function")?e:rh(t)}function rh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pd(t){return pd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},pd(t)}function om(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tH=[31,28,31,30,31,30,31,31,30,31,30,31],nH=[31,29,31,30,31,30,31,31,30,31,30,31],iH=function(t){JF(n,t);var e=QF(n);function n(){var i;GF(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),om(rh(i),"priority",90),om(rh(i),"subPriority",1),om(rh(i),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),i}return XF(n,[{key:"parse",value:function(r,o,s){switch(o){case"d":return Ht(Zt.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return Kt(o.length,r)}}},{key:"validate",value:function(r,o){var s=r.getUTCFullYear(),a=o2(s),l=r.getUTCMonth();return a?o>=1&&o<=nH[l]:o>=1&&o<=tH[l]}},{key:"set",value:function(r,o,s){return r.setUTCDate(s),r.setUTCHours(0,0,0,0),r}}]),n}(ut);function oh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oh=function(n){return typeof n}:oh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},oh(t)}function rH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ax(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function oH(t,e,n){return e&&Ax(t.prototype,e),n&&Ax(t,n),t}function sH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b0(t,e)}function b0(t,e){return b0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},b0(t,e)}function aH(t){var e=cH();return function(){var i=gd(t),r;if(e){var o=gd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return lH(this,r)}}function lH(t,e){return e&&(oh(e)==="object"||typeof e=="function")?e:sh(t)}function sh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gd(t){return gd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},gd(t)}function sm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uH=function(t){sH(n,t);var e=aH(n);function n(){var i;rH(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),sm(sh(i),"priority",90),sm(sh(i),"subpriority",1),sm(sh(i),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),i}return oH(n,[{key:"parse",value:function(r,o,s){switch(o){case"D":case"DD":return Ht(Zt.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return Kt(o.length,r)}}},{key:"validate",value:function(r,o){var s=r.getUTCFullYear(),a=o2(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(r,o,s){return r.setUTCMonth(0,s),r.setUTCHours(0,0,0,0),r}}]),n}(ut);function s1(t,e,n){var i,r,o,s,a,l,c,u;Re(2,arguments);var f=Jo(),h=Ve((i=(r=(o=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=ze(t),p=Ve(e),g=d.getUTCDay(),y=p%7,m=(y+7)%7,b=(m<h?7:0)+p-g;return d.setUTCDate(d.getUTCDate()+b),d}function ah(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ah=function(n){return typeof n}:ah=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ah(t)}function fH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Px(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function hH(t,e,n){return e&&Px(t.prototype,e),n&&Px(t,n),t}function dH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_0(t,e)}function _0(t,e){return _0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},_0(t,e)}function pH(t){var e=mH();return function(){var i=md(t),r;if(e){var o=md(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return gH(this,r)}}function gH(t,e){return e&&(ah(e)==="object"||typeof e=="function")?e:w0(t)}function w0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},md(t)}function Tx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yH=function(t){dH(n,t);var e=pH(n);function n(){var i;fH(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),Tx(w0(i),"priority",90),Tx(w0(i),"incompatibleTokens",["D","i","e","c","t","T"]),i}return hH(n,[{key:"parse",value:function(r,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=6}},{key:"set",value:function(r,o,s,a){return r=s1(r,s,a),r.setUTCHours(0,0,0,0),r}}]),n}(ut);function lh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lh=function(n){return typeof n}:lh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},lh(t)}function vH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function bH(t,e,n){return e&&Dx(t.prototype,e),n&&Dx(t,n),t}function _H(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x0(t,e)}function x0(t,e){return x0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},x0(t,e)}function wH(t){var e=SH();return function(){var i=yd(t),r;if(e){var o=yd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return xH(this,r)}}function xH(t,e){return e&&(lh(e)==="object"||typeof e=="function")?e:S0(t)}function S0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yd(t)}function $x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kH=function(t){_H(n,t);var e=wH(n);function n(){var i;vH(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),$x(S0(i),"priority",90),$x(S0(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),i}return bH(n,[{key:"parse",value:function(r,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return en(Kt(o.length,r),l);case"eo":return en(s.ordinalNumber(r,{unit:"day"}),l);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=6}},{key:"set",value:function(r,o,s,a){return r=s1(r,s,a),r.setUTCHours(0,0,0,0),r}}]),n}(ut);function ch(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ch=function(n){return typeof n}:ch=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ch(t)}function CH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function OH(t,e,n){return e&&Rx(t.prototype,e),n&&Rx(t,n),t}function MH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k0(t,e)}function k0(t,e){return k0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},k0(t,e)}function AH(t){var e=TH();return function(){var i=vd(t),r;if(e){var o=vd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return PH(this,r)}}function PH(t,e){return e&&(ch(e)==="object"||typeof e=="function")?e:C0(t)}function C0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vd(t){return vd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},vd(t)}function Ex(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DH=function(t){MH(n,t);var e=AH(n);function n(){var i;CH(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),Ex(C0(i),"priority",90),Ex(C0(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),i}return OH(n,[{key:"parse",value:function(r,o,s,a){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return en(Kt(o.length,r),l);case"co":return en(s.ordinalNumber(r,{unit:"day"}),l);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,o){return o>=0&&o<=6}},{key:"set",value:function(r,o,s,a){return r=s1(r,s,a),r.setUTCHours(0,0,0,0),r}}]),n}(ut);function $H(t,e){Re(2,arguments);var n=Ve(e);n%7===0&&(n=n-7);var i=1,r=ze(t),o=r.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<i?7:0)+n-o;return r.setUTCDate(r.getUTCDate()+l),r}function uh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uh=function(n){return typeof n}:uh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},uh(t)}function RH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ix(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function EH(t,e,n){return e&&Ix(t.prototype,e),n&&Ix(t,n),t}function IH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O0(t,e)}function O0(t,e){return O0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},O0(t,e)}function LH(t){var e=BH();return function(){var i=bd(t),r;if(e){var o=bd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return NH(this,r)}}function NH(t,e){return e&&(uh(e)==="object"||typeof e=="function")?e:M0(t)}function M0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},bd(t)}function Lx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var FH=function(t){IH(n,t);var e=LH(n);function n(){var i;RH(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),Lx(M0(i),"priority",90),Lx(M0(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),i}return EH(n,[{key:"parse",value:function(r,o,s){var a=function(c){return c===0?7:c};switch(o){case"i":case"ii":return Kt(o.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return en(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return en(s.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return en(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return en(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(r,o){return o>=1&&o<=7}},{key:"set",value:function(r,o,s){return r=$H(r,s),r.setUTCHours(0,0,0,0),r}}]),n}(ut);function fh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fh=function(n){return typeof n}:fh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fh(t)}function HH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function VH(t,e,n){return e&&Nx(t.prototype,e),n&&Nx(t,n),t}function jH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A0(t,e)}function A0(t,e){return A0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},A0(t,e)}function zH(t){var e=UH();return function(){var i=_d(t),r;if(e){var o=_d(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return WH(this,r)}}function WH(t,e){return e&&(fh(e)==="object"||typeof e=="function")?e:P0(t)}function P0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _d(t){return _d=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},_d(t)}function Bx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var YH=function(t){jH(n,t);var e=zH(n);function n(){var i;HH(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),Bx(P0(i),"priority",80),Bx(P0(i),"incompatibleTokens",["b","B","H","k","t","T"]),i}return VH(n,[{key:"parse",value:function(r,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,o,s){return r.setUTCHours(o1(s),0,0,0),r}}]),n}(ut);function hh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hh=function(n){return typeof n}:hh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hh(t)}function qH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function KH(t,e,n){return e&&Fx(t.prototype,e),n&&Fx(t,n),t}function GH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T0(t,e)}function T0(t,e){return T0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},T0(t,e)}function XH(t){var e=QH();return function(){var i=wd(t),r;if(e){var o=wd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return JH(this,r)}}function JH(t,e){return e&&(hh(e)==="object"||typeof e=="function")?e:D0(t)}function D0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wd(t)}function Hx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ZH=function(t){GH(n,t);var e=XH(n);function n(){var i;qH(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),Hx(D0(i),"priority",80),Hx(D0(i),"incompatibleTokens",["a","B","H","k","t","T"]),i}return KH(n,[{key:"parse",value:function(r,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,o,s){return r.setUTCHours(o1(s),0,0,0),r}}]),n}(ut);function dh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dh=function(n){return typeof n}:dh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dh(t)}function eV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function tV(t,e,n){return e&&Vx(t.prototype,e),n&&Vx(t,n),t}function nV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},$0(t,e)}function iV(t){var e=oV();return function(){var i=xd(t),r;if(e){var o=xd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return rV(this,r)}}function rV(t,e){return e&&(dh(e)==="object"||typeof e=="function")?e:R0(t)}function R0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},xd(t)}function jx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sV=function(t){nV(n,t);var e=iV(n);function n(){var i;eV(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),jx(R0(i),"priority",80),jx(R0(i),"incompatibleTokens",["a","b","t","T"]),i}return tV(n,[{key:"parse",value:function(r,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,o,s){return r.setUTCHours(o1(s),0,0,0),r}}]),n}(ut);function ph(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ph=function(n){return typeof n}:ph=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ph(t)}function aV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function lV(t,e,n){return e&&zx(t.prototype,e),n&&zx(t,n),t}function cV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E0(t,e)}function E0(t,e){return E0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},E0(t,e)}function uV(t){var e=hV();return function(){var i=Sd(t),r;if(e){var o=Sd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return fV(this,r)}}function fV(t,e){return e&&(ph(e)==="object"||typeof e=="function")?e:I0(t)}function I0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sd(t){return Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Sd(t)}function Wx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dV=function(t){cV(n,t);var e=uV(n);function n(){var i;aV(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),Wx(I0(i),"priority",70),Wx(I0(i),"incompatibleTokens",["H","K","k","t","T"]),i}return lV(n,[{key:"parse",value:function(r,o,s){switch(o){case"h":return Ht(Zt.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return Kt(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=12}},{key:"set",value:function(r,o,s){var a=r.getUTCHours()>=12;return a&&s<12?r.setUTCHours(s+12,0,0,0):!a&&s===12?r.setUTCHours(0,0,0,0):r.setUTCHours(s,0,0,0),r}}]),n}(ut);function gh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gh=function(n){return typeof n}:gh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gh(t)}function pV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ux(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function gV(t,e,n){return e&&Ux(t.prototype,e),n&&Ux(t,n),t}function mV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L0(t,e)}function L0(t,e){return L0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},L0(t,e)}function yV(t){var e=bV();return function(){var i=kd(t),r;if(e){var o=kd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return vV(this,r)}}function vV(t,e){return e&&(gh(e)==="object"||typeof e=="function")?e:N0(t)}function N0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kd(t){return kd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},kd(t)}function Yx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _V=function(t){mV(n,t);var e=yV(n);function n(){var i;pV(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),Yx(N0(i),"priority",70),Yx(N0(i),"incompatibleTokens",["a","b","h","K","k","t","T"]),i}return gV(n,[{key:"parse",value:function(r,o,s){switch(o){case"H":return Ht(Zt.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return Kt(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=23}},{key:"set",value:function(r,o,s){return r.setUTCHours(s,0,0,0),r}}]),n}(ut);function mh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mh=function(n){return typeof n}:mh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},mh(t)}function wV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function xV(t,e,n){return e&&qx(t.prototype,e),n&&qx(t,n),t}function SV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B0(t,e)}function B0(t,e){return B0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},B0(t,e)}function kV(t){var e=OV();return function(){var i=Cd(t),r;if(e){var o=Cd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return CV(this,r)}}function CV(t,e){return e&&(mh(e)==="object"||typeof e=="function")?e:F0(t)}function F0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cd(t){return Cd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Cd(t)}function Kx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var MV=function(t){SV(n,t);var e=kV(n);function n(){var i;wV(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),Kx(F0(i),"priority",70),Kx(F0(i),"incompatibleTokens",["h","H","k","t","T"]),i}return xV(n,[{key:"parse",value:function(r,o,s){switch(o){case"K":return Ht(Zt.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return Kt(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=11}},{key:"set",value:function(r,o,s){var a=r.getUTCHours()>=12;return a&&s<12?r.setUTCHours(s+12,0,0,0):r.setUTCHours(s,0,0,0),r}}]),n}(ut);function yh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yh=function(n){return typeof n}:yh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yh(t)}function AV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function PV(t,e,n){return e&&Gx(t.prototype,e),n&&Gx(t,n),t}function TV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H0(t,e)}function H0(t,e){return H0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},H0(t,e)}function DV(t){var e=RV();return function(){var i=Od(t),r;if(e){var o=Od(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return $V(this,r)}}function $V(t,e){return e&&(yh(e)==="object"||typeof e=="function")?e:V0(t)}function V0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Od(t)}function Xx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var EV=function(t){TV(n,t);var e=DV(n);function n(){var i;AV(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),Xx(V0(i),"priority",70),Xx(V0(i),"incompatibleTokens",["a","b","h","H","K","t","T"]),i}return PV(n,[{key:"parse",value:function(r,o,s){switch(o){case"k":return Ht(Zt.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return Kt(o.length,r)}}},{key:"validate",value:function(r,o){return o>=1&&o<=24}},{key:"set",value:function(r,o,s){var a=s<=24?s%24:s;return r.setUTCHours(a,0,0,0),r}}]),n}(ut);function vh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vh=function(n){return typeof n}:vh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vh(t)}function IV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function LV(t,e,n){return e&&Jx(t.prototype,e),n&&Jx(t,n),t}function NV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j0(t,e)}function j0(t,e){return j0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},j0(t,e)}function BV(t){var e=HV();return function(){var i=Md(t),r;if(e){var o=Md(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return FV(this,r)}}function FV(t,e){return e&&(vh(e)==="object"||typeof e=="function")?e:z0(t)}function z0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Md(t){return Md=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Md(t)}function Qx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var VV=function(t){NV(n,t);var e=BV(n);function n(){var i;IV(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),Qx(z0(i),"priority",60),Qx(z0(i),"incompatibleTokens",["t","T"]),i}return LV(n,[{key:"parse",value:function(r,o,s){switch(o){case"m":return Ht(Zt.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return Kt(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=59}},{key:"set",value:function(r,o,s){return r.setUTCMinutes(s,0,0),r}}]),n}(ut);function bh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bh=function(n){return typeof n}:bh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bh(t)}function jV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zx(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function zV(t,e,n){return e&&Zx(t.prototype,e),n&&Zx(t,n),t}function WV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W0(t,e)}function W0(t,e){return W0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},W0(t,e)}function UV(t){var e=qV();return function(){var i=Ad(t),r;if(e){var o=Ad(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return YV(this,r)}}function YV(t,e){return e&&(bh(e)==="object"||typeof e=="function")?e:U0(t)}function U0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ad(t)}function eS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var KV=function(t){WV(n,t);var e=UV(n);function n(){var i;jV(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),eS(U0(i),"priority",50),eS(U0(i),"incompatibleTokens",["t","T"]),i}return zV(n,[{key:"parse",value:function(r,o,s){switch(o){case"s":return Ht(Zt.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return Kt(o.length,r)}}},{key:"validate",value:function(r,o){return o>=0&&o<=59}},{key:"set",value:function(r,o,s){return r.setUTCSeconds(s,0),r}}]),n}(ut);function _h(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_h=function(n){return typeof n}:_h=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_h(t)}function GV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function XV(t,e,n){return e&&tS(t.prototype,e),n&&tS(t,n),t}function JV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y0(t,e)}function Y0(t,e){return Y0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Y0(t,e)}function QV(t){var e=e4();return function(){var i=Pd(t),r;if(e){var o=Pd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return ZV(this,r)}}function ZV(t,e){return e&&(_h(e)==="object"||typeof e=="function")?e:q0(t)}function q0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Pd(t)}function nS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var t4=function(t){JV(n,t);var e=QV(n);function n(){var i;GV(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),nS(q0(i),"priority",30),nS(q0(i),"incompatibleTokens",["t","T"]),i}return XV(n,[{key:"parse",value:function(r,o){var s=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return en(Kt(o.length,r),s)}},{key:"set",value:function(r,o,s){return r.setUTCMilliseconds(s),r}}]),n}(ut);function wh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wh=function(n){return typeof n}:wh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wh(t)}function n4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i4(t,e,n){return e&&iS(t.prototype,e),n&&iS(t,n),t}function r4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},K0(t,e)}function o4(t){var e=a4();return function(){var i=Td(t),r;if(e){var o=Td(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return s4(this,r)}}function s4(t,e){return e&&(wh(e)==="object"||typeof e=="function")?e:G0(t)}function G0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Td(t){return Td=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Td(t)}function rS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l4=function(t){r4(n,t);var e=o4(n);function n(){var i;n4(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),rS(G0(i),"priority",10),rS(G0(i),"incompatibleTokens",["t","T","x"]),i}return i4(n,[{key:"parse",value:function(r,o){switch(o){case"X":return dr(hr.basicOptionalMinutes,r);case"XX":return dr(hr.basic,r);case"XXXX":return dr(hr.basicOptionalSeconds,r);case"XXXXX":return dr(hr.extendedOptionalSeconds,r);case"XXX":default:return dr(hr.extended,r)}}},{key:"set",value:function(r,o,s){return o.timestampIsSet?r:new Date(r.getTime()-s)}}]),n}(ut);function xh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xh=function(n){return typeof n}:xh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xh(t)}function c4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u4(t,e,n){return e&&oS(t.prototype,e),n&&oS(t,n),t}function f4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X0(t,e)}function X0(t,e){return X0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},X0(t,e)}function h4(t){var e=p4();return function(){var i=Dd(t),r;if(e){var o=Dd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return d4(this,r)}}function d4(t,e){return e&&(xh(e)==="object"||typeof e=="function")?e:J0(t)}function J0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dd(t){return Dd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Dd(t)}function sS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g4=function(t){f4(n,t);var e=h4(n);function n(){var i;c4(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),sS(J0(i),"priority",10),sS(J0(i),"incompatibleTokens",["t","T","X"]),i}return u4(n,[{key:"parse",value:function(r,o){switch(o){case"x":return dr(hr.basicOptionalMinutes,r);case"xx":return dr(hr.basic,r);case"xxxx":return dr(hr.basicOptionalSeconds,r);case"xxxxx":return dr(hr.extendedOptionalSeconds,r);case"xxx":default:return dr(hr.extended,r)}}},{key:"set",value:function(r,o,s){return o.timestampIsSet?r:new Date(r.getTime()-s)}}]),n}(ut);function Sh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sh=function(n){return typeof n}:Sh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Sh(t)}function m4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y4(t,e,n){return e&&aS(t.prototype,e),n&&aS(t,n),t}function v4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q0(t,e)}function Q0(t,e){return Q0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Q0(t,e)}function b4(t){var e=w4();return function(){var i=$d(t),r;if(e){var o=$d(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return _4(this,r)}}function _4(t,e){return e&&(Sh(e)==="object"||typeof e=="function")?e:Z0(t)}function Z0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $d(t){return $d=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$d(t)}function lS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x4=function(t){v4(n,t);var e=b4(n);function n(){var i;m4(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),lS(Z0(i),"priority",40),lS(Z0(i),"incompatibleTokens","*"),i}return y4(n,[{key:"parse",value:function(r){return i2(r)}},{key:"set",value:function(r,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(ut);function kh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kh=function(n){return typeof n}:kh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},kh(t)}function S4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cS(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function k4(t,e,n){return e&&cS(t.prototype,e),n&&cS(t,n),t}function C4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ev(t,e)}function ev(t,e){return ev=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},ev(t,e)}function O4(t){var e=A4();return function(){var i=Rd(t),r;if(e){var o=Rd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return M4(this,r)}}function M4(t,e){return e&&(kh(e)==="object"||typeof e=="function")?e:tv(t)}function tv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Rd(t)}function uS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P4=function(t){C4(n,t);var e=O4(n);function n(){var i;S4(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o)),uS(tv(i),"priority",20),uS(tv(i),"incompatibleTokens","*"),i}return k4(n,[{key:"parse",value:function(r){return i2(r)}},{key:"set",value:function(r,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(ut),T4={G:new T5,y:new N5,Y:new W5,R:new J5,u:new rF,Q:new fF,q:new vF,M:new CF,L:new $F,w:new HF,I:new KF,d:new iH,D:new uH,E:new yH,e:new kH,c:new DH,i:new FH,a:new YH,b:new ZH,B:new sV,h:new dV,H:new _V,K:new MV,k:new EV,m:new VV,s:new KV,S:new t4,X:new l4,x:new g4,t:new x4,T:new P4};function Ch(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ch=function(n){return typeof n}:Ch=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ch(t)}function fS(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=D4(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){n=t[Symbol.iterator]()},n:function(){var c=n.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function D4(t,e){if(t){if(typeof t=="string")return hS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hS(t,e)}}function hS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var $4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,R4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,E4=/^'([^]*?)'?$/,I4=/''/g,L4=/\S/,N4=/[a-zA-Z]/;function nv(t,e,n,i){var r,o,s,a,l,c,u,f,h,d,p,g,y,m,b,_,w,S;Re(3,arguments);var A=String(t),x=String(e),k=Jo(),P=(r=(o=i==null?void 0:i.locale)!==null&&o!==void 0?o:k.locale)!==null&&r!==void 0?r:QP;if(!P.match)throw new RangeError("locale must contain match property");var E=Ve((s=(a=(l=(c=i==null?void 0:i.firstWeekContainsDate)!==null&&c!==void 0?c:i==null||(u=i.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&a!==void 0?a:(h=k.locale)===null||h===void 0||(d=h.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=Ve((p=(g=(y=(m=i==null?void 0:i.weekStartsOn)!==null&&m!==void 0?m:i==null||(b=i.locale)===null||b===void 0||(_=b.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&y!==void 0?y:k.weekStartsOn)!==null&&g!==void 0?g:(w=k.locale)===null||w===void 0||(S=w.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&p!==void 0?p:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(x==="")return A===""?ze(n):new Date(NaN);var B={firstWeekContainsDate:E,weekStartsOn:I,locale:P},J=[new w5],ee=x.match(R4).map(function(G){var ae=G[0];if(ae in Yy){var _e=Yy[ae];return _e(G,P.formatLong)}return G}).join("").match($4),F=[],z=fS(ee),v;try{var $=function(){var ae=v.value;!(i!=null&&i.useAdditionalWeekYearTokens)&&JP(ae)&&ed(ae,x,t),!(i!=null&&i.useAdditionalDayOfYearTokens)&&XP(ae)&&ed(ae,x,t);var _e=ae[0],xe=T4[_e];if(xe){var T=xe.incompatibleTokens;if(Array.isArray(T)){var R=F.find(function(K){return T.includes(K.token)||K.token===_e});if(R)throw new RangeError("The format string mustn't contain `".concat(R.fullToken,"` and `").concat(ae,"` at the same time"))}else if(xe.incompatibleTokens==="*"&&F.length>0)throw new RangeError("The format string mustn't contain `".concat(ae,"` and any other token at the same time"));F.push({token:_e,fullToken:ae});var q=xe.run(A,ae,P.match,B);if(!q)return{v:new Date(NaN)};J.push(q.setter),A=q.rest}else{if(_e.match(N4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_e+"`");if(ae==="''"?ae="'":_e==="'"&&(ae=B4(ae)),A.indexOf(ae)===0)A=A.slice(ae.length);else return{v:new Date(NaN)}}};for(z.s();!(v=z.n()).done;){var W=$();if(Ch(W)==="object")return W.v}}catch(G){z.e(G)}finally{z.f()}if(A.length>0&&L4.test(A))return new Date(NaN);var Y=J.map(function(G){return G.priority}).sort(function(G,ae){return ae-G}).filter(function(G,ae,_e){return _e.indexOf(G)===ae}).map(function(G){return J.filter(function(ae){return ae.priority===G}).sort(function(ae,_e){return _e.subPriority-ae.subPriority})}).map(function(G){return G[0]}),Q=ze(n);if(isNaN(Q.getTime()))return new Date(NaN);var ce=UP(Q,Zh(Q)),X={},L=fS(Y),O;try{for(L.s();!(O=L.n()).done;){var N=O.value;if(!N.validate(ce,B))return new Date(NaN);var V=N.set(ce,X,B);Array.isArray(V)?(ce=V[0],h5(X,V[1])):ce=V}}catch(G){L.e(G)}finally{L.f()}return ce}function B4(t){return t.match(E4)[1].replace(I4,"'")}function F4(t,e){Re(2,arguments);var n=Ve(e);return $o(t,-n)}function H4(t,e){var n;Re(1,arguments);var i=Ve((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var r=W4(t),o;if(r.date){var s=U4(r.date,i);o=Y4(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a=o.getTime(),l=0,c;if(r.time&&(l=q4(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(c=K4(r.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(a+l+c)}var Ju={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},V4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,j4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,z4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function W4(t){var e={},n=t.split(Ju.dateTimeDelimiter),i;if(n.length>2)return e;if(/:/.test(n[0])?i=n[0]:(e.date=n[0],i=n[1],Ju.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ju.timeZoneDelimiter)[0],i=t.substr(e.date.length,t.length))),i){var r=Ju.timezone.exec(i);r?(e.time=i.replace(r[1],""),e.timezone=r[1]):e.time=i}return e}function U4(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=t.match(n);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:o===null?r:o*100,restDateString:t.slice((i[1]||i[2]).length)}}function Y4(t,e){if(e===null)return new Date(NaN);var n=t.match(V4);if(!n)return new Date(NaN);var i=!!n[4],r=Hl(n[1]),o=Hl(n[2])-1,s=Hl(n[3]),a=Hl(n[4]),l=Hl(n[5])-1;if(i)return Z4(e,a,l)?G4(e,a,l):new Date(NaN);var c=new Date(0);return!J4(e,o,s)||!Q4(e,r)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(r,s)),c)}function Hl(t){return t?parseInt(t):1}function q4(t){var e=t.match(j4);if(!e)return NaN;var n=am(e[1]),i=am(e[2]),r=am(e[3]);return e8(n,i,r)?n*Zb+i*Qb+r*1e3:NaN}function am(t){return t&&parseFloat(t.replace(",","."))||0}function K4(t){if(t==="Z")return 0;var e=t.match(z4);if(!e)return 0;var n=e[1]==="+"?-1:1,i=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return t8(i,r)?n*(i*Zb+r*Qb):NaN}function G4(t,e,n){var i=new Date(0);i.setUTCFullYear(t,0,4);var r=i.getUTCDay()||7,o=(e-1)*7+n+1-r;return i.setUTCDate(i.getUTCDate()+o),i}var X4=[31,null,31,30,31,30,31,31,30,31,30,31];function s2(t){return t%400===0||t%4===0&&t%100!==0}function J4(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(X4[e]||(s2(t)?29:28))}function Q4(t,e){return e>=1&&e<=(s2(t)?366:365)}function Z4(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function e8(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function t8(t,e){return e>=0&&e<=59}function Oc(t,e){Re(2,arguments);var n=ze(t),i=Ve(e),r=n.getFullYear(),o=n.getDate(),s=new Date(0);s.setFullYear(r,i,15),s.setHours(0,0,0,0);var a=p5(s);return n.setMonth(i,Math.min(o,a)),n}function Oh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Oh=function(n){return typeof n}:Oh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Oh(t)}function Vn(t,e){if(Re(2,arguments),Oh(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=ze(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=Oc(n,e.month)),e.date!=null&&n.setDate(Ve(e.date)),e.hours!=null&&n.setHours(Ve(e.hours)),e.minutes!=null&&n.setMinutes(Ve(e.minutes)),e.seconds!=null&&n.setSeconds(Ve(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Ve(e.milliseconds)),n)}function a2(t,e){Re(2,arguments);var n=ze(t),i=Ve(e);return n.setHours(i),n}function a1(t,e){Re(2,arguments);var n=ze(t),i=Ve(e);return n.setMilliseconds(i),n}function l2(t,e){Re(2,arguments);var n=ze(t),i=Ve(e);return n.setMinutes(i),n}function c2(t,e){Re(2,arguments);var n=ze(t),i=Ve(e);return n.setSeconds(i),n}function Rs(t,e){Re(2,arguments);var n=ze(t),i=Ve(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(i),n)}function Ea(t,e){Re(2,arguments);var n=Ve(e);return mr(t,-n)}function Mh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mh=function(n){return typeof n}:Mh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Mh(t)}function n8(t,e){if(Re(2,arguments),!e||Mh(e)!=="object")return new Date(NaN);var n=e.years?Ve(e.years):0,i=e.months?Ve(e.months):0,r=e.weeks?Ve(e.weeks):0,o=e.days?Ve(e.days):0,s=e.hours?Ve(e.hours):0,a=e.minutes?Ve(e.minutes):0,l=e.seconds?Ve(e.seconds):0,c=Ea(t,i+n*12),u=F4(c,o+r*7),f=a+s*60,h=l+f*60,d=h*1e3,p=new Date(u.getTime()-d);return p}function i8(t,e){Re(2,arguments);var n=Ve(e);return zP(t,-n)}const Js=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},r8={},o8={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},s8=j("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),a8=j("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),l8=j("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),c8=j("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1),u8=[s8,a8,l8,c8];function f8(t,e){return M(),D("svg",o8,u8)}const tg=Js(r8,[["render",f8]]),h8={},d8={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},p8=j("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),g8=j("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),m8=[p8,g8];function y8(t,e){return M(),D("svg",d8,m8)}const v8=Js(h8,[["render",y8]]),b8={},_8={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},w8=j("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),x8=[w8];function S8(t,e){return M(),D("svg",_8,x8)}const dS=Js(b8,[["render",S8]]),k8={},C8={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},O8=j("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1),M8=[O8];function A8(t,e){return M(),D("svg",C8,M8)}const pS=Js(k8,[["render",A8]]),P8={},T8={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},D8=j("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),$8=j("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),R8=[D8,$8];function E8(t,e){return M(),D("svg",T8,R8)}const u2=Js(P8,[["render",E8]]),I8={},L8={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},N8=j("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1),B8=[N8];function F8(t,e){return M(),D("svg",L8,B8)}const f2=Js(I8,[["render",F8]]),H8={},V8={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},j8=j("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1),z8=[j8];function W8(t,e){return M(),D("svg",V8,z8)}const h2=Js(H8,[["render",W8]]),gS=(t,e)=>{const n=nv(t,e.slice(0,t.length),new Date);return kc(n)&&WP(n)?n:null},U8=(t,e)=>{if(typeof e=="string")return gS(t,e);if(Array.isArray(e)){let n=null;for(const i of e)if(n=gS(t,i),n)break;return n}return typeof e=="function"?e(t):null},le=t=>t?new Date(t):new Date,Y8=(t,e)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0");return`${t.getFullYear()}-${i}-${r}T${o}:${s}:00.000Z`}const n=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(n).toISOString()},Pr=t=>{let e=le(JSON.parse(JSON.stringify(t)));return e=a2(e,0),e=l2(e,0),e=c2(e,0),e=a1(e,0),e},Ci=(t,e,n,i)=>{let r=t?le(t):le();return(e||e===0)&&(r=a2(r,+e)),(n||n===0)&&(r=l2(r,+n)),(i||i===0)&&(r=c2(r,+i)),a1(r,0)},Pn=(t,e)=>!t||!e?!1:n1(Pr(t),Pr(e)),It=(t,e)=>!t||!e?!1:ZP(Pr(t),Pr(e)),Wn=(t,e)=>!t||!e?!1:t1(Pr(t),Pr(e)),d2=(t,e,n)=>t&&t[0]&&t[1]?Wn(n,t[0])&&Pn(n,t[1]):t&&t[0]&&e?Wn(n,t[0])&&Pn(n,e)||Pn(n,t[0])&&Wn(n,e):!1,Vl=qt({menuFocused:!1,shiftKeyInMenu:!1}),p2=()=>{const t=n=>{Vl.menuFocused=n},e=n=>{Vl.shiftKeyInMenu!==n&&(Vl.shiftKeyInMenu=n)};return{control:Z(()=>({shiftKeyInMenu:Vl.shiftKeyInMenu,menuFocused:Vl.menuFocused})),setMenuFocused:t,setShiftKey:e}};function l1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ed={},q8={get exports(){return Ed},set exports(t){Ed=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(i){if(i===null||i===!0||i===!1)return NaN;var r=Number(i);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}t.exports=e.default})(q8,Ed);const K8=l1(Ed);var Id={},G8={get exports(){return Id},set exports(t){Id=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(i){var r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return r.setUTCFullYear(i.getFullYear()),i.getTime()-r.getTime()}t.exports=e.default})(G8,Id);const mS=l1(Id);function X8(t,e){var n=ej(e);return n.formatToParts?Q8(n,t):Z8(n,t)}var J8={year:0,month:1,day:2,hour:3,minute:4,second:5};function Q8(t,e){try{for(var n=t.formatToParts(e),i=[],r=0;r<n.length;r++){var o=J8[n[r].type];o>=0&&(i[o]=parseInt(n[r].value,10))}return i}catch(s){if(s instanceof RangeError)return[NaN];throw s}}function Z8(t,e){var n=t.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[i[3],i[1],i[2],i[4],i[5],i[6]]}var lm={};function ej(t){if(!lm[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";lm[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return lm[t]}function c1(t,e,n,i,r,o,s){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(i,r,o,s),a}var yS=36e5,tj=6e4,cm={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function u1(t,e,n){var i,r;if(!t||(i=cm.timezoneZ.exec(t),i))return 0;var o;if(i=cm.timezoneHH.exec(t),i)return o=parseInt(i[1],10),vS(o)?-(o*yS):NaN;if(i=cm.timezoneHHMM.exec(t),i){o=parseInt(i[1],10);var s=parseInt(i[2],10);return vS(o,s)?(r=Math.abs(o)*yS+s*tj,o>0?-r:r):NaN}if(rj(t)){e=new Date(e||Date.now());var a=n?e:nj(e),l=iv(a,t),c=n?l:ij(e,l,t);return-c}return NaN}function nj(t){return c1(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function iv(t,e){var n=X8(t,e),i=c1(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),r=t.getTime(),o=r%1e3;return r-=o>=0?o:1e3+o,i-r}function ij(t,e,n){var i=t.getTime(),r=i-e,o=iv(new Date(r),n);if(e===o)return e;r-=o-e;var s=iv(new Date(r),n);return o===s?o:Math.max(o,s)}function vS(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var bS={};function rj(t){if(bS[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),bS[t]=!0,!0}catch{return!1}}var oj=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const g2=oj;var um=36e5,_S=6e4,sj=2,jn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:g2};function rv(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},i=n.additionalDigits==null?sj:K8(n.additionalDigits);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var r=aj(t),o=lj(r.date,i),s=o.year,a=o.restDateString,l=cj(a,s);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),u=0,f;if(r.time&&(u=uj(r.time),isNaN(u)))return new Date(NaN);if(r.timeZone||n.timeZone){if(f=u1(r.timeZone||n.timeZone,new Date(c+u)),isNaN(f))return new Date(NaN)}else f=mS(new Date(c+u)),f=mS(new Date(c+u+f));return new Date(c+u+f)}else return new Date(NaN)}function aj(t){var e={},n=jn.dateTimePattern.exec(t),i;if(n?(e.date=n[1],i=n[3]):(n=jn.datePattern.exec(t),n?(e.date=n[1],i=n[2]):(e.date=null,i=t)),i){var r=jn.timeZone.exec(i);r?(e.time=i.replace(r[1],""),e.timeZone=r[1].trim()):e.time=i}return e}function lj(t,e){var n=jn.YYY[e],i=jn.YYYYY[e],r;if(r=jn.YYYY.exec(t)||i.exec(t),r){var o=r[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(r=jn.YY.exec(t)||n.exec(t),r){var s=r[1];return{year:parseInt(s,10)*100,restDateString:t.slice(s.length)}}return{year:null}}function cj(t,e){if(e===null)return null;var n,i,r,o;if(t.length===0)return i=new Date(0),i.setUTCFullYear(e),i;if(n=jn.MM.exec(t),n)return i=new Date(0),r=parseInt(n[1],10)-1,xS(e,r)?(i.setUTCFullYear(e,r),i):new Date(NaN);if(n=jn.DDD.exec(t),n){i=new Date(0);var s=parseInt(n[1],10);return dj(e,s)?(i.setUTCFullYear(e,0,s),i):new Date(NaN)}if(n=jn.MMDD.exec(t),n){i=new Date(0),r=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return xS(e,r,a)?(i.setUTCFullYear(e,r,a),i):new Date(NaN)}if(n=jn.Www.exec(t),n)return o=parseInt(n[1],10)-1,SS(e,o)?wS(e,o):new Date(NaN);if(n=jn.WwwD.exec(t),n){o=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return SS(e,o,l)?wS(e,o,l):new Date(NaN)}return null}function uj(t){var e,n,i;if(e=jn.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),fm(n)?n%24*um:NaN;if(e=jn.HHMM.exec(t),e)return n=parseInt(e[1],10),i=parseFloat(e[2].replace(",",".")),fm(n,i)?n%24*um+i*_S:NaN;if(e=jn.HHMMSS.exec(t),e){n=parseInt(e[1],10),i=parseInt(e[2],10);var r=parseFloat(e[3].replace(",","."));return fm(n,i,r)?n%24*um+i*_S+r*1e3:NaN}return null}function wS(t,e,n){e=e||0,n=n||0;var i=new Date(0);i.setUTCFullYear(t,0,4);var r=i.getUTCDay()||7,o=e*7+n+1-r;return i.setUTCDate(i.getUTCDate()+o),i}var fj=[31,28,31,30,31,30,31,31,30,31,30,31],hj=[31,29,31,30,31,30,31,31,30,31,30,31];function m2(t){return t%400===0||t%4===0&&t%100!==0}function xS(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var i=m2(t);if(i&&n>hj[e]||!i&&n>fj[e])return!1}return!0}function dj(t,e){if(e<1)return!1;var n=m2(t);return!(n&&e>366||!n&&e>365)}function SS(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function fm(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Ld={},pj={get exports(){return Ld},set exports(t){Ld=t}},Nd={},gj={get exports(){return Nd},set exports(t){Nd=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(i,r){if(i==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o]);return i}t.exports=e.default})(gj,Nd);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=i(Nd);function i(o){return o&&o.__esModule?o:{default:o}}function r(o){return(0,n.default)({},o)}t.exports=e.default})(pj,Ld);const mj=l1(Ld);function yj(t,e,n){var i=rv(t,n),r=u1(e,i,!0),o=new Date(i.getTime()-r),s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}function vj(t,e,n){if(typeof t=="string"&&!t.match(g2)){var i=mj(n);return i.timeZone=e,rv(t,i)}var r=rv(t,n),o=c1(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()).getTime(),s=u1(e,new Date(o));return new Date(o+s)}const bj=(t,e=3)=>{const n=[];for(let i=0;i<t.length;i+=e)n.push([t[i],t[i+1],t[i+2]]);return n},_j=(t,e)=>{const n=[1,2,3,4,5,6,7].map(o=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${o}T00:00:00+00:00`)).slice(0,2)),i=n.slice(0,e),r=n.slice(e+1,n.length);return[n[e]].concat(...r).concat(...i)},wj=t=>{const e=[];for(let n=+t[0];n<=+t[1];n++)e.push({value:+n,text:`${n}`});return e},xj=(t,e)=>{const n=new Intl.DateTimeFormat(t,{month:e,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const r=i<10?`0${i}`:i;return new Date(`2017-${r}-01T00:00:00+00:00`)}).map((i,r)=>({text:n.format(i),value:r}))},Sj=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ln=t=>{const e=C(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},kj=t=>Object.assign({type:"dot"},t),y2=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Bd={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},kn=t=>t,kS=t=>t===0?t:!t||isNaN(+t)?null:+t,CS=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),Cj=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},t),Oj=t=>t===null?0:typeof t=="boolean"?t?2:0:+t>=2?+t:2,Mj=(t,e,n)=>t||(typeof n=="string"?n:e),Aj=t=>typeof t=="boolean"?t?CS({}):!1:CS(t),Pj=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),Tj=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),_i=t=>{const e=()=>{if(t.partialRange)return null;throw new Error(Bd.prop("partial-range"))},n=Z(()=>({ariaLabels:Cj(t.ariaLabels),textInputOptions:Object.assign(Pj(),t.textInputOptions),multiCalendars:Oj(t.multiCalendars),previewFormat:Mj(t.previewFormat,t.format,o()),filters:Tj(t.filters),transitions:Aj(t.transitions),startTime:h()})),i=v=>{if(t.range)return v();throw new Error(Bd.prop("range"))},r=()=>{const v=t.enableSeconds?":ss":"";return t.is24?`HH:mm${v}`:`hh:mm${v} aa`},o=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?r():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${r()}`:"MM/dd/yyyy",s=(v,$)=>{if(typeof t.format=="function")return t.format(v);const W=$||o(),Y=t.formatLocale?{locale:t.formatLocale}:void 0;return Array.isArray(v)?`${Cc(v[0],W,Y)} ${t.modelAuto&&!v[1]?"":n.value.textInputOptions.rangeSeparator||"-"} ${v[1]?Cc(v[1],W,Y):""}`:Cc(v,W,Y)},a=v=>t.timezone?yj(v,t.timezone):v,l=v=>t.timezone?vj(v,t.timezone):v,c=Z(()=>v=>{var $;return($=t.hideNavigation)==null?void 0:$.includes(v)}),u=v=>{const $=t.maxDate?Wn(a(v),a(le(t.maxDate))):!1,W=t.minDate?Pn(a(v),a(le(t.minDate))):!1,Y=m(v,t.disabledDates),Q=n.value.filters.months.map(N=>+N).includes(At(v)),ce=t.disabledWeekDays.length?t.disabledWeekDays.some(N=>+N===d5(v)):!1,X=t.allowedDates.length?!t.allowedDates.some(N=>It(a(le(N)),a(v))):!1,L=Pt(v),O=L<+t.yearRange[0]||L>+t.yearRange[1];return!($||W||Y||Q||O||ce||X)},f=v=>{const $={hours:Wr(le()),minutes:Ur(le()),seconds:Ga(le())};return Object.assign($,v)},h=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[f(t.startTime[0]),f(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?f(t.startTime):null,d=v=>!u(v),p=v=>Array.isArray(v)?kc(v[0])&&(v[1]?kc(v[1]):!0):v?kc(v):!1,g=v=>v instanceof Date?v:H4(v),y=v=>{const $=Uy(a(v),{weekStartsOn:+t.weekStart}),W=l3(a(v),{weekStartsOn:+t.weekStart});return[$,W]},m=(v,$)=>Array.isArray($)?$.some(W=>It(a(le(W)),a(v))):$(v),b=(v,$,W)=>{let Y=v?le(v):le();return($||$===0)&&(Y=Oc(Y,$)),W&&(Y=Rs(Y,W)),Y},_=v=>Vn(le(),{hours:Wr(v),minutes:Ur(v),seconds:Ga(v)}),w=v=>Vn(le(),{hours:+v.hours||0,minutes:+v.minutes||0,seconds:+v.seconds||0}),S=(v,$,W,Y)=>{if(!v)return!0;if(Y){const Q=W==="max"?n1(v,$):t1(v,$),ce={seconds:0,milliseconds:0};return Q||ZP(Vn(v,ce),Vn($,ce))}return W==="max"?v.getTime()<=$.getTime():v.getTime()>=$.getTime()},A=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,x=v=>Array.isArray(v)?[v[0]?_(v[0]):null,v[1]?_(v[1]):null]:_(v),k=v=>{const $=t.maxTime?w(t.maxTime):le(t.maxDate);return Array.isArray(v)?S(v[0],$,"max",!!t.maxDate)&&S(v[1],$,"max",!!t.maxDate):S(v,$,"max",!!t.maxDate)},P=(v,$)=>{const W=t.minTime?w(t.minTime):le(t.minDate);return Array.isArray(v)?S(v[0],W,"min",!!t.minDate)&&S(v[1],W,"min",!!t.minDate)&&$:S(v,W,"min",!!t.minDate)&&$},E=v=>{let $=!0;if(!v||A())return!0;const W=!t.minDate&&!t.maxDate?x(v):v;return(t.maxTime||t.maxDate)&&($=k(kn(W))),(t.minTime||t.minDate)&&($=P(kn(W),$)),$},I=(v,$)=>{const W=le(JSON.parse(JSON.stringify(v))),Y=[];for(let Q=0;Q<7;Q++){const ce=$o(W,Q),X=At(ce)!==$;Y.push({text:t.hideOffsetDates&&X?"":ce.getDate(),value:ce,current:!X,classData:{}})}return Y},B=(v,$)=>{const W=[],Y=le(a(new Date($,v))),Q=le(a(new Date($,v+1,0))),ce=Uy(Y,{weekStartsOn:t.weekStart}),X=L=>{const O=I(L,v);if(W.push({days:O}),!W[W.length-1].days.some(N=>It(Pr(N.value),Pr(Q)))){const N=$o(L,7);X(N)}};if(X(ce),t.sixWeeks&&W.length<6){const L=6-W.length;for(let O=1;O<=L;O++){const N=W[W.length-1],V=N.days[N.days.length-1],G=I($o(V.value,1),At(Y));W.push({days:G})}}return W},J=(v,$,W)=>[Vn(le(v),{date:1}),Vn(le(),{month:$,year:W,date:1})],ee=(v,$)=>Pn(...J(t.minDate,v,$))||It(...J(t.minDate,v,$)),F=(v,$)=>Wn(...J(t.maxDate,v,$))||It(...J(t.maxDate,v,$)),z=(v,$,W)=>{let Y=!1;return t.maxDate&&W&&F(v,$)&&(Y=!0),t.minDate&&!W&&ee(v,$)&&(Y=!0),Y};return{checkPartialRangeValue:e,checkRangeEnabled:i,getZonedDate:a,getZonedToUtc:l,formatDate:s,getDefaultPattern:o,validateDate:u,getDefaultStartTime:h,isDisabled:d,isValidDate:p,sanitizeDate:g,getWeekFromDate:y,matchDate:m,setDateMonthOrYear:b,isValidTime:E,getCalendarDays:B,validateMonthYearInRange:(v,$,W,Y)=>{let Q=!1;return Y?t.minDate&&t.maxDate?Q=z(v,$,W):(t.minDate&&ee(v,$)||t.maxDate&&F(v,$))&&(Q=!0):Q=!0,Q},validateMaxDate:F,validateMinDate:ee,defaults:n,hideNavigationButtons:c}},Ot=qt({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),hm=te(null),Qu=te(!1),dm=te(!1),pm=te(!1),gm=te(!1),Fn=te(0),gn=te(0),Qo=()=>{const t=Z(()=>Qu.value?[...Ot.selectionGrid,Ot.actionRow].filter(f=>f.length):dm.value?[...Ot.timePicker[0],...Ot.timePicker[1],gm.value?[]:[hm.value],Ot.actionRow].filter(f=>f.length):pm.value?[...Ot.monthPicker,Ot.actionRow]:[Ot.monthYear,...Ot.calendar,Ot.time,Ot.actionRow].filter(f=>f.length)),e=f=>{Fn.value=f?Fn.value+1:Fn.value-1;let h=null;t.value[gn.value]&&(h=t.value[gn.value][Fn.value]),h||(Fn.value=f?Fn.value-1:Fn.value+1)},n=f=>{gn.value===0&&!f||gn.value===t.value.length&&f||(gn.value=f?gn.value+1:gn.value-1,t.value[gn.value]?t.value[gn.value]&&!t.value[gn.value][Fn.value]&&Fn.value!==0&&(Fn.value=t.value[gn.value].length-1):gn.value=f?gn.value-1:gn.value+1)},i=f=>{let h=null;t.value[gn.value]&&(h=t.value[gn.value][Fn.value]),h?h.focus({preventScroll:!Qu.value}):Fn.value=f?Fn.value-1:Fn.value+1},r=()=>{e(!0),i(!0)},o=()=>{e(!1),i(!1)},s=()=>{n(!1),i(!0)},a=()=>{n(!0),i(!0)},l=(f,h)=>{Ot[h]=f},c=(f,h)=>{Ot[h]=f},u=()=>{Fn.value=0,gn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:c,setTimePickerBackRef:f=>{hm.value=f},setSelectionGrid:f=>{Qu.value=f,u(),f||(Ot.selectionGrid=[])},setTimePicker:(f,h=!1)=>{dm.value=f,gm.value=h,u(),f||(Ot.timePicker[0]=[],Ot.timePicker[1]=[])},setTimePickerElements:(f,h=0)=>{Ot.timePicker[h]=f},arrowRight:r,arrowLeft:o,arrowUp:s,arrowDown:a,clearArrowNav:()=>{Ot.monthYear=[],Ot.calendar=[],Ot.time=[],Ot.actionRow=[],Ot.selectionGrid=[],Ot.timePicker[0]=[],Ot.timePicker[1]=[],Qu.value=!1,dm.value=!1,gm.value=!1,pm.value=!1,u(),hm.value=null},setMonthPicker:f=>{pm.value=f,u()},refSets:Ot}},OS=t=>Array.isArray(t),fs=t=>Array.isArray(t),MS=t=>Array.isArray(t)&&t.length===2,Dj=(t,e,n,i,r)=>{const{getDefaultStartTime:o,isDisabled:s,sanitizeDate:a,getWeekFromDate:l,setDateMonthOrYear:c,validateMonthYearInRange:u,defaults:f}=_i(t),h=Z({get:()=>t.internalModelValue,set:H=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",H)}}),d=te([]);mt(h,()=>{t.multiCalendars||S()});const p=te([{month:At(le()),year:Pt(le())}]),g=qt({hours:t.range?[Wr(le()),Wr(le())]:Wr(le()),minutes:t.range?[Ur(le()),Ur(le())]:Ur(le()),seconds:t.range?[0,0]:0}),y=Z(()=>H=>p.value[H]?p.value[H].month:0),m=Z(()=>H=>p.value[H]?p.value[H].year:0),b=Z(()=>t.flow&&t.flow.length?r.value===t.flow.length:!0),_=(H,re,Oe)=>{var Ee,at;p.value[H]||(p.value[H]={month:0,year:0}),p.value[H].month=re===null?(Ee=p.value[H])==null?void 0:Ee.month:re,p.value[H].year=Oe===null?(at=p.value[H])==null?void 0:at.year:Oe},w=(H,re)=>{g[H]=re};sn(()=>{h.value||(t.startDate&&(_(0,At(le(t.startDate)),Pt(le(t.startDate))),f.value.multiCalendars&&pe(0)),f.value.startTime&&F()),S(!0)});const S=(H=!1)=>{if(h.value)return Array.isArray(h.value)?(d.value=h.value,E(H)):x(h.value);if(t.timePicker)return I();if(t.monthPicker&&!t.range)return B();if(t.yearPicker&&!t.range)return J();if(f.value.multiCalendars&&H&&!t.startDate)return A(le(),H)},A=(H,re=!1)=>{if((!f.value.multiCalendars||!t.multiStatic||re)&&_(0,At(H),Pt(H)),f.value.multiCalendars)for(let Oe=1;Oe<f.value.multiCalendars;Oe++){const Ee=Vn(le(),{month:y.value(Oe-1),year:m.value(Oe-1)}),at=jP(Ee,{months:1});p.value[Oe]={month:At(at),year:Pt(at)}}},x=H=>{A(H),w("hours",Wr(H)),w("minutes",Ur(H)),w("seconds",Ga(H))},k=(H,re)=>{A(H[0],re);const Oe=(Ee,at)=>[Ee(H[0]),H[1]?Ee(H[1]):g[at][1]];w("hours",Oe(Wr,"hours")),w("minutes",Oe(Ur,"minutes")),w("seconds",Oe(Ga,"seconds"))},P=(H,re)=>{if((t.range||t.weekPicker)&&!t.multiDates)return k(H,re);if(t.multiDates){const Oe=H[H.length-1];return x(Oe)}},E=H=>{const re=h.value;P(re,H),f.value.multiCalendars&&t.multiCalendarsSolo&&v()},I=()=>{if(F(),!t.range)h.value=Ci(le(),g.hours,g.minutes,ee());else{const H=g.hours,re=g.minutes;h.value=[Ci(le(),H[0],re[0],ee()),Ci(le(),H[1],re[1],ee(!1))]}},B=()=>{h.value=c(le(),y.value(0),m.value(0))},J=()=>{h.value=le()},ee=(H=!0)=>t.enableSeconds?Array.isArray(g.seconds)?H?g.seconds[0]:g.seconds[1]:g.seconds:0,F=()=>{const H=o();if(H){const re=Array.isArray(H),Oe=re?[+H[0].hours,+H[1].hours]:+H.hours,Ee=re?[+H[0].minutes,+H[1].minutes]:+H.minutes,at=re?[+H[0].seconds,+H[1].seconds]:+H.seconds;w("hours",Oe),w("minutes",Ee),t.enableSeconds&&w("seconds",at)}},z=()=>Array.isArray(h.value)&&h.value.length?h.value[h.value.length-1]:null,v=()=>{if(Array.isArray(h.value)&&h.value.length===2){const H=le(le(h.value[1]?h.value[1]:mr(h.value[0],1))),[re,Oe]=[At(h.value[0]),Pt(h.value[0])],[Ee,at]=[At(h.value[1]),Pt(h.value[1])];(re!==Ee||re===Ee&&Oe!==at)&&t.multiCalendarsSolo&&_(1,At(H),Pt(H))}},$=H=>{const re=mr(H,1);return{month:At(re),year:Pt(re)}},W=H=>{const re=At(le(H)),Oe=Pt(le(H));if(_(0,re,Oe),f.value.multiCalendars>0)for(let Ee=1;Ee<f.value.multiCalendars;Ee++){const at=$(Vn(le(H),{year:y.value(Ee-1),month:m.value(Ee-1)}));_(Ee,at.month,at.year)}},Y=H=>{if(h.value&&Array.isArray(h.value))if(h.value.some(re=>It(H,re))){const re=h.value.filter(Oe=>!It(Oe,H));h.value=re.length?re:null}else(t.multiDatesLimit&&+t.multiDatesLimit>h.value.length||!t.multiDatesLimit)&&h.value.push(H);else h.value=[H]},Q=(H,re)=>{const Oe=Wn(H,re)?re:H,Ee=Wn(re,H)?re:H;return Zw({start:Oe,end:Ee})},ce=H=>{if(Array.isArray(h.value)&&h.value[0]){const re=s3(H,h.value[0]),Oe=Q(h.value[0],H),Ee=Oe.length===1?0:Oe.filter(ri=>s(ri)).length,at=Math.abs(re)-Ee;if(t.minRange&&t.maxRange)return at>=+t.minRange&&at<=+t.maxRange;if(t.minRange)return at>=+t.minRange;if(t.maxRange)return at<=+t.maxRange}return!0},X=H=>Array.isArray(h.value)&&h.value.length===2?t.fixedStart&&(Wn(H,h.value[0])||It(H,h.value[0]))?[h.value[0],H]:t.fixedEnd&&(Pn(H,h.value[1])||It(H,h.value[1]))?[H,h.value[1]]:(e("invalid-fixed-range",H),h.value):[],L=()=>{t.autoApply&&b.value&&e("auto-apply")},O=()=>{t.autoApply&&e("select-date")},N=H=>!Zw({start:H[0],end:H[1]}).some(re=>s(re)),V=H=>(h.value=l(le(H.value)),L()),G=H=>{const re=Ci(le(H.value),g.hours,g.minutes,ee());t.multiDates?Y(re):h.value=re,n(),L()},ae=()=>{d.value=h.value?h.value.slice():[],d.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(d.value=[])},_e=(H,re)=>{const Oe=[le(H.value),$o(le(H.value),+t.autoRange)];N(Oe)&&(re&&W(H.value),d.value=Oe)},xe=H=>{T(H.value)||(d.value=X(le(H.value)))},T=H=>t.noDisabledRange?Q(d.value[0],H).some(re=>s(re)):!1,R=(H,re)=>{if(ae(),t.autoRange)return _e(H,re);if(t.fixedStart||t.fixedEnd)return xe(H);d.value[0]?ce(le(H.value))&&!T(H.value)&&(Pn(le(H.value),le(d.value[0]))?d.value.unshift(le(H.value)):d.value[1]=le(H.value)):d.value[0]=le(H.value)},q=H=>{d.value[H]=Ci(d.value[H],g.hours[H],g.minutes[H],ee(H!==1))},K=()=>{d.value.length&&(d.value[0]&&!d.value[1]?q(0):(q(0),q(1),n()),h.value=d.value.slice(),d.value[0]&&d.value[1]&&t.autoApply&&e("auto-apply"),d.value[0]&&!d.value[1]&&t.modelAuto&&t.autoApply&&e("auto-apply"))},oe=(H,re=!1)=>{if(!(s(H.value)||!H.current&&t.hideOffsetDates)){if(t.weekPicker)return V(H);if(!t.range)return G(H);fs(g.hours)&&fs(g.minutes)&&!t.multiDates&&(R(H,re),K())}},ue=H=>{const re=H.find(Oe=>Oe.current);return re?m5(re.value):""},pe=H=>{for(let re=H-1;re>=0;re--){const Oe=Ea(Vn(le(),{month:y.value(re+1),year:m.value(re+1)}),1);_(re,At(Oe),Pt(Oe))}for(let re=H+1;re<=f.value.multiCalendars-1;re++){const Oe=mr(Vn(le(),{month:y.value(re-1),year:m.value(re-1)}),1);_(re,At(Oe),Pt(Oe))}},fe=H=>c(le(),y.value(H),m.value(H)),he=H=>Ci(H,g.hours,g.minutes,ee()),se=(H,re)=>{const Oe=t.monthPicker?y.value(H)!==re.month||!re.fromNav:m.value(H)!==re.year;if(_(H,re.month,re.year),f.value.multiCalendars&&!t.multiCalendarsSolo&&pe(H),t.monthPicker||t.yearPicker)if(t.range){if(Oe){let Ee=h.value?h.value.slice():[];Ee.length===2&&Ee[1]!==null&&(Ee=[]),Ee.length?Pn(fe(H),Ee[0])?Ee.unshift(fe(H)):Ee[1]=fe(H):Ee=[fe(H)],h.value=Ee}}else h.value=fe(H);e("update-month-year",{instance:H,month:re.month,year:re.year}),i(t.multiCalendarsSolo?H:void 0)},Te=async(H=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await Ar();const re=t.monthPicker?H:!1;t.range?e("auto-apply",re||!h.value||h.value.length===1):e("auto-apply",re)}n()},we=(H,re)=>{const Oe=Vn(le(),{month:y.value(re),year:m.value(re)}),Ee=H<0?mr(Oe,1):Ea(Oe,1);u(At(Ee),Pt(Ee),H<0,t.preventMinMaxNavigation)&&(_(re,At(Ee),Pt(Ee)),f.value.multiCalendars&&!t.multiCalendarsSolo&&pe(re),e("update-month-year",{instance:re,month:At(Ee),year:Pt(Ee)}),i())},Ce=H=>{OS(H)&&OS(h.value)&&fs(g.hours)&&fs(g.minutes)?(H[0]&&h.value[0]&&(h.value[0]=Ci(H[0],g.hours[0],g.minutes[0],ee())),H[1]&&h.value[1]&&(h.value[1]=Ci(H[1],g.hours[1],g.minutes[1],ee(!1)))):t.multiDates&&Array.isArray(h.value)?h.value[h.value.length-1]=he(H):!t.range&&!MS(H)&&(h.value=he(H)),e("time-update")},Le=(H,re=!0,Oe=!1)=>{const Ee=re?H:g.hours,at=!re&&!Oe?H:g.minutes,ri=Oe?H:g.seconds;if(t.range&&MS(h.value)&&fs(Ee)&&fs(at)&&fs(ri)&&!t.disableTimeRangeValidation){const Xt=Se=>Ci(h.value[Se],Ee[Se],at[Se],ri[Se]),ne=Se=>a1(h.value[Se],0);if(It(h.value[0],h.value[1])&&(t1(Xt(0),ne(1))||n1(Xt(1),ne(0))))return}if(w("hours",Ee),w("minutes",at),w("seconds",ri),h.value)if(t.multiDates){const Xt=z();Xt&&Ce(Xt)}else Ce(h.value);else t.timePicker&&Ce(t.range?[le(),le()]:le());n()},We=(H,re)=>{t.monthChangeOnScroll&&we(t.monthChangeOnScroll!=="inverse"?-H.deltaY:H.deltaY,re)},rt=(H,re,Oe=!1)=>{t.monthChangeOnArrows&&t.vertical===Oe&&Xe(H,re)},Xe=(H,re)=>{we(H==="right"?-1:1,re)};return{time:g,month:y,year:m,modelValue:h,calendars:p,monthYearSelect:Te,isDisabled:s,updateTime:Le,getWeekNum:ue,selectDate:oe,updateMonthYear:se,handleScroll:We,getMarker:H=>t.markers.find(re=>It(a(H.value),a(re.date))),handleArrow:rt,handleSwipe:Xe,selectCurrentDate:()=>{t.range?h.value&&Array.isArray(h.value)&&h.value[0]?h.value=Pn(le(),h.value[0])?[le(),h.value[0]]:[h.value[0],le()]:h.value=[le()]:h.value=le(),O()},presetDateRange:(H,re)=>{re||H.length&&H.length<=2&&t.range&&(h.value=H.map(Oe=>le(Oe)),O(),t.multiCalendars&&Ar().then(()=>S(!0)))}}},$j=(t,e,n)=>{const i=te(),{getZonedToUtc:r,getZonedDate:o,formatDate:s,getDefaultPattern:a,checkRangeEnabled:l,checkPartialRangeValue:c,isValidDate:u,setDateMonthOrYear:f,defaults:h}=_i(e),d=te(""),p=Fs(e,"format");mt(i,()=>{t("internal-model-change",i.value)}),mt(p,()=>{$()});const g=L=>{const O=L||le();return e.modelType?Y(O):{hours:Wr(O),minutes:Ur(O),seconds:e.enableSeconds?Ga(O):0}},y=L=>e.modelType?Y(L):{month:At(L),year:Pt(L)},m=L=>Array.isArray(L)?l(()=>[Rs(le(),L[0]),L[1]?Rs(le(),L[1]):c()]):Rs(le(),+L),b=(L,O)=>(typeof L=="string"||typeof L=="number")&&e.modelType?W(L):O,_=L=>Array.isArray(L)?[b(L[0],Ci(null,+L[0].hours,+L[0].minutes,L[0].seconds)),b(L[1],Ci(null,+L[1].hours,+L[1].minutes,L[1].seconds))]:b(L,Ci(null,L.hours,L.minutes,L.seconds)),w=L=>Array.isArray(L)?l(()=>[b(L[0],f(null,+L[0].month,+L[0].year)),b(L[1],L[1]?f(null,+L[1].month,+L[1].year):c())]):b(L,f(null,+L.month,+L.year)),S=L=>{if(Array.isArray(L))return L.map(O=>W(O));throw new Error(Bd.dateArr("multi-dates"))},A=L=>{if(Array.isArray(L))return[le(L[0]),le(L[1])];throw new Error(Bd.dateArr("week-picker"))},x=L=>e.modelAuto?Array.isArray(L)?[W(L[0]),W(L[1])]:e.autoApply?[W(L)]:[W(L),null]:Array.isArray(L)?l(()=>[W(L[0]),L[1]?W(L[1]):c()]):W(L),k=()=>{Array.isArray(i.value)&&e.range&&i.value.length===1&&i.value.push(c())},P=()=>{const L=i.value;return[Y(L[0]),L[1]?Y(L[1]):c()]},E=()=>i.value[1]?P():Y(kn(i.value[0])),I=()=>(i.value||[]).map(L=>Y(L)),B=()=>(k(),e.modelAuto?E():e.multiDates?I():Array.isArray(i.value)?l(()=>P()):Y(kn(i.value))),J=L=>L?e.timePicker?_(kn(L)):e.monthPicker?w(kn(L)):e.yearPicker?m(kn(L)):e.multiDates?S(kn(L)):e.weekPicker?A(kn(L)):x(kn(L)):null,ee=L=>{const O=J(L);u(kn(O))?(i.value=kn(O),$()):(i.value=null,d.value="")},F=()=>{var L;const O=N=>{var V;return Cc(N,(V=h.value.textInputOptions)==null?void 0:V.format)};return`${O(i.value[0])} ${(L=h.value.textInputOptions)==null?void 0:L.rangeSeparator} ${i.value[1]?O(i.value[1]):""}`},z=()=>{var L;return n.value&&i.value?Array.isArray(i.value)?F():Cc(i.value,(L=h.value.textInputOptions)==null?void 0:L.format):s(i.value)},v=()=>{var L;return i.value?e.multiDates?i.value.map(O=>s(O)).join("; "):e.textInput&&typeof((L=h.value.textInputOptions)==null?void 0:L.format)=="string"?z():s(i.value):""},$=()=>{!e.format||typeof e.format=="string"?d.value=v():d.value=e.format(i.value)},W=L=>{if(e.utc){const O=new Date(L);return e.utc==="preserve"?new Date(O.getTime()+O.getTimezoneOffset()*6e4):O}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?o(new Date(L)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?nv(L,a(),new Date):o(nv(L,e.modelType,new Date)):o(new Date(L))},Y=L=>e.utc?Y8(L,e.utc==="preserve"):e.modelType?e.modelType==="timestamp"?+r(L):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?s(r(L)):s(r(L),e.modelType):r(L),Q=L=>{t("update:model-value",L)},ce=L=>Array.isArray(i.value)?[L(i.value[0]),i.value[1]?L(i.value[1]):c()]:L(kn(i.value)),X=L=>Q(kn(ce(L)));return{inputValue:d,internalModelValue:i,checkBeforeEmit:()=>i.value?e.range?e.partialRange?i.value.length>=1:i.value.length===2:!!i.value:!1,parseExternalModelValue:ee,formatInputValue:$,emitModelValue:()=>($(),e.monthPicker?X(y):e.timePicker?X(g):e.yearPicker?X(Pt):e.weekPicker?Q(i.value):Q(B()))}},Rj=(t,e)=>{const{validateMonthYearInRange:n,validateMaxDate:i,validateMinDate:r,defaults:o}=_i(t),s=(f,h)=>{let d=f;return o.value.filters.months.includes(At(d))?(d=h?mr(f,1):Ea(f,1),s(d,h)):d},a=(f,h)=>{let d=f;return o.value.filters.years.includes(Pt(d))?(d=h?zP(f,1):i8(f,1),a(d,h)):d},l=f=>{const h=Vn(new Date,{month:t.month,year:t.year});let d=f?mr(h,1):Ea(h,1),p=At(d),g=Pt(d);o.value.filters.months.includes(p)&&(d=s(d,f),p=At(d),g=Pt(d)),o.value.filters.years.includes(g)&&(d=a(d,f),g=Pt(d)),n(p,g,f,t.preventMinMaxNavigation)&&c(p,g)},c=(f,h)=>{e("update-month-year",{month:f,year:h})},u=Z(()=>f=>{if(!t.preventMinMaxNavigation||f&&!t.maxDate||!f&&!t.minDate)return!1;const h=Vn(new Date,{month:t.month,year:t.year}),d=f?mr(h,1):Ea(h,1),p=[At(d),Pt(d)];return f?!i(...p):!r(...p)});return{handleMonthYearChange:l,isDisabled:u,updateMonthYear:c}};var Ah=(t=>(t.center="center",t.left="left",t.right="right",t))(Ah||{});const Ej=(t,e,n,i)=>{const r=te({top:"0",left:"0",transform:"none"}),o=te(!1),s=Fs(i,"teleportCenter");mt(s,()=>{y()});const a=x=>{const k=x.getBoundingClientRect();return{left:k.left+window.scrollX,top:k.top+window.scrollY}},l=x=>{const k=x.getBoundingClientRect();let P=0,E=0;for(;x&&!isNaN(x.offsetLeft)&&!isNaN(x.offsetTop);)P+=x.offsetLeft-x.scrollLeft,E=k.top+x.scrollTop,x=x.offsetParent;return{top:E,left:P}},c=(x,k)=>{r.value.left=`${x+k}px`,r.value.transform="translateX(-100%)"},u=x=>{r.value.left=`${x}px`,r.value.transform="translateX(0)"},f=(x,k,P=!1)=>{i.position===Ah.left&&u(x),i.position===Ah.right&&c(x,k),i.position===Ah.center&&(r.value.left=`${x+k/2}px`,r.value.transform=P?"translate(-50%, -50%)":"translateX(-50%)")},h=x=>{const{width:k,height:P}=x.getBoundingClientRect(),{top:E,left:I}=i.altPosition?l(x):a(x);return{top:E,left:I,width:k,height:P}},d=()=>{const x=ln(e);if(x){const{top:k,left:P,width:E,height:I}=h(x);r.value.top=`${k+I/2}px`,r.value.transform="translateY(-50%)",f(P,E,!0)}},p=()=>{r.value.left="50%",r.value.top="50%",r.value.transform="translate(-50%, -50%)",r.value.position="fixed"},g=()=>{const x=ln(e);r.value=i.altPosition(x)},y=(x=!0)=>{if(!i.inline)return s.value?p():i.altPosition&&typeof i.altPosition!="boolean"?g():(x&&n("recalculate-position"),A())},m=({inputEl:x,menuEl:k,left:P,width:E})=>{window.screen.width>768&&f(P,E),w(x,k)},b=(x,k)=>{const{top:P,left:E,height:I,width:B}=h(x);r.value.top=`${I+P+ +i.offset}px`,m({inputEl:x,menuEl:k,left:E,width:B}),o.value=!1},_=(x,k)=>{const{top:P,left:E,width:I}=h(x),{height:B}=k.getBoundingClientRect();r.value.top=`${P-B-+i.offset}px`,m({inputEl:x,menuEl:k,left:E,width:I}),o.value=!0},w=(x,k)=>{if(i.autoPosition){const{left:P,width:E}=h(x),{left:I,right:B}=k.getBoundingClientRect();if(I<0)return u(P);if(B>document.documentElement.clientWidth)return c(P,E)}},S=(x,k)=>{const{height:P}=k.getBoundingClientRect(),{top:E,height:I}=x.getBoundingClientRect(),B=window.innerHeight-E-I,J=E;return P<=B?b(x,k):P>B&&P<=J?_(x,k):B>=J?b(x,k):_(x,k)},A=()=>{const x=ln(e),k=ln(t);if(x&&k)return i.autoPosition?S(x,k):b(x,k)};return{openOnTop:o,menuPosition:r,setMenuPosition:y,setInitialPosition:d}},da=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]}],Ij=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Lj={all:()=>da,monthYear:()=>da.filter(t=>t.use.includes("month-year")),input:()=>Ij,timePicker:()=>da.filter(t=>t.use.includes("time")),action:()=>da.filter(t=>t.use.includes("action")),calendar:()=>da.filter(t=>t.use.includes("calendar")),menu:()=>da.filter(t=>t.use.includes("menu"))},As=(t,e,n)=>{const i=[];return Lj[e]().forEach(r=>{t[r.name]&&i.push(r.name)}),n&&n.length&&n.forEach(r=>{r.slot&&i.push(r.slot)}),i},ng=t=>({transitionName:Z(()=>e=>t&&typeof t!="boolean"?e?t.open:t.close:""),showTransition:!!t}),Zo={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},Nj=["aria-label","aria-disabled","aria-readonly"],Bj={key:1,class:"dp__input_wrap"},Fj=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],Hj={key:2,class:"dp__input_icon"},Vj={key:4,class:"dp__clear_icon"},jj=$e({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Zo},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(t,{expose:e,emit:n}){const i=t,{getDefaultPattern:r,isValidDate:o,defaults:s}=_i(i),a=te(),l=te(null),c=te(!1),u=Z(()=>({dp__pointer:!i.disabled&&!i.readonly&&!i.textInput,dp__disabled:i.disabled,dp__input_readonly:!i.textInput,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:i.state,dp__input_invalid:i.state===!1,dp__input_focus:c.value||i.isMenuOpen,dp__input_reg:!i.textInput,[i.inputClassName]:!!i.inputClassName})),f=()=>{n("set-input-date",null),i.autoApply&&(n("set-empty-date"),a.value=null)},h=x=>{var k;return U8(x,((k=s.value.textInputOptions)==null?void 0:k.format)||r())},d=x=>{const{rangeSeparator:k}=s.value.textInputOptions,[P,E]=x.split(`${k}`);if(P){const I=h(P.trim()),B=E?h(E.trim()):null,J=I&&B?[I,B]:[I];a.value=I?J:null}},p=x=>{if(i.range)d(x);else if(i.multiDates){const k=x.split(";");a.value=k.map(P=>h(P.trim())).filter(P=>P)}else a.value=h(x)},g=x=>{var k;const{value:P}=x.target;P!==""?((k=s.value.textInputOptions)!=null&&k.openMenu&&!i.isMenuOpen&&n("open"),p(P),n("set-input-date",a.value)):f(),n("update:input-value",P)},y=()=>{var x,k;(x=s.value.textInputOptions)!=null&&x.enterSubmit&&o(a.value)&&i.inputValue!==""?(n("set-input-date",a.value,!0),a.value=null):(k=s.value.textInputOptions)!=null&&k.enterSubmit&&i.inputValue===""&&(a.value=null,n("clear"))},m=()=>{var x,k;(x=s.value.textInputOptions)!=null&&x.tabSubmit&&o(a.value)&&i.inputValue!==""?(n("set-input-date",a.value,!0),a.value=null):(k=s.value.textInputOptions)!=null&&k.tabSubmit&&i.inputValue===""&&(a.value=null,n("clear"))},b=()=>{c.value=!0,n("focus")},_=x=>{var k;x.preventDefault(),x.stopImmediatePropagation(),x.stopPropagation(),i.textInput&&(k=s.value.textInputOptions)!=null&&k.openMenu&&!i.inlineWithInput?i.isMenuOpen?s.value.textInputOptions.enterSubmit&&n("select-date"):n("open"):i.textInput||n("toggle")},w=()=>{c.value=!1,i.isMenuOpen||n("blur"),i.autoApply&&i.textInput&&a.value&&(n("set-input-date",a.value),n("select-date"),a.value=null)},S=()=>{n("clear")},A=x=>{i.textInput||x.preventDefault()};return e({focusInput:()=>{l.value&&l.value.focus({preventScroll:!0})}}),(x,k)=>{var P;return M(),D("div",{onClick:_,"aria-label":(P=C(s).ariaLabels)==null?void 0:P.input,role:"textbox","aria-multiline":"false","aria-disabled":x.disabled,"aria-readonly":x.readonly},[x.$slots.trigger&&!x.$slots["dp-input"]&&!x.inline?ke(x.$slots,"trigger",{key:0}):U("",!0),!x.$slots.trigger&&(!x.inline||x.inlineWithInput)?(M(),D("div",Bj,[x.$slots["dp-input"]&&!x.$slots.trigger&&!x.inline?ke(x.$slots,"dp-input",{key:0,value:t.inputValue,onInput:g,onEnter:y,onTab:m,onClear:S}):U("",!0),x.$slots["dp-input"]?U("",!0):(M(),D("input",{key:1,ref_key:"inputRef",ref:l,id:x.uid?`dp-input-${x.uid}`:void 0,name:x.name,class:je(C(u)),inputmode:x.textInput?"text":"none",placeholder:x.placeholder,disabled:x.disabled,readonly:x.readonly,required:x.required,value:t.inputValue,autocomplete:x.autocomplete,onInput:g,onKeydown:[Qe(_,["enter"]),Qe(m,["tab"])],onBlur:w,onFocus:b,onKeypress:A},null,42,Fj)),x.$slots["input-icon"]&&!x.hideInputIcon?(M(),D("span",Hj,[ke(x.$slots,"input-icon")])):U("",!0),!x.$slots["input-icon"]&&!x.hideInputIcon&&!x.$slots["dp-input"]?(M(),ye(C(tg),{key:3,class:"dp__input_icon dp__input_icons"})):U("",!0),x.$slots["clear-icon"]&&t.inputValue&&x.clearable&&!x.disabled&&!x.readonly?(M(),D("span",Vj,[ke(x.$slots,"clear-icon",{clear:S})])):U("",!0),x.clearable&&!x.$slots["clear-icon"]&&t.inputValue&&!x.disabled&&!x.readonly?(M(),ye(C(v8),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:hi(S,["stop","prevent"])},null,8,["onClick"])):U("",!0)])):U("",!0)],8,Nj)}}}),zj={class:"dp__selection_preview"},Wj={class:"dp__action_buttons"},Uj=["onKeydown"],Yj=$e({__name:"ActionRow",props:{calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Zo},emits:["close-picker","select-date","invalid-select"],setup(t,{emit:e}){const n=t,{formatDate:i,isValidTime:r,defaults:o}=_i(n),{buildMatrix:s}=Qo(),a=te(null),l=te(null);sn(()=>{n.arrowNavigation&&s([ln(a),ln(l)],"actionRow")});const c=Z(()=>n.range&&!n.partialRange&&n.internalModelValue?n.internalModelValue.length===2:!0),u=Z(()=>!h.value||!d.value||!c.value),f=Z(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:u.value})),h=Z(()=>!n.enableTimePicker||n.ignoreTimeValidation?!0:r(n.internalModelValue)),d=Z(()=>n.monthPicker?m(n.internalModelValue):!0),p=()=>{const _=o.value.previewFormat;return n.timePicker||n.monthPicker,_(kn(n.internalModelValue))},g=()=>{const _=n.internalModelValue;return o.value.multiCalendars>0?`${i(_[0])} - ${i(_[1])}`:[i(_[0]),i(_[1])]},y=Z(()=>!n.internalModelValue||!n.menuMount?"":typeof o.value.previewFormat=="string"?Array.isArray(n.internalModelValue)?n.internalModelValue.length===2&&n.internalModelValue[1]?g():n.multiDates?n.internalModelValue.map(_=>`${i(_)}`):n.modelAuto?`${i(n.internalModelValue[0])}`:`${i(n.internalModelValue[0])} -`:i(n.internalModelValue):p()),m=_=>{if(!n.monthPicker)return!0;let w=!0;return n.minDate&&n.maxDate?Wn(le(_),le(n.minDate))&&Pn(le(_),le(n.maxDate)):(n.minDate&&(w=Wn(le(_),le(n.minDate))),n.maxDate&&(w=Pn(le(_),le(n.maxDate))),w)},b=()=>{h.value&&d.value&&c.value?e("select-date"):e("invalid-select")};return(_,w)=>(M(),D("div",{class:"dp__action_row",style:gt(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[_.$slots["action-row"]?ke(_.$slots,"action-row",ui(nn({key:0},{internalModelValue:t.internalModelValue,disabled:C(u),selectDate:()=>_.$emit("select-date"),closePicker:()=>_.$emit("close-picker")}))):(M(),D(de,{key:1},[j("div",zj,[_.$slots["action-preview"]?ke(_.$slots,"action-preview",{key:0,value:t.internalModelValue}):U("",!0),_.$slots["action-preview"]?U("",!0):(M(),D(de,{key:1},[Array.isArray(C(y))?U("",!0):(M(),D(de,{key:0},[Yt(ve(C(y)),1)],64)),Array.isArray(C(y))?(M(!0),D(de,{key:1},He(C(y),(S,A)=>(M(),D("div",{key:A},ve(S),1))),128)):U("",!0)],64))]),j("div",Wj,[_.$slots["action-select"]?ke(_.$slots,"action-select",{key:0,value:t.internalModelValue}):U("",!0),_.$slots["action-select"]?U("",!0):(M(),D(de,{key:1},[_.inline?U("",!0):(M(),D("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:a,tabindex:"0",onClick:w[0]||(w[0]=S=>_.$emit("close-picker")),onKeydown:[w[1]||(w[1]=Qe(S=>_.$emit("close-picker"),["enter"])),w[2]||(w[2]=Qe(S=>_.$emit("close-picker"),["space"]))]},ve(_.cancelText),545)),j("span",{class:je(C(f)),tabindex:"0",onKeydown:[Qe(b,["enter"]),Qe(b,["space"])],onClick:b,"data-test":"select-button",ref_key:"selectButtonRef",ref:l},ve(_.selectText),43,Uj)],64))])],64))],4))}}),qj=["aria-label"],Kj={class:"dp__calendar_header",role:"row"},Gj={key:0,class:"dp__calendar_header_item",role:"gridcell"},Xj=j("div",{class:"dp__calendar_header_separator"},null,-1),Jj=["aria-label"],Qj={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Zj={class:"dp__cell_inner"},ez=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave"],tz=j("div",{class:"dp__arrow_bottom_tp"},null,-1),nz=$e({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Zo},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const i=t,{buildMultiLevelMatrix:r}=Qo(),{setDateMonthOrYear:o,defaults:s}=_i(i),a=te(null),l=te({bottom:"",left:"",transform:""}),c=te([]),u=te(null),f=te(!0),h=te(""),d=te({startX:0,endX:0,startY:0,endY:0}),p=Z(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):_j(i.locale,+i.weekStart));sn(()=>{n("mount",{cmp:"calendar",refs:c}),i.noSwipe||u.value&&(u.value.addEventListener("touchstart",P,{passive:!1}),u.value.addEventListener("touchend",E,{passive:!1}),u.value.addEventListener("touchmove",I,{passive:!1})),i.monthChangeOnScroll&&u.value&&u.value.addEventListener("wheel",ee,{passive:!1})});const g=F=>F?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",y=(F,z)=>{if(i.transitions){const v=Pr(o(le(),i.month,i.year));h.value=Wn(Pr(o(le(),F,z)),v)?s.value.transitions[g(!0)]:s.value.transitions[g(!1)],f.value=!1,Ar(()=>{f.value=!0})}},m=Z(()=>({dp__calendar_wrap:!0,[i.calendarClassName]:!!i.calendarClassName})),b=Z(()=>F=>{const z=kj(F);return{dp__marker_dot:z.type==="dot",dp__marker_line:z.type==="line"}}),_=Z(()=>F=>It(F,a.value)),w=Z(()=>({dp__calendar:!0,dp__calendar_next:s.value.multiCalendars>0&&i.instance!==0})),S=Z(()=>F=>i.hideOffsetDates?F.current:!0),A=Z(()=>i.specificMode?{height:`${i.modeHeight}px`}:void 0),x=(F,z,v)=>{var $,W;if(n("set-hover-date",F),(W=($=F.marker)==null?void 0:$.tooltip)!=null&&W.length){const Y=ln(c.value[z][v]);if(Y){const{width:Q,height:ce}=Y.getBoundingClientRect();l.value={bottom:`${ce}px`,left:`${Q/2}px`,transform:"translateX(-50%)"},a.value=F.value,n("tooltip-open",F.value)}}},k=F=>{a.value&&(a.value=null,n("tooltip-close",F.value))},P=F=>{d.value.startX=F.changedTouches[0].screenX,d.value.startY=F.changedTouches[0].screenY},E=F=>{d.value.endX=F.changedTouches[0].screenX,d.value.endY=F.changedTouches[0].screenY,B()},I=F=>{i.vertical&&!i.inline&&F.preventDefault()},B=()=>{const F=i.vertical?"Y":"X";Math.abs(d.value[`start${F}`]-d.value[`end${F}`])>10&&n("handle-swipe",d.value[`start${F}`]>d.value[`end${F}`]?"right":"left")},J=(F,z,v)=>{F&&(Array.isArray(c.value[z])?c.value[z][v]=F:c.value[z]=[F]),i.arrowNavigation&&r(c.value,"calendar")},ee=F=>{i.monthChangeOnScroll&&(F.preventDefault(),n("handle-scroll",F))};return e({triggerTransition:y}),(F,z)=>{var v;return M(),D("div",{class:je(C(w))},[j("div",{style:gt(C(A))},[t.specificMode?U("",!0):(M(),D("div",{key:0,ref_key:"calendarWrapRef",ref:u,class:je(C(m)),role:"grid","aria-label":(v=C(s).ariaLabels)==null?void 0:v.calendarWrap},[j("div",Kj,[F.weekNumbers?(M(),D("div",Gj,ve(F.weekNumName),1)):U("",!0),(M(!0),D(de,null,He(C(p),($,W)=>(M(),D("div",{class:"dp__calendar_header_item",role:"gridcell",key:W,"data-test":"calendar-header"},[F.$slots["calendar-header"]?ke(F.$slots,"calendar-header",{key:0,day:$,index:W}):U("",!0),F.$slots["calendar-header"]?U("",!0):(M(),D(de,{key:1},[Yt(ve($),1)],64))]))),128))]),Xj,Ae(Xo,{name:h.value,css:!!F.transitions},{default:Fe(()=>{var $;return[f.value?(M(),D("div",{key:0,class:"dp__calendar",role:"grid","aria-label":($=C(s).ariaLabels)==null?void 0:$.calendarDays},[(M(!0),D(de,null,He(t.mappedDates,(W,Y)=>(M(),D("div",{class:"dp__calendar_row",role:"row",key:Y},[F.weekNumbers?(M(),D("div",Qj,[j("div",Zj,ve(t.getWeekNum(W.days)),1)])):U("",!0),(M(!0),D(de,null,He(W.days,(Q,ce)=>{var X,L,O;return M(),D("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:N=>J(N,Y,ce),key:ce+Y,"aria-selected":Q.classData.dp__active_date||Q.classData.dp__range_start||Q.classData.dp__range_start,"aria-disabled":Q.classData.dp__cell_disabled,"aria-label":(L=(X=C(s).ariaLabels)==null?void 0:X.day)==null?void 0:L.call(X,Q),tabindex:"0","data-test":Q.value,onClick:hi(N=>F.$emit("select-date",Q),["stop","prevent"]),onKeydown:[Qe(N=>F.$emit("select-date",Q),["enter"]),Qe(N=>F.$emit("handle-space",Q),["space"])],onMouseenter:N=>x(Q,Y,ce),onMouseleave:N=>k(Q)},[j("div",{class:je(["dp__cell_inner",Q.classData])},[F.$slots.day&&C(S)(Q)?ke(F.$slots,"day",{key:0,day:+Q.text,date:Q.value}):U("",!0),F.$slots.day?U("",!0):(M(),D(de,{key:1},[Yt(ve(Q.text),1)],64)),Q.marker&&C(S)(Q)?(M(),D("div",{key:2,class:je(C(b)(Q.marker)),style:gt(Q.marker.color?{backgroundColor:Q.marker.color}:{})},null,6)):U("",!0),C(_)(Q.value)?(M(),D("div",{key:3,class:"dp__marker_tooltip",style:gt(l.value)},[(O=Q.marker)!=null&&O.tooltip?(M(),D("div",{key:0,class:"dp__tooltip_content",onClick:z[0]||(z[0]=hi(()=>{},["stop"]))},[(M(!0),D(de,null,He(Q.marker.tooltip,(N,V)=>(M(),D("div",{key:V,class:"dp__tooltip_text"},[F.$slots["marker-tooltip"]?ke(F.$slots,"marker-tooltip",{key:0,tooltip:N,day:Q.value}):U("",!0),F.$slots["marker-tooltip"]?U("",!0):(M(),D(de,{key:1},[j("div",{class:"dp__tooltip_mark",style:gt(N.color?{backgroundColor:N.color}:{})},null,4),j("div",null,ve(N.text),1)],64))]))),128)),tz])):U("",!0)],4)):U("",!0)],2)],40,ez)}),128))]))),128))],8,Jj)):U("",!0)]}),_:3},8,["name","css"])],10,qj))],4)],2)}}}),iz=["aria-label","aria-disabled"],mm=$e({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=te(null);return sn(()=>e("set-ref",n)),(i,r)=>(M(),D("div",{class:"dp__month_year_col_nav",onClick:r[0]||(r[0]=o=>i.$emit("activate")),onKeydown:[r[1]||(r[1]=Qe(o=>i.$emit("activate"),["enter"])),r[2]||(r[2]=Qe(o=>i.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:n},[j("div",{class:je(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[ke(i.$slots,"default")],2)],40,iz))}}),rz=["onKeydown"],oz={class:"dp__selection_grid_header"},sz=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],az=["aria-label","onKeydown"],Mc=$e({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(t,{expose:e,emit:n}){const i=t,{setSelectionGrid:r,buildMultiLevelMatrix:o,setMonthPicker:s}=Qo(),{hideNavigationButtons:a}=_i(i),l=te(!1),c=te(null),u=te(null),f=te([]),h=te(),d=te(null),p=te(0),g=te(null);JA(()=>{c.value=null}),sn(()=>{Ar().then(()=>P()),m(),y(!0)}),Sl(()=>y(!1));const y=z=>{var v;i.arrowNavigation&&((v=i.headerRefs)!=null&&v.length?s(z):r(z))},m=()=>{const z=ln(u);z&&(i.textInput||z.focus({preventScroll:!0}),l.value=z.clientHeight<z.scrollHeight)},b=Z(()=>({dp__overlay:!0})),_=Z(()=>({dp__overlay_col:!0})),w=z=>i.skipActive?!1:z.value===i.modelValue,S=Z(()=>i.items.map(z=>z.filter(v=>v).map(v=>{var $,W,Y;const Q=i.disabledValues.some(X=>X===v.value)||k(v.value),ce=($=i.multiModelValue)!=null&&$.length?(W=i.multiModelValue)==null?void 0:W.some(X=>It(X,Rs(i.monthPicker?Oc(new Date,v.value):new Date,i.monthPicker?i.year:v.value))):w(v);return{...v,className:{dp__overlay_cell_active:ce,dp__overlay_cell:!ce,dp__overlay_cell_disabled:Q,dp__overlay_cell_active_disabled:Q&&ce,dp__overlay_cell_pad:!0,dp__cell_in_between:(Y=i.multiModelValue)!=null&&Y.length?I(v.value):!1}}}))),A=Z(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:l.value,dp__button_bottom:i.autoApply})),x=Z(()=>{var z,v;return{dp__overlay_container:!0,dp__container_flex:((z=i.items)==null?void 0:z.length)<=6,dp__container_block:((v=i.items)==null?void 0:v.length)>6}}),k=z=>{const v=i.maxValue||i.maxValue===0,$=i.minValue||i.minValue===0;return!v&&!$?!1:v&&$?+z>+i.maxValue||+z<+i.minValue:v?+z>+i.maxValue:$?+z<+i.minValue:!1},P=()=>{const z=ln(c),v=ln(u),$=ln(d),W=ln(g),Y=$?$.getBoundingClientRect().height:0;v&&(p.value=v.getBoundingClientRect().height-Y),z&&W&&(W.scrollTop=z.offsetTop-W.offsetTop-(p.value/2-z.getBoundingClientRect().height)-Y)},E=z=>{!i.disabledValues.some(v=>v===z)&&!k(z)&&(n("update:model-value",z),n("selected"))},I=z=>{const v=i.monthPicker?i.year:z;return d2(i.multiModelValue,Rs(i.monthPicker?Oc(new Date,h.value||0):new Date,i.monthPicker?v:h.value||v),Rs(i.monthPicker?Oc(new Date,z):new Date,v))},B=()=>{n("toggle"),n("reset-flow")},J=()=>{i.escClose&&B()},ee=(z,v,$,W)=>{z&&(v.value===+i.modelValue&&!i.disabledValues.includes(v.value)&&(c.value=z),i.arrowNavigation&&(Array.isArray(f.value[$])?f.value[$][W]=z:f.value[$]=[z],F()))},F=()=>{var z,v;const $=(z=i.headerRefs)!=null&&z.length?[i.headerRefs].concat(f.value):f.value.concat([i.skipButtonRef?[]:[d.value]]);o(kn($),(v=i.headerRefs)!=null&&v.length?"monthPicker":"selectionGrid")};return e({focusGrid:m}),(z,v)=>{var $;return M(),D("div",{ref_key:"gridWrapRef",ref:u,class:je(C(b)),role:"dialog",tabindex:"0",onKeydown:Qe(J,["esc"])},[j("div",{class:je(C(x)),ref_key:"containerRef",ref:g,role:"grid",style:gt({height:`${p.value}px`})},[j("div",oz,[ke(z.$slots,"header")]),z.$slots.overlay?ke(z.$slots,"overlay",{key:0}):(M(!0),D(de,{key:1},He(C(S),(W,Y)=>(M(),D("div",{class:"dp__overlay_row",key:Y,role:"row"},[(M(!0),D(de,null,He(W,(Q,ce)=>(M(),D("div",{role:"gridcell",class:je(C(_)),key:Q.value,"aria-selected":Q.value===t.modelValue&&!t.disabledValues.includes(Q.value),"aria-disabled":Q.className.dp__overlay_cell_disabled,ref_for:!0,ref:X=>ee(X,Q,Y,ce),tabindex:"0","data-test":Q.text,onClick:X=>E(Q.value),onKeydown:[Qe(X=>E(Q.value),["enter"]),Qe(X=>E(Q.value),["space"])],onMouseover:X=>h.value=Q.value},[j("div",{class:je(Q.className)},[z.$slots.item?ke(z.$slots,"item",{key:0,item:Q}):U("",!0),z.$slots.item?U("",!0):(M(),D(de,{key:1},[Yt(ve(Q.text),1)],64))],2)],42,sz))),128))]))),128))],6),z.$slots["button-icon"]?$t((M(),D("div",{key:0,role:"button","aria-label":($=t.ariaLabels)==null?void 0:$.toggleOverlay,class:je(C(A)),tabindex:"0",ref_key:"toggleButton",ref:d,onClick:B,onKeydown:Qe(B,["enter"])},[ke(z.$slots,"button-icon")],42,az)),[[Ra,!C(a)(t.type)]]):U("",!0)],42,rz)}}}),lz=["aria-label"],AS=$e({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(t,{emit:e}){const n=t,{transitionName:i,showTransition:r}=ng(n.transitions),o=te(null);return sn(()=>e("set-ref",o)),(s,a)=>(M(),D(de,null,[j("div",{class:"dp__month_year_select",onClick:a[0]||(a[0]=l=>s.$emit("toggle")),onKeydown:[a[1]||(a[1]=Qe(l=>s.$emit("toggle"),["enter"])),a[2]||(a[2]=Qe(l=>s.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:o},[ke(s.$slots,"default")],40,lz),Ae(Xo,{name:C(i)(t.showSelectionGrid),css:C(r)},{default:Fe(()=>[t.showSelectionGrid?(M(),ye(Mc,nn({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type,arrowNavigation:t.arrowNavigation,textInput:t.textInput,autoApply:t.autoApply,ariaLabels:t.ariaLabels,hideNavigation:t.hideNavigation},{"header-refs":[],"onUpdate:modelValue":a[3]||(a[3]=l=>s.$emit("update:model-value",l)),onToggle:a[4]||(a[4]=l=>s.$emit("toggle"))}),Qn({"button-icon":Fe(()=>[s.$slots["calendar-icon"]?ke(s.$slots,"calendar-icon",{key:0}):U("",!0),s.$slots["calendar-icon"]?U("",!0):(M(),ye(C(tg),{key:1}))]),_:2},[s.$slots[t.slotName]?{name:"item",fn:Fe(({item:l})=>[ke(s.$slots,t.slotName,{item:l})]),key:"0"}:void 0,s.$slots[t.overlaySlot]?{name:"overlay",fn:Fe(()=>[ke(s.$slots,t.overlaySlot)]),key:"1"}:void 0,s.$slots[`${t.overlaySlot}-header`]?{name:"header",fn:Fe(()=>[ke(s.$slots,`${t.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):U("",!0)]),_:3},8,["name","css"])],64))}}),cz={class:"dp__month_year_row"},uz={class:"dp__month_year_wrap"},fz={class:"dp__month_picker_header"},hz=["aria-label"],dz=["aria-label"],pz=["aria-label"],gz=$e({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Zo},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const i=t,{defaults:r}=_i(i),{transitionName:o,showTransition:s}=ng(r.value.transitions),{buildMatrix:a}=Qo(),{handleMonthYearChange:l,isDisabled:c,updateMonthYear:u}=Rj(i,n),f=te(!1),h=te(!1),d=te([null,null,null,null]),p=te(null),g=te(null),y=te(null);sn(()=>{n("mount")});const m=O=>({get:()=>i[O],set:N=>{const V=O==="month"?"year":"month";n("update-month-year",{[O]:N,[V]:i[V]}),n("month-year-select",O==="year"),O==="month"?Y(!0):Q(!0)}}),b=Z(m("month")),_=Z(m("year")),w=O=>{const N=Pt(le(O));return i.year===N},S=Z(()=>i.monthPicker?Array.isArray(i.disabledDates)?i.disabledDates.map(O=>le(O)).filter(O=>w(O)).map(O=>At(O)):[]:[]),A=Z(()=>O=>{const N=O==="month";return{showSelectionGrid:(N?f:h).value,items:(N?z:v).value,disabledValues:r.value.filters[N?"months":"years"].concat(S.value),minValue:(N?E:k).value,maxValue:(N?I:P).value,headerRefs:N&&i.monthPicker?[p.value,g.value,y.value]:[],escClose:i.escClose,transitions:r.value.transitions,ariaLabels:r.value.ariaLabels,textInput:i.textInput,autoApply:i.autoApply,arrowNavigation:i.arrowNavigation,hideNavigation:i.hideNavigation}}),x=Z(()=>O=>({month:i.month,year:i.year,items:O==="month"?i.months:i.years,instance:i.instance,updateMonthYear:u,toggle:O==="month"?Y:Q})),k=Z(()=>i.minDate?Pt(le(i.minDate)):null),P=Z(()=>i.maxDate?Pt(le(i.maxDate)):null),E=Z(()=>{if(i.minDate&&k.value){if(k.value>i.year)return 12;if(k.value===i.year)return At(le(i.minDate))}return null}),I=Z(()=>i.maxDate&&P.value?P.value<i.year?-1:P.value===i.year?At(le(i.maxDate)):null:null),B=Z(()=>i.range&&i.internalModelValue&&(i.monthPicker||i.yearPicker)?i.internalModelValue:[]),J=O=>O.reverse(),ee=(O,N=!1)=>{const V=[],G=ae=>N?J(ae):ae;for(let ae=0;ae<O.length;ae+=3){const _e=[O[ae],O[ae+1],O[ae+2]];V.push(G(_e))}return N?V.reverse():V},F=Z(()=>i.months.find(N=>N.value===i.month)||{text:"",value:0}),z=Z(()=>ee(i.months)),v=Z(()=>ee(i.years,i.reverseYears)),$=Z(()=>r.value.multiCalendars?i.multiCalendarsSolo?!0:i.instance===0:!0),W=Z(()=>r.value.multiCalendars?i.multiCalendarsSolo?!0:i.instance===r.value.multiCalendars-1:!0),Y=(O=!1)=>{ce(O),f.value=!f.value,f.value||n("overlay-closed")},Q=(O=!1)=>{ce(O),h.value=!h.value,h.value||n("overlay-closed")},ce=O=>{O||n("reset-flow")},X=(O=!1)=>{c.value(O)||n("update-month-year",{year:O?i.year+1:i.year-1,month:i.month,fromNav:!0})},L=(O,N)=>{i.arrowNavigation&&(d.value[N]=ln(O),a(d.value,"monthYear"))};return e({toggleMonthPicker:Y,toggleYearPicker:Q}),(O,N)=>{var V,G,ae,_e,xe;return M(),D("div",cz,[O.$slots["month-year"]?ke(O.$slots,"month-year",ui(nn({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:C(u),handleMonthYearChange:C(l),instance:t.instance}))):(M(),D(de,{key:1},[!O.monthPicker&&!O.yearPicker?(M(),D(de,{key:0},[C($)&&!O.vertical?(M(),ye(mm,{key:0,"aria-label":(V=C(r).ariaLabels)==null?void 0:V.prevMonth,disabled:C(c)(!1),onActivate:N[0]||(N[0]=T=>C(l)(!1)),onSetRef:N[1]||(N[1]=T=>L(T,0))},{default:Fe(()=>[O.$slots["arrow-left"]?ke(O.$slots,"arrow-left",{key:0}):U("",!0),O.$slots["arrow-left"]?U("",!0):(M(),ye(C(dS),{key:1}))]),_:3},8,["aria-label","disabled"])):U("",!0),j("div",uz,[Ae(AS,nn({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(G=C(r).ariaLabels)==null?void 0:G.openMonthsOverlay,modelValue:C(b),"onUpdate:modelValue":N[2]||(N[2]=T=>Ge(b)?b.value=T:null)},C(A)("month"),{onToggle:Y,onSetRef:N[3]||(N[3]=T=>L(T,1))}),Qn({default:Fe(()=>[O.$slots.month?ke(O.$slots,"month",ui(nn({key:0},C(F)))):U("",!0),O.$slots.month?U("",!0):(M(),D(de,{key:1},[Yt(ve(C(F).text),1)],64))]),_:2},[O.$slots["calendar-icon"]?{name:"calendar-icon",fn:Fe(()=>[ke(O.$slots,"calendar-icon")]),key:"0"}:void 0,O.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:Fe(({item:T})=>[ke(O.$slots,"month-overlay-value",{text:T.text,value:T.value})]),key:"1"}:void 0,O.$slots["month-overlay"]?{name:"overlay-month",fn:Fe(()=>[ke(O.$slots,"month-overlay",ui(gr(C(x)("month"))))]),key:"2"}:void 0,O.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:Fe(()=>[ke(O.$slots,"month-overlay-header",{toggle:Y})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),Ae(AS,nn({type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(ae=C(r).ariaLabels)==null?void 0:ae.openYearsOverlay,modelValue:C(_),"onUpdate:modelValue":N[4]||(N[4]=T=>Ge(_)?_.value=T:null)},C(A)("year"),{onToggle:Q,onSetRef:N[5]||(N[5]=T=>L(T,2))}),Qn({default:Fe(()=>[O.$slots.year?ke(O.$slots,"year",{key:0,year:t.year}):U("",!0),O.$slots.year?U("",!0):(M(),D(de,{key:1},[Yt(ve(t.year),1)],64))]),_:2},[O.$slots["calendar-icon"]?{name:"calendar-icon",fn:Fe(()=>[ke(O.$slots,"calendar-icon")]),key:"0"}:void 0,O.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:Fe(({item:T})=>[ke(O.$slots,"year-overlay-value",{text:T.text,value:T.value})]),key:"1"}:void 0,O.$slots["year-overlay"]?{name:"overlay-year",fn:Fe(()=>[ke(O.$slots,"year-overlay",ui(gr(C(x)("year"))))]),key:"2"}:void 0,O.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:Fe(()=>[ke(O.$slots,"year-overlay-header",{toggle:Q})]),key:"3"}:void 0]),1040,["aria-label","modelValue"])]),C($)&&O.vertical?(M(),ye(mm,{key:1,"aria-label":(_e=C(r).ariaLabels)==null?void 0:_e.prevMonth,disabled:C(c)(!1),onActivate:N[6]||(N[6]=T=>C(l)(!1))},{default:Fe(()=>[O.$slots["arrow-up"]?ke(O.$slots,"arrow-up",{key:0}):U("",!0),O.$slots["arrow-up"]?U("",!0):(M(),ye(C(f2),{key:1}))]),_:3},8,["aria-label","disabled"])):U("",!0),C(W)?(M(),ye(mm,{key:2,ref:"rightIcon",disabled:C(c)(!0),"aria-label":(xe=C(r).ariaLabels)==null?void 0:xe.nextMonth,onActivate:N[7]||(N[7]=T=>C(l)(!0)),onSetRef:N[8]||(N[8]=T=>L(T,3))},{default:Fe(()=>[O.$slots[O.vertical?"arrow-down":"arrow-right"]?ke(O.$slots,O.vertical?"arrow-down":"arrow-right",{key:0}):U("",!0),O.$slots[O.vertical?"arrow-down":"arrow-right"]?U("",!0):(M(),ye($a(O.vertical?C(h2):C(pS)),{key:1}))]),_:3},8,["disabled","aria-label"])):U("",!0)],64)):U("",!0),O.monthPicker?(M(),ye(Mc,nn({key:1},C(A)("month"),{"skip-active":O.range,year:t.year,"multi-model-value":C(B),"month-picker":"",modelValue:C(b),"onUpdate:modelValue":N[17]||(N[17]=T=>Ge(b)?b.value=T:null),onToggle:Y,onSelected:N[18]||(N[18]=T=>O.$emit("overlay-closed"))}),Qn({header:Fe(()=>{var T,R,q;return[j("div",fz,[j("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:p,onClick:N[9]||(N[9]=K=>X(!1)),onKeydown:N[10]||(N[10]=Qe(K=>X(!1),["enter"]))},[j("div",{class:je(["dp__inner_nav",{dp__inner_nav_disabled:C(c)(!1)}]),role:"button","aria-label":(T=C(r).ariaLabels)==null?void 0:T.prevMonth},[O.$slots["arrow-left"]?ke(O.$slots,"arrow-left",{key:0}):U("",!0),O.$slots["arrow-left"]?U("",!0):(M(),ye(C(dS),{key:1}))],10,hz)],544),j("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:g,"aria-label":(R=C(r).ariaLabels)==null?void 0:R.openYearsOverlay,tabindex:"0",onClick:N[11]||(N[11]=()=>Q(!1)),onKeydown:N[12]||(N[12]=Qe(()=>Q(!1),["enter"]))},[O.$slots.year?ke(O.$slots,"year",{key:0,year:t.year}):U("",!0),O.$slots.year?U("",!0):(M(),D(de,{key:1},[Yt(ve(t.year),1)],64))],40,dz),j("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:y,onClick:N[13]||(N[13]=K=>X(!0)),onKeydown:N[14]||(N[14]=Qe(K=>X(!0),["enter"]))},[j("div",{class:je(["dp__inner_nav",{dp__inner_nav_disabled:C(c)(!0)}]),role:"button","aria-label":(q=C(r).ariaLabels)==null?void 0:q.nextMonth},[O.$slots["arrow-right"]?ke(O.$slots,"arrow-right",{key:0}):U("",!0),O.$slots["arrow-right"]?U("",!0):(M(),ye(C(pS),{key:1}))],10,pz)],544)]),Ae(Xo,{name:C(o)(h.value),css:C(s)},{default:Fe(()=>[h.value?(M(),ye(Mc,nn({key:0},C(A)("year"),{modelValue:C(_),"onUpdate:modelValue":N[15]||(N[15]=K=>Ge(_)?_.value=K:null),onToggle:Q,onSelected:N[16]||(N[16]=K=>O.$emit("overlay-closed"))}),Qn({"button-icon":Fe(()=>[O.$slots["calendar-icon"]?ke(O.$slots,"calendar-icon",{key:0}):U("",!0),O.$slots["calendar-icon"]?U("",!0):(M(),ye(C(tg),{key:1}))]),_:2},[O.$slots["year-overlay-value"]?{name:"item",fn:Fe(({item:K})=>[ke(O.$slots,"year-overlay-value",{text:K.text,value:K.value})]),key:"0"}:void 0]),1040,["modelValue"])):U("",!0)]),_:3},8,["name","css"])]}),_:2},[O.$slots["month-overlay-value"]?{name:"item",fn:Fe(({item:T})=>[ke(O.$slots,"month-overlay-value",{text:T.text,value:T.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):U("",!0),O.yearPicker?(M(),ye(Mc,nn({key:2},C(A)("year"),{modelValue:C(_),"onUpdate:modelValue":N[19]||(N[19]=T=>Ge(_)?_.value=T:null),"multi-model-value":C(B),"skip-active":O.range,"skip-button-ref":"","year-picker":"",onToggle:Q,onSelected:N[20]||(N[20]=T=>O.$emit("overlay-closed"))}),Qn({_:2},[O.$slots["year-overlay-value"]?{name:"item",fn:Fe(({item:T})=>[ke(O.$slots,"year-overlay-value",{text:T.text,value:T.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):U("",!0)],64))])}}}),mz={key:0,class:"dp__time_input"},yz=["aria-label","onKeydown","onClick"],vz=["aria-label","data-test","onKeydown","onClick"],bz=["aria-label","onKeydown","onClick"],_z={key:0},wz=["aria-label","onKeydown"],xz=$e({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Zo},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:e,emit:n}){const i=t,{setTimePickerElements:r,setTimePickerBackRef:o}=Qo(),{defaults:s}=_i(i),{transitionName:a,showTransition:l}=ng(s.value.transitions),c=qt({hours:!1,minutes:!1,seconds:!1}),u=te("AM"),f=te(null),h=te([]);sn(()=>{n("mounted")});const d=Z(()=>v=>!!(i.maxTime&&i.maxTime[v]&&i.maxTime[v]<i[v]+ +i[`${v}Increment`])),p=Z(()=>v=>!!(i.minTime&&i.minTime[v]&&i.minTime[v]>i[v]-+i[`${v}Increment`])),g=(v,$)=>jP(Vn(le(),v),$),y=(v,$)=>n8(Vn(le(),v),$),m=Z(()=>({dp__time_col:!0,dp__time_col_reg:!i.enableSeconds&&i.is24,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),b=Z(()=>{const v=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?v.concat([{type:"",separator:!0},{type:"seconds"}]):v}),_=Z(()=>b.value.filter(v=>!v.separator)),w=Z(()=>v=>{if(v==="hours"){const $=B(i.hours);return{text:$<10?`0${$}`:`${$}`,value:$}}return{text:i[v]<10?`0${i[v]}`:`${i[v]}`,value:i[v]}}),S=v=>{const $=i.is24?24:12,W=v==="hours"?$:60,Y=+i[`${v}GridIncrement`],Q=v==="hours"&&!i.is24?Y:0,ce=[];for(let X=Q;X<W;X+=Y)ce.push({value:X,text:X<10?`0${X}`:`${X}`});return v==="hours"&&!i.is24&&ce.push({value:0,text:"12"}),bj(ce)},A=(v,$)=>{const W=i.minTime&&i.minTime[$],Y=i.maxTime&&i.maxTime[$];return W&&Y?v<W||v>Y:W?v<W:Y?v>Y:!1},x=Z(()=>v=>S(v).flat().map($=>$.value).filter($=>A($,v))),k=v=>i[`no${v[0].toUpperCase()+v.slice(1)}Overlay`],P=v=>{k(v)||(c[v]=!c[v],c[v]||n("overlay-closed"))},E=v=>v==="hours"?Wr:v==="minutes"?Ur:Ga,I=(v,$=!0)=>{const W=$?g:y;($?d.value(v):p.value(v))||n(`update:${v}`,E(v)(W({[v]:+i[v]},{[v]:+i[`${v}Increment`]})))},B=v=>i.is24?v:(v>=12?u.value="PM":u.value="AM",Sj(v)),J=()=>{u.value==="PM"?(u.value="AM",n("update:hours",i.hours-12)):(u.value="PM",n("update:hours",i.hours+12))},ee=v=>{c[v]=!0},F=(v,$,W)=>{if(v&&i.arrowNavigation){Array.isArray(h.value[$])?h.value[$][W]=v:h.value[$]=[v];const Y=h.value.reduce((Q,ce)=>ce.map((X,L)=>[...Q[L]||[],ce[L]]),[]);o(i.closeTimePickerBtn),f.value&&(Y[1]=Y[1].concat(f.value)),r(Y,i.order)}},z=(v,$)=>v==="hours"&&!i.is24?n(`update:${v}`,u.value==="PM"?$+12:$):n(`update:${v}`,$);return e({openChildCmp:ee}),(v,$)=>{var W;return v.disabled?U("",!0):(M(),D("div",mz,[(M(!0),D(de,null,He(C(b),(Y,Q)=>{var ce,X,L;return M(),D("div",{key:Q,class:je(C(m))},[Y.separator?(M(),D(de,{key:0},[Yt(" : ")],64)):(M(),D(de,{key:1},[j("div",{class:je({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:C(d)(Y.type)}),role:"button","data-test":"time-inc-btn","aria-label":(ce=C(s).ariaLabels)==null?void 0:ce.incrementValue(Y.type),tabindex:"0",onKeydown:[Qe(O=>I(Y.type),["enter"]),Qe(O=>I(Y.type),["space"])],onClick:O=>I(Y.type),ref_for:!0,ref:O=>F(O,Q,0)},[v.$slots["arrow-up"]?ke(v.$slots,"arrow-up",{key:0}):U("",!0),v.$slots["arrow-up"]?U("",!0):(M(),ye(C(f2),{key:1}))],42,yz),j("div",{role:"button","aria-label":(X=C(s).ariaLabels)==null?void 0:X.openTpOverlay(Y.type),class:je(k(Y.type)?"":"dp__time_display"),tabindex:"0","data-test":`${Y.type}-toggle-overlay-btn`,onKeydown:[Qe(O=>P(Y.type),["enter"]),Qe(O=>P(Y.type),["space"])],onClick:O=>P(Y.type),ref_for:!0,ref:O=>F(O,Q,1)},[v.$slots[Y.type]?ke(v.$slots,Y.type,{key:0,text:C(w)(Y.type).text,value:C(w)(Y.type).value}):U("",!0),v.$slots[Y.type]?U("",!0):(M(),D(de,{key:1},[Yt(ve(C(w)(Y.type).text),1)],64))],42,vz),j("div",{class:je({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:C(p)(Y.type)}),role:"button","data-test":"time-dec-btn","aria-label":(L=C(s).ariaLabels)==null?void 0:L.decrementValue(Y.type),tabindex:"0",onKeydown:[Qe(O=>I(Y.type,!1),["enter"]),Qe(O=>I(Y.type,!1),["space"])],onClick:O=>I(Y.type,!1),ref_for:!0,ref:O=>F(O,Q,2)},[v.$slots["arrow-down"]?ke(v.$slots,"arrow-down",{key:0}):U("",!0),v.$slots["arrow-down"]?U("",!0):(M(),ye(C(h2),{key:1}))],42,bz)],64))],2)}),128)),v.is24?U("",!0):(M(),D("div",_z,[v.$slots["am-pm-button"]?ke(v.$slots,"am-pm-button",{key:0,toggle:J,value:u.value}):U("",!0),v.$slots["am-pm-button"]?U("",!0):(M(),D("button",{key:1,ref_key:"amPmButton",ref:f,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(W=C(s).ariaLabels)==null?void 0:W.amPmButton,tabindex:"0",onClick:J,onKeydown:[Qe(hi(J,["prevent"]),["enter"]),Qe(hi(J,["prevent"]),["space"])]},ve(u.value),41,wz))])),(M(!0),D(de,null,He(C(_),(Y,Q)=>(M(),ye(Xo,{key:Q,name:C(a)(c[Y.type]),css:C(l)},{default:Fe(()=>[c[Y.type]?(M(),ye(Mc,{key:0,items:S(Y.type),"disabled-values":C(s).filters.times[Y.type].concat(C(x)(Y.type)),"esc-close":v.escClose,"aria-labels":C(s).ariaLabels,"hide-navigation":v.hideNavigation,"onUpdate:modelValue":ce=>z(Y.type,ce),onSelected:ce=>P(Y.type),onToggle:ce=>P(Y.type),onResetFlow:$[0]||($[0]=ce=>v.$emit("reset-flow")),type:Y.type},Qn({"button-icon":Fe(()=>[v.$slots["clock-icon"]?ke(v.$slots,"clock-icon",{key:0}):U("",!0),v.$slots["clock-icon"]?U("",!0):(M(),ye(C(u2),{key:1}))]),_:2},[v.$slots[`${Y.type}-overlay-value`]?{name:"item",fn:Fe(({item:ce})=>[ke(v.$slots,`${Y.type}-overlay-value`,{text:ce.text,value:ce.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):U("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Sz=["aria-label"],kz={class:"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"},Cz={key:1,class:"dp__overlay_row"},Oz=["aria-label"],Mz=$e({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Zo},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const i=t,{buildMatrix:r,setTimePicker:o}=Qo(),s=qb(),{hideNavigationButtons:a,defaults:l}=_i(i),{transitionName:c,showTransition:u}=ng(l.value.transitions),f=te(null),h=te(null),d=te([]),p=te(null);sn(()=>{n("mount"),!i.timePicker&&i.arrowNavigation?r([ln(f.value)],"time"):o(!0,i.timePicker)});const g=Z(()=>i.range&&i.modelAuto?y2(i.internalModelValue):!0),y=te(!1),m=I=>({hours:Array.isArray(i.hours)?i.hours[I]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[I]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[I]:i.seconds}),b=Z(()=>{const I=[];if(i.range)for(let B=0;B<2;B++)I.push(m(B));else I.push(m(0));return I}),_=(I,B=!1,J="")=>{B||n("reset-flow"),y.value=I,i.arrowNavigation&&(o(I),I||n("overlay-closed")),Ar(()=>{J!==""&&d.value[0]&&d.value[0].openChildCmp(J)})},w=Z(()=>({dp__button:!0,dp__button_bottom:i.autoApply})),S=As(s,"timePicker"),A=(I,B,J)=>i.range?B===0?[I,b.value[1][J]]:[b.value[0][J],I]:I,x=I=>{n("update:hours",I)},k=I=>{n("update:minutes",I)},P=I=>{n("update:seconds",I)},E=()=>{p.value&&i.arrowNavigation&&p.value.focus({preventScroll:!0})};return e({toggleTimePicker:_}),(I,B)=>{var J;return M(),D("div",null,[I.timePicker?U("",!0):$t((M(),D("div",{key:0,class:je(C(w)),role:"button","aria-label":(J=C(l).ariaLabels)==null?void 0:J.openTimePicker,tabindex:"0","data-test":"open-time-picker-btn",ref_key:"openTimePickerBtn",ref:f,onKeydown:[B[0]||(B[0]=Qe(ee=>_(!0),["enter"])),B[1]||(B[1]=Qe(ee=>_(!0),["space"]))],onClick:B[2]||(B[2]=ee=>_(!0))},[I.$slots["clock-icon"]?ke(I.$slots,"clock-icon",{key:0}):U("",!0),I.$slots["clock-icon"]?U("",!0):(M(),ye(C(u2),{key:1}))],42,Sz)),[[Ra,!C(a)("time")]]),Ae(Xo,{name:C(c)(y.value),css:C(u)},{default:Fe(()=>{var ee;return[y.value||I.timePicker?(M(),D("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:p,tabindex:"0"},[j("div",kz,[I.$slots["time-picker-overlay"]?ke(I.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:x,setMinutes:k,setSeconds:P}):U("",!0),I.$slots["time-picker-overlay"]?U("",!0):(M(),D("div",Cz,[(M(!0),D(de,null,He(C(b),(F,z)=>$t((M(),ye(xz,nn({key:z},{...I.$props,order:z,hours:F.hours,minutes:F.minutes,seconds:F.seconds,closeTimePickerBtn:h.value,disabled:z===0?I.fixedStart:I.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:d,"onUpdate:hours":v=>x(A(v,z,"hours")),"onUpdate:minutes":v=>k(A(v,z,"minutes")),"onUpdate:seconds":v=>P(A(v,z,"seconds")),onMounted:E,onOverlayClosed:E}),Qn({_:2},[He(C(S),(v,$)=>({name:v,fn:Fe(W=>[ke(I.$slots,v,ui(gr(W)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Ra,z===0?!0:C(g)]])),128))])),I.timePicker?U("",!0):$t((M(),D("div",{key:2,ref_key:"closeTimePickerBtn",ref:h,class:je(C(w)),role:"button","aria-label":(ee=C(l).ariaLabels)==null?void 0:ee.closeTimePicker,tabindex:"0",onKeydown:[B[3]||(B[3]=Qe(F=>_(!1),["enter"])),B[4]||(B[4]=Qe(F=>_(!1),["space"]))],onClick:B[5]||(B[5]=F=>_(!1))},[I.$slots["calendar-icon"]?ke(I.$slots,"calendar-icon",{key:0}):U("",!0),I.$slots["calendar-icon"]?U("",!0):(M(),ye(C(tg),{key:1}))],42,Oz)),[[Ra,!C(a)("time")]])])],512)):U("",!0)]}),_:3},8,["name","css"])])}}}),Az=(t,e)=>{const{isDisabled:n,matchDate:i,getWeekFromDate:r}=_i(e),o=te(null),s=te(le()),a=v=>{!v.current&&e.hideOffsetDates||(o.value=v.value)},l=()=>{o.value=null},c=v=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?v?Wn(o.value,t.value[0]):Pn(o.value,t.value[0]):!0,u=(v,$)=>{const W=()=>t.value?$?t.value[0]||null:t.value[1]:null,Y=t.value&&Array.isArray(t.value)?W():null;return It(le(v.value),Y)},f=v=>{const $=Array.isArray(t.value)?t.value[0]:null;return v?!Pn(o.value||null,$):!0},h=(v,$=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)?e.hideOffsetDates&&!v.current?!1:It(le(v.value),t.value[$?0:1]):e.range?u(v,$)&&f($)||It(v.value,Array.isArray(t.value)?t.value[0]:null)&&c($):!1,d=(v,$,W)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?v?!1:W?Wn(t.value[0],$.value):Pn(t.value[0],$.value):!1,p=v=>!t.value||e.hideOffsetDates&&!v.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?It(v.value,t.value[0]?t.value[0]:s.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some($=>It($,v.value)):It(v.value,t.value?t.value:s.value),g=v=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!v.current)return!1;const $=$o(o.value,+e.autoRange),W=r(le(o.value));return e.weekPicker?It(W[1],le(v.value)):It($,le(v.value))}return!1}return!1},y=v=>{if(e.autoRange||e.weekPicker){if(o.value){const $=$o(o.value,+e.autoRange);if(e.hideOffsetDates&&!v.current)return!1;const W=r(le(o.value));return e.weekPicker?Wn(v.value,W[0])&&Pn(v.value,W[1]):Wn(v.value,o.value)&&Pn(v.value,$)}return!1}return!1},m=v=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!v.current)return!1;const $=r(le(o.value));return e.weekPicker?It($[0],v.value):It(o.value,v.value)}return!1}return!1},b=v=>d2(t.value,o.value,v.value),_=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,w=()=>e.modelAuto?y2(e.internalModelValue):!0,S=v=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const $=e.range?!h(v)&&!h(v,!1):!0;return!n(v.value)&&!p(v)&&!(!v.current&&e.hideOffsetDates)&&$},A=v=>e.range?e.modelAuto?_()&&p(v):!1:p(v),x=v=>e.highlight?i(v.value,e.highlight):!1,k=v=>n(v.value)&&e.highlightDisabledDays===!1,P=v=>e.highlightWeekDays&&e.highlightWeekDays.includes(v.value.getDay()),E=v=>(e.range||e.weekPicker)&&(!(e.multiCalendars>0)||v.current)&&w()&&!(!v.current&&e.hideOffsetDates)&&!p(v)?b(v):!1,I=v=>({dp__cell_offset:!v.current,dp__pointer:!e.disabled&&!(!v.current&&e.hideOffsetDates)&&!n(v.value),dp__cell_disabled:n(v.value),dp__cell_highlight:!k(v)&&(x(v)||P(v))&&!A(v),dp__cell_highlight_active:!k(v)&&(x(v)||P(v))&&A(v),dp__today:!e.noToday&&It(v.value,s.value)&&v.current}),B=v=>({dp__active_date:A(v),dp__date_hover:S(v)}),J=v=>({...ee(v),...F(v),dp__range_between_week:E(v)&&e.weekPicker}),ee=v=>({dp__range_start:e.multiCalendars>0?v.current&&h(v)&&w():h(v)&&w(),dp__range_end:e.multiCalendars>0?v.current&&h(v,!1)&&w():h(v,!1)&&w(),dp__range_between:E(v)&&!e.weekPicker,dp__date_hover_start:d(S(v),v,!0),dp__date_hover_end:d(S(v),v,!1)}),F=v=>({...ee(v),dp__cell_auto_range:y(v),dp__cell_auto_range_start:m(v),dp__cell_auto_range_end:g(v)}),z=v=>e.range?e.autoRange?F(v):e.modelAuto?{...B(v),...ee(v)}:ee(v):e.weekPicker?J(v):B(v);return{setHoverDate:a,clearHoverDate:l,getDayClassData:v=>({...I(v),...z(v),[e.dayClass?e.dayClass(v.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName})}},Pz=["id","onKeydown"],Tz={key:0,class:"dp__sidebar_left"},Dz={key:1,class:"dp__preset_ranges"},$z=["onClick"],Rz={key:2,class:"dp__sidebar_right"},Ez={key:3,class:"dp__now_wrap"},Iz=$e({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Zo},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const i=t,{setMenuFocused:r,setShiftKey:o,control:s}=p2(),{getCalendarDays:a,defaults:l}=_i(i),c=qb(),u=te(null),f=qt({timePicker:!!(!i.enableTimePicker||i.timePicker||i.monthPicker),monthYearInput:!!i.timePicker,calendar:!1}),h=te([]),d=te([]),p=te(null),g=te(null),y=te(0),m=te(!1),b=te(0);sn(()=>{var ne;m.value=!0,!((ne=i.presetRanges)!=null&&ne.length)&&!c["left-sidebar"]&&!c["right-sidebar"]&&ue();const Se=ln(g);if(Se&&!i.textInput&&!i.inline&&(r(!0),k()),Se){const Bn=Gn=>{!i.monthYearComponent&&!i.timePickerComponent&&!Object.keys(c).length&&Gn.preventDefault(),Gn.stopImmediatePropagation(),Gn.stopPropagation()};Se.addEventListener("pointerdown",Bn),Se.addEventListener("mousedown",Bn)}window.addEventListener("resize",ue)}),Sl(()=>{window.removeEventListener("resize",ue)});const{arrowRight:_,arrowLeft:w,arrowDown:S,arrowUp:A}=Qo(),x=ne=>{ne||ne===0?d.value[ne].triggerTransition(J.value(ne),ee.value(ne)):d.value.forEach((Se,Bn)=>Se.triggerTransition(J.value(Bn),ee.value(Bn)))},k=()=>{const ne=ln(g);ne&&ne.focus({preventScroll:!0})},P=()=>{var ne;(ne=i.flow)!=null&&ne.length&&b.value!==-1&&(b.value+=1,n("flow-step",b.value),at())},E=()=>{b.value=-1},{calendars:I,modelValue:B,month:J,year:ee,time:F,updateTime:z,updateMonthYear:v,selectDate:$,getWeekNum:W,monthYearSelect:Y,handleScroll:Q,handleArrow:ce,handleSwipe:X,getMarker:L,selectCurrentDate:O,presetDateRange:N}=Dj(i,n,P,x,b),{setHoverDate:V,clearHoverDate:G,getDayClassData:ae}=Az(B,i);mt(I,()=>{i.openOnTop&&setTimeout(()=>{n("recalculate-position")},0)},{deep:!0});const _e=As(c,"calendar"),xe=As(c,"action"),T=As(c,"timePicker"),R=As(c,"monthYear"),q=Z(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),K=Z(()=>wj(i.yearRange)),oe=Z(()=>xj(i.locale,i.monthNameFormat)),ue=()=>{const ne=ln(u);ne&&(y.value=ne.getBoundingClientRect().width)},pe=Z(()=>ne=>a(J.value(ne),ee.value(ne))),fe=Z(()=>l.value.multiCalendars>0&&i.range?[...Array(l.value.multiCalendars).keys()]:[0]),he=Z(()=>ne=>ne===1),se=Z(()=>i.monthPicker||i.timePicker||i.yearPicker),Te=Z(()=>({dp__flex_display:l.value.multiCalendars>0})),we=Z(()=>({dp__instance_calendar:l.value.multiCalendars>0})),Ce=Z(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),Le=Z(()=>ne=>rt(pe,ne)),We=Z(()=>({dp__menu:!0,dp__menu_index:!i.inline,dp__relative:i.inline,[i.menuClassName]:!!i.menuClassName})),rt=(ne,Se)=>ne.value(Se).map(Bn=>({...Bn,days:Bn.days.map(Gn=>(Gn.marker=L(Gn),Gn.classData=ae(Gn),Gn))})),Xe=ne=>{ne.stopPropagation(),ne.stopImmediatePropagation()},H=()=>{i.escClose&&n("close-picker")},re=(ne,Se=!1)=>{$(ne,Se),i.spaceConfirm&&n("select-date")},Oe=ne=>{var Se;(Se=i.flow)!=null&&Se.length&&(f[ne]=!0,Object.keys(f).filter(Bn=>!f[Bn]).length||at())},Ee=(ne,Se,Bn,Gn,...zu)=>{if(i.flow[b.value]===ne){const Be=Gn?Se.value[0]:Se.value;Be&&Be[Bn](...zu)}},at=()=>{Ee("month",h,"toggleMonthPicker",!0,!0),Ee("year",h,"toggleYearPicker",!0,!0),Ee("calendar",p,"toggleTimePicker",!1,!1,!0),Ee("time",p,"toggleTimePicker",!1,!0,!0);const ne=i.flow[b.value];(ne==="hours"||ne==="minutes"||ne==="seconds")&&Ee(ne,p,"toggleTimePicker",!1,!0,!0,ne)},ri=ne=>{if(i.arrowNavigation){if(ne==="up")return A();if(ne==="down")return S();if(ne==="left")return w();if(ne==="right")return _()}else ne==="left"||ne==="up"?ce("left",0,ne==="up"):ce("right",0,ne==="down")},Xt=ne=>{o(ne.shiftKey),!i.disableMonthYearSelect&&ne.code==="Tab"&&ne.target.classList.contains("dp__menu")&&s.value.shiftKeyInMenu&&(ne.preventDefault(),ne.stopImmediatePropagation(),n("close-picker"))};return e({updateMonthYear:v}),(ne,Se)=>{var Bn;return M(),ye(Xo,{appear:"",name:(Bn=C(l).transitions)==null?void 0:Bn.menuAppear,mode:"out-in",css:!!ne.transitions},{default:Fe(()=>{var Gn,zu;return[j("div",{id:ne.uid?`dp-menu-${ne.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:g,role:"dialog",class:je(C(We)),onMouseleave:Se[14]||(Se[14]=(...Be)=>C(G)&&C(G)(...Be)),onClick:Xe,onKeydown:[Qe(H,["esc"]),Se[15]||(Se[15]=Qe(hi(Be=>ri("left"),["prevent"]),["left"])),Se[16]||(Se[16]=Qe(hi(Be=>ri("up"),["prevent"]),["up"])),Se[17]||(Se[17]=Qe(hi(Be=>ri("down"),["prevent"]),["down"])),Se[18]||(Se[18]=Qe(hi(Be=>ri("right"),["prevent"]),["right"])),Xt]},[(ne.disabled||ne.readonly)&&ne.inline?(M(),D("div",{key:0,class:je(C(Ce))},null,2)):U("",!0),!ne.inline&&!ne.teleportCenter?(M(),D("div",{key:1,class:je(C(q))},null,2)):U("",!0),j("div",{class:je({dp__menu_content_wrapper:((Gn=ne.presetRanges)==null?void 0:Gn.length)||!!ne.$slots["left-sidebar"]||!!ne.$slots["right-sidebar"]})},[ne.$slots["left-sidebar"]?(M(),D("div",Tz,[ke(ne.$slots,"left-sidebar")])):U("",!0),(zu=ne.presetRanges)!=null&&zu.length?(M(),D("div",Dz,[(M(!0),D(de,null,He(ne.presetRanges,(Be,ca)=>(M(),D("div",{key:ca,style:gt(Be.style||{}),class:"dp__preset_range",onClick:Je=>C(N)(Be.range,!!Be.slot)},[Be.slot?ke(ne.$slots,Be.slot,{key:0,presetDateRange:C(N),label:Be.label,range:Be.range}):(M(),D(de,{key:1},[Yt(ve(Be.label),1)],64))],12,$z))),128))])):U("",!0),j("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:u,role:"document"},[j("div",{class:je(C(Te))},[(M(!0),D(de,null,He(C(fe),(Be,ca)=>(M(),D("div",{key:Be,class:je(C(we))},[!ne.disableMonthYearSelect&&!ne.timePicker?(M(),ye($a(ne.monthYearComponent?ne.monthYearComponent:gz),nn({key:0,ref_for:!0,ref:Je=>{Je&&(h.value[ca]=Je)},months:C(oe),years:C(K),month:C(J)(Be),year:C(ee)(Be),instance:Be,"internal-model-value":t.internalModelValue},ne.$props,{onMount:Se[0]||(Se[0]=Je=>Oe("monthYearInput")),onResetFlow:E,onUpdateMonthYear:Je=>C(v)(Be,Je),onMonthYearSelect:C(Y),onOverlayClosed:k}),Qn({_:2},[He(C(R),(Je,IE)=>({name:Je,fn:Fe(Yg=>[ke(ne.$slots,Je,ui(gr(Yg)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):U("",!0),Ae(nz,nn({ref_for:!0,ref:Je=>{Je&&(d.value[ca]=Je)},"specific-mode":C(se),"get-week-num":C(W),instance:Be,"mapped-dates":C(Le)(Be),month:C(J)(Be),year:C(ee)(Be)},ne.$props,{"flow-step":b.value,"onUpdate:flowStep":Se[1]||(Se[1]=Je=>b.value=Je),onSelectDate:Je=>C($)(Je,!C(he)(Be)),onHandleSpace:Je=>re(Je,!C(he)(Be)),onSetHoverDate:Se[2]||(Se[2]=Je=>C(V)(Je)),onHandleScroll:Je=>C(Q)(Je,Be),onHandleSwipe:Je=>C(X)(Je,Be),onMount:Se[3]||(Se[3]=Je=>Oe("calendar")),onResetFlow:E,onTooltipOpen:Se[4]||(Se[4]=Je=>ne.$emit("tooltip-open",Je)),onTooltipClose:Se[5]||(Se[5]=Je=>ne.$emit("tooltip-close",Je))}),Qn({_:2},[He(C(_e),(Je,IE)=>({name:Je,fn:Fe(Yg=>[ke(ne.$slots,Je,ui(gr({...Yg})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),j("div",null,[ne.$slots["time-picker"]?ke(ne.$slots,"time-picker",ui(nn({key:0},{time:C(F),updateTime:C(z)}))):(M(),D(de,{key:1},[ne.enableTimePicker&&!ne.monthPicker&&!ne.weekPicker?(M(),ye($a(ne.timePickerComponent?ne.timePickerComponent:Mz),nn({key:0,ref_key:"timePickerRef",ref:p,hours:C(F).hours,minutes:C(F).minutes,seconds:C(F).seconds,"internal-model-value":t.internalModelValue},ne.$props,{onMount:Se[6]||(Se[6]=Be=>Oe("timePicker")),"onUpdate:hours":Se[7]||(Se[7]=Be=>C(z)(Be)),"onUpdate:minutes":Se[8]||(Se[8]=Be=>C(z)(Be,!1)),"onUpdate:seconds":Se[9]||(Se[9]=Be=>C(z)(Be,!1,!0)),onResetFlow:E,onOverlayClosed:k}),Qn({_:2},[He(C(T),(Be,ca)=>({name:Be,fn:Fe(Je=>[ke(ne.$slots,Be,ui(gr(Je)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):U("",!0)],64))])],512),ne.$slots["right-sidebar"]?(M(),D("div",Rz,[ke(ne.$slots,"right-sidebar")])):U("",!0),ne.showNowButton?(M(),D("div",Ez,[ne.$slots["now-button"]?ke(ne.$slots,"now-button",{key:0,selectCurrentDate:C(O)}):U("",!0),ne.$slots["now-button"]?U("",!0):(M(),D("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:Se[10]||(Se[10]=(...Be)=>C(O)&&C(O)(...Be))},ve(ne.nowButtonLabel),1))])):U("",!0)],2),!ne.autoApply||ne.keepActionRow?(M(),ye($a(ne.actionRowComponent?ne.actionRowComponent:Yj),nn({key:2,"menu-mount":m.value,"calendar-width":y.value,"internal-model-value":t.internalModelValue},ne.$props,{onClosePicker:Se[11]||(Se[11]=Be=>ne.$emit("close-picker")),onSelectDate:Se[12]||(Se[12]=Be=>ne.$emit("select-date")),onInvalidSelect:Se[13]||(Se[13]=Be=>ne.$emit("invalid-select"))}),Qn({_:2},[He(C(xe),(Be,ca)=>({name:Be,fn:Fe(Je=>[ke(ne.$slots,Be,ui(gr({...Je})))])}))]),1040,["menu-mount","calendar-width","internal-model-value"])):U("",!0)],42,Pz)]}),_:3},8,["name","css"])}}}),Lz=typeof window<"u"?window:void 0,ym=()=>{},Nz=t=>Wp()?(Tb(t),!0):!1,Bz=(t,e,n,i)=>{if(!t)return ym;let r=ym;const o=mt(()=>C(t),a=>{r(),a&&(a.addEventListener(e,n,i),r=()=>{a.removeEventListener(e,n,i),r=ym})},{immediate:!0,flush:"post"}),s=()=>{o(),r()};return Nz(s),s},Fz=(t,e,n,i={})=>{const{window:r=Lz,event:o="pointerdown"}=i;return r?Bz(r,o,s=>{const a=ln(t),l=ln(e);!a||!l||a===s.target||s.composedPath().includes(a)||s.composedPath().includes(l)||n(s)},{passive:!0}):void 0},Hz=$e({__name:"VueDatePicker",props:{...Zo},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const i=t,r=qb(),o=te(!1),s=Fs(i,"modelValue"),a=Fs(i,"timezone"),l=te(null),c=te(null),u=te(!1),{setMenuFocused:f,setShiftKey:h}=p2(),{clearArrowNav:d}=Qo(),{validateDate:p,isValidTime:g,defaults:y}=_i(i);sn(()=>{P(i.modelValue),i.inline||(window.addEventListener("scroll",F),window.addEventListener("resize",z)),i.inline&&(o.value=!0)}),Sl(()=>{i.inline||(window.removeEventListener("scroll",F),window.removeEventListener("resize",z))});const m=As(r,"all",i.presetRanges),b=As(r,"input");mt([s,a],()=>{P(s.value)},{deep:!0});const{openOnTop:_,menuPosition:w,setMenuPosition:S,setInitialPosition:A}=Ej(l,c,n,i),{inputValue:x,internalModelValue:k,parseExternalModelValue:P,emitModelValue:E,formatInputValue:I,checkBeforeEmit:B}=$j(n,i,u),J=Z(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:i.inline,dp__flex_display_with_input:i.inlineWithInput})),ee=Z(()=>i.dark?"dp__theme_dark":"dp__theme_light"),F=()=>{o.value&&(i.closeOnScroll?L():i.autoPosition&&S())},z=()=>{o.value&&S()},v=()=>{!i.disabled&&!i.readonly&&(A(),o.value=!0,Ar().then(()=>{S(),o.value&&n("open")}),o.value||X(),P(i.modelValue))},$=()=>{x.value="",X(),n("update:model-value",null),n("cleared"),L()},W=()=>{const R=k.value;return!R||!Array.isArray(R)&&p(R)?!0:Array.isArray(R)?R.length===2&&p(R[0])&&p(R[1])?!0:p(R[0]):!1},Y=()=>{B()&&W()?(E(),L()):n("invalid-select",k.value)},Q=R=>{E(),i.closeOnAutoApply&&!R&&L()},ce=(R=!1)=>{i.autoApply&&g(k.value)&&W()&&(i.range&&Array.isArray(k.value)?(i.partialRange||k.value.length===2)&&Q(R):Q(R))},X=()=>{i.textInput||(k.value=null)},L=()=>{i.inline||(o.value&&(o.value=!1,f(!1),h(!1),d(),n("closed"),A(),x.value&&P(s.value)),X(),c.value&&c.value.focusInput())},O=(R,q)=>{if(!R){k.value=null;return}k.value=R,q&&(Y(),n("text-submit"))},N=()=>{i.autoApply&&g(k.value)&&E()},V=()=>o.value?L():v(),G=R=>{k.value=R},ae=Z(()=>i.textInput&&y.value.textInputOptions.format),_e=()=>{ae.value&&(u.value=!0,I()),n("focus")},xe=()=>{ae.value&&(u.value=!1,I()),n("blur")},T=R=>{l.value&&l.value.updateMonthYear(0,{month:kS(R.month),year:kS(R.year)})};return Fz(l,c,i.onClickOutside?()=>i.onClickOutside(W):L),e({closeMenu:L,selectDate:Y,clearValue:$,openMenu:v,onScroll:F,formatInputValue:I,updateInternalModelValue:G,setMonthYear:T}),(R,q)=>(M(),D("div",{class:je(C(J))},[Ae(jj,nn({ref_key:"inputRef",ref:c,"is-menu-open":o.value,"input-value":C(x),"onUpdate:inputValue":q[0]||(q[0]=K=>Ge(x)?x.value=K:null)},R.$props,{onClear:$,onOpen:v,onSetInputDate:O,onSetEmptyDate:C(E),onSelectDate:Y,onToggle:V,onClose:L,onFocus:_e,onBlur:xe}),Qn({_:2},[He(C(b),(K,oe)=>({name:K,fn:Fe(ue=>[ke(R.$slots,K,ui(gr(ue)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),o.value?(M(),ye(lP,{key:0,to:R.teleport,disabled:R.inline},[o.value?(M(),ye(Iz,nn({key:0,ref_key:"dpMenuRef",ref:l,class:C(ee),style:C(w),"open-on-top":C(_)},R.$props,{"internal-model-value":C(k),"onUpdate:internalModelValue":q[1]||(q[1]=K=>Ge(k)?k.value=K:null),onClosePicker:L,onSelectDate:Y,onAutoApply:ce,onTimeUpdate:N,onFlowStep:q[2]||(q[2]=K=>R.$emit("flow-step",K)),onUpdateMonthYear:q[3]||(q[3]=K=>R.$emit("update-month-year",K)),onInvalidSelect:q[4]||(q[4]=K=>R.$emit("invalid-select",C(k))),onInvalidFixedRange:q[5]||(q[5]=K=>R.$emit("invalid-fixed-range",K)),onRecalculatePosition:C(S),onTooltipOpen:q[6]||(q[6]=K=>R.$emit("tooltip-open",K)),onTooltipClose:q[7]||(q[7]=K=>R.$emit("tooltip-close",K))}),Qn({_:2},[He(C(m),(K,oe)=>({name:K,fn:Fe(ue=>[ke(R.$slots,K,ui(gr({...ue})))])}))]),1040,["class","style","open-on-top","internal-model-value","onRecalculatePosition"])):U("",!0)],8,["to","disabled"])):U("",!0)],2))}}),f1=(()=>{const t=Hz;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),Vz=Object.freeze(Object.defineProperty({__proto__:null,default:f1},Symbol.toStringTag,{value:"Module"}));Object.entries(Vz).forEach(([t,e])=>{t!=="default"&&(f1[t]=e)});const jz={key:1},PS=$e({__name:"IopMoment",props:{modelValue:null,editing:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,i=te(null),r=Z({get(){if(!n.modelValue)return e("update:modelValue",{hours:0,minutes:0,seconds:0}),{hours:0,minutes:0,seconds:0};const{hours:o,minutes:s,seconds:a}=n.modelValue;return{hours:o,minutes:s,seconds:a}},set(o){e("update:modelValue",{hours:(o==null?void 0:o.hours)??0,minutes:(o==null?void 0:o.minutes)??0,seconds:(o==null?void 0:o.seconds)??0})}});return(o,s)=>n.editing?(M(),ye(C(f1),{key:0,ref_key:"picker",ref:i,modelValue:C(r),"onUpdate:modelValue":s[0]||(s[0]=a=>Ge(r)?r.value=a:null),inputClassName:"timePickerButtonMoment",clearable:!1,"enable-seconds":"","auto-apply":"","close-on-auto-apply":!1,timePicker:""},null,8,["modelValue"])):(M(),D("span",jz,ve(`${C(r).hours??0}`.padStart(2,"0"))+"h:"+ve(`${C(r).minutes??0}`.padStart(2,"0"))+"m:"+ve(`${C(r).seconds??0}`.padStart(2,"0"))+"s",1))}}),zz=["min"],TS=$e({__name:"IopNum",props:{modelValue:null,isFloat:{type:Boolean},isUnsigned:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,i=o=>{var l;const s=["0","1","2","3","4","5","6","7","8","9"];n.isFloat&&(s.push("."),s.push(","));const a=o.key??((l=o.clipboardData)==null?void 0:l.getData("text"))??"";for(const c of[...a])if(!s.includes(c)){o.preventDefault();break}},r=Z({get(){return n.modelValue===""?null:n.modelValue},set(o){e("update:modelValue",o)}});return(o,s)=>$t((M(),D("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>Ge(r)?r.value=a:null),type:"number",min:n.isUnsigned?"0":void 0,onKeypress:s[1]||(s[1]=a=>i(a)),onPaste:s[2]||(s[2]=a=>i(a))},null,40,zz)),[[qi,C(r)]])}}),v2=t=>(Hi("data-v-03c6f3e8"),t=t(),Vi(),t),Wz={key:0,class:"slot"},Uz=v2(()=>j("option",{value:""},null,-1)),Yz=["value"],qz=v2(()=>j("option",{value:""},null,-1)),Kz=["value"],Gz={key:0},Xz=["onClick"],Jz={key:0,class:"flex"},Qz={key:0,class:"ml-2"},Zz={key:1},e6={key:0,class:"slot mb-2"},t6={key:1,class:"slot mb-2"},n6={key:2,class:"slot mb-2"},i6=$e({__name:"SensorWidgets",props:{editing:{type:Boolean},widget:null,modelValue:null,sensorsDisplay:null,sensorPrototypes:null},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,i=GI(()=>e3(()=>Promise.resolve().then(()=>r6),void 0)),r=te(null),o=te(!1),s=Z({get(){return n.modelValue},set(f){e("update:modelValue",f)}}),a=Z({get(){return n.modelValue},set(f){e("update:modelValue",f)}}),l=Z({get(){return n.modelValue},set(f){e("update:modelValue",f)}}),c=()=>{if(!Array.isArray(s.value))throw new Error(`unable to add elements to something that is not an Array: ${JSON.stringify(s.value)}`);o.value=s.value.some(f=>f.key===(r==null?void 0:r.value)),r.value!==null&&!o.value&&s.value.push({key:r.value,value:null})},u=f=>{if(!Array.isArray(s.value))throw new Error(`unable to add elements to something that is not an Array: ${JSON.stringify(s.value)}`);s.value.splice(f,1)};return(f,h)=>{var d;return M(),D("span",null,[n.editing?(M(),D("span",Wz,[[C(vt).Seconds,C(vt).U8,C(vt).U16,C(vt).U32,C(vt).U64].includes(n.widget.kind)?(M(),ye(TS,{key:0,modelValue:C(a),"onUpdate:modelValue":h[0]||(h[0]=p=>Ge(a)?a.value=p:null),"is-unsigned":!0,class:"slot mb-2",size:"5"},null,8,["modelValue"])):[C(vt).F32,C(vt).F64].includes(n.widget.kind)?(M(),ye(TS,{key:1,modelValue:C(a),"onUpdate:modelValue":h[1]||(h[1]=p=>Ge(a)?a.value=p:null),"is-float":!0,class:"slot mb-2",size:"5"},null,8,["modelValue"])):U("",!0),n.widget.kind===C(vt).Seconds?(M(),D(de,{key:2},[Yt(" second"+ve(C(s)&&C(s)>1?"s":""),1)],64)):n.widget.kind===C(vt).Sensor?$t((M(),D("select",{key:3,"onUpdate:modelValue":h[2]||(h[2]=p=>Ge(s)?s.value=p:null),class:"slot mb-2"},[Uz,(M(!0),D(de,null,He(n.sensorsDisplay.filter(p=>p.prototypeId===n.widget.data),p=>(M(),D("option",{key:p.localPk,value:p.localPk},ve(p.alias),9,Yz))),128))],512)),[[So,C(s)]]):n.widget.kind===C(vt).Selection?$t((M(),D("select",{key:4,"onUpdate:modelValue":h[3]||(h[3]=p=>Ge(s)?s.value=p:null),class:"slot mb-2"},[qz,(M(!0),D(de,null,He(n.widget.data,p=>(M(),D("option",{key:p,value:p},ve(p),9,Kz))),128))],512)),[[So,C(s)]]):n.widget.kind===C(vt).Moment?(M(),ye(PS,{key:5,modelValue:C(l),"onUpdate:modelValue":h[4]||(h[4]=p=>Ge(l)?l.value=p:null),editing:n.editing,class:"slot mb-2"},null,8,["modelValue","editing"])):n.widget.kind===C(vt).Map?(M(),D(de,{key:6},[(M(!0),D(de,null,He(C(s),(p,g)=>(M(),D("span",{key:JSON.stringify(p.key),class:"flex"},[p.key?(M(),D("span",Gz,[Ae(C(i),{modelValue:p.key,"onUpdate:modelValue":y=>p.key=y,editing:!1,widget:n.widget.data[0],"sensors-display":n.sensorsDisplay,"sensor-prototypes":n.sensorPrototypes,class:"map"},null,8,["modelValue","onUpdate:modelValue","widget","sensors-display","sensor-prototypes"]),Ae(C(i),{modelValue:p.value,"onUpdate:modelValue":y=>p.value=y,editing:n.editing,widget:n.widget.data[1],"sensors-display":n.sensorsDisplay,"sensor-prototypes":n.sensorPrototypes},null,8,["modelValue","onUpdate:modelValue","editing","widget","sensors-display","sensor-prototypes"]),j("button",{class:"ml-2 slot",onClick:y=>u(g)},"Delete",8,Xz)])):U("",!0)]))),128)),n.widget.kind===C(vt).Map?(M(),D("span",Jz,[Ae(C(i),{modelValue:r.value,"onUpdate:modelValue":h[5]||(h[5]=p=>r.value=p),editing:n.editing,widget:n.widget.data[0],"sensors-display":n.sensorsDisplay,"sensor-prototypes":n.sensorPrototypes},null,8,["modelValue","editing","widget","sensors-display","sensor-prototypes"]),j("button",{class:"ml-2 slot",onClick:h[6]||(h[6]=p=>c())},"Insert"),o.value?(M(),D("span",Qz,"Unable to add, key has already been set")):U("",!0)])):U("",!0)],64)):U("",!0)])):(M(),D("span",Zz,[[C(vt).U8,C(vt).U16,C(vt).U32,C(vt).U64,C(vt).F32,C(vt).F64,C(vt).Selection].includes(n.widget.kind)?(M(),D("p",e6,ve(C(s)),1)):n.widget.kind===C(vt).Sensor?(M(),D("p",t6,ve((d=n.sensorsDisplay.find(p=>p.localPk===C(s)))==null?void 0:d.alias),1)):n.widget.kind===C(vt).Seconds?(M(),D("p",n6,ve(C(s))+" second"+ve(C(s)&&C(s)>1?"s":""),1)):n.widget.kind===C(vt).Moment?(M(),ye(PS,{key:3,modelValue:C(l),"onUpdate:modelValue":h[7]||(h[7]=p=>Ge(l)?l.value=p:null),editing:n.editing,class:"slot mb-2"},null,8,["modelValue","editing"])):n.widget.kind===C(vt).Map?(M(!0),D(de,{key:4},He(C(s),p=>(M(),D("span",{key:JSON.stringify(p.key),class:"flex"},[Ae(C(i),{modelValue:p.key,"onUpdate:modelValue":g=>p.key=g,editing:n.editing,widget:n.widget.data[0],"sensors-display":n.sensorsDisplay,"sensor-prototypes":n.sensorPrototypes,class:"map"},null,8,["modelValue","onUpdate:modelValue","editing","widget","sensors-display","sensor-prototypes"]),Ae(C(i),{modelValue:p.value,"onUpdate:modelValue":g=>p.value=g,editing:n.editing,widget:n.widget.data[1],"sensors-display":n.sensorsDisplay,"sensor-prototypes":n.sensorPrototypes},null,8,["modelValue","onUpdate:modelValue","editing","widget","sensors-display","sensor-prototypes"])]))),128)):U("",!0)]))])}}}),$r=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},b2=$r(i6,[["__scopeId","data-v-03c6f3e8"]]),r6=Object.freeze(Object.defineProperty({__proto__:null,default:b2},Symbol.toStringTag,{value:"Module"}));async function o6(t){return await lo("/v1/targets",t)}const s6={list:o6};async function a6(t){await la("/v1/compiler",t)}async function l6(t){await la("/v1/compiler/set",t)}async function c6(t){return await lo("/v1/compilers",t)}const Zu={create:a6,set:l6,list:c6};async function u6(t){return await lo("/v1/target/sensor/prototypes",{targetId:t})}const f6={listForTarget:u6};async function h6(t){await la("/v1/sensor/alias",t)}async function d6(t){await la("/v1/sensor/color",t)}const DS={setAlias:h6,setColor:d6};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function $S(t){return Object.prototype.toString.call(t)==="[object Object]"}function p6(t){var e,n;return $S(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!($S(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ac.apply(this,arguments)}function _2(t,e){if(t==null)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)e.indexOf(n=o[i])>=0||(r[n]=t[n]);return r}const g6={silent:!1,logLevel:"warn"},m6=["validator"],w2=Object.prototype,x2=w2.toString,y6=w2.hasOwnProperty,S2=/^\s*function (\w+)/;function RS(t){var e;const n=(e=t==null?void 0:t.type)!==null&&e!==void 0?e:t;if(n){const i=n.toString().match(S2);return i?i[1]:""}return""}const Vs=p6,v6=t=>t;let Tn=v6;const Xa=(t,e)=>y6.call(t,e),b6=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},Ja=Array.isArray||function(t){return x2.call(t)==="[object Array]"},Qa=t=>x2.call(t)==="[object Function]",Fd=t=>Vs(t)&&Xa(t,"_vueTypes_name"),k2=t=>Vs(t)&&(Xa(t,"type")||["_vueTypes_name","validator","default","required"].some(e=>Xa(t,e)));function h1(t,e){return Object.defineProperty(t.bind(e),"__original",{value:t})}function Qs(t,e,n=!1){let i,r=!0,o="";i=Vs(t)?t:{type:t};const s=Fd(i)?i._vueTypes_name+" - ":"";if(k2(i)&&i.type!==null){if(i.type===void 0||i.type===!0||!i.required&&e===void 0)return r;Ja(i.type)?(r=i.type.some(a=>Qs(a,e,!0)===!0),o=i.type.map(a=>RS(a)).join(" or ")):(o=RS(i),r=o==="Array"?Ja(e):o==="Object"?Vs(e):o==="String"||o==="Number"||o==="Boolean"||o==="Function"?function(a){if(a==null)return"";const l=a.constructor.toString().match(S2);return l?l[1]:""}(e)===o:e instanceof i.type)}if(!r){const a=`${s}value "${e}" should be of type "${o}"`;return n===!1?(Tn(a),!1):a}if(Xa(i,"validator")&&Qa(i.validator)){const a=Tn,l=[];if(Tn=c=>{l.push(c)},r=i.validator(e),Tn=a,!r){const c=(l.length>1?"* ":"")+l.join(`
* `);return l.length=0,n===!1?(Tn(c),r):c}}return r}function yi(t,e){const n=Object.defineProperties(e,{_vueTypes_name:{value:t,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(r){return r===void 0?(Xa(this,"default")&&delete this.default,this):Qa(r)||Qs(this,r,!0)===!0?(this.default=Ja(r)?()=>[...r]:Vs(r)?()=>Object.assign({},r):r,this):(Tn(`${this._vueTypes_name} - invalid default value: "${r}"`),this)}}}),{validator:i}=n;return Qa(i)&&(n.validator=h1(i,n)),n}function wr(t,e){const n=yi(t,e);return Object.defineProperty(n,"validate",{value(i){return Qa(this.validator)&&Tn(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:
${JSON.stringify(this)}`),this.validator=h1(i,this),this}})}function ES(t,e,n){const i=function(l){const c={};return Object.getOwnPropertyNames(l).forEach(u=>{c[u]=Object.getOwnPropertyDescriptor(l,u)}),Object.defineProperties({},c)}(e);if(i._vueTypes_name=t,!Vs(n))return i;const{validator:r}=n,o=_2(n,m6);if(Qa(r)){let{validator:l}=i;l&&(l=(a=(s=l).__original)!==null&&a!==void 0?a:s),i.validator=h1(l?function(c){return l.call(this,c)&&r.call(this,c)}:r,i)}var s,a;return Object.assign(i,o)}function ig(t){return t.replace(/^(?!\s*$)/gm,"  ")}const _6=()=>wr("any",{}),w6=()=>wr("function",{type:Function}),x6=()=>wr("boolean",{type:Boolean}),S6=()=>wr("string",{type:String}),k6=()=>wr("number",{type:Number}),C6=()=>wr("array",{type:Array}),O6=()=>wr("object",{type:Object}),M6=()=>yi("integer",{type:Number,validator:t=>b6(t)}),A6=()=>yi("symbol",{validator:t=>typeof t=="symbol"});function P6(t,e="custom validation failed"){if(typeof t!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return yi(t.name||"<<anonymous function>>",{type:null,validator(n){const i=t(n);return i||Tn(`${this._vueTypes_name} - ${e}`),i}})}function T6(t){if(!Ja(t))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const e=`oneOf - value should be one of "${t.join('", "')}".`,n=t.reduce((i,r)=>{if(r!=null){const o=r.constructor;i.indexOf(o)===-1&&i.push(o)}return i},[]);return yi("oneOf",{type:n.length>0?n:void 0,validator(i){const r=t.indexOf(i)!==-1;return r||Tn(e),r}})}function D6(t){if(!Ja(t))throw new TypeError("[VueTypes error]: You must provide an array as argument");let e=!1,n=[];for(let r=0;r<t.length;r+=1){const o=t[r];if(k2(o)){if(Fd(o)&&o._vueTypes_name==="oneOf"&&o.type){n=n.concat(o.type);continue}if(Qa(o.validator)&&(e=!0),o.type===!0||!o.type){Tn('oneOfType - invalid usage of "true" or "null" as types.');continue}n=n.concat(o.type)}else n.push(o)}n=n.filter((r,o)=>n.indexOf(r)===o);const i=n.length>0?n:null;return yi("oneOfType",e?{type:i,validator(r){const o=[],s=t.some(a=>{const l=Qs(Fd(a)&&a._vueTypes_name==="oneOf"?a.type||null:a,r,!0);return typeof l=="string"&&o.push(l),l===!0});return s||Tn(`oneOfType - provided value does not match any of the ${o.length} passed-in validators:
${ig(o.join(`
`))}`),s}}:{type:i})}function $6(t){return yi("arrayOf",{type:Array,validator(e){let n="";const i=e.every(r=>(n=Qs(t,r,!0),n===!0));return i||Tn(`arrayOf - value validation error:
${ig(n)}`),i}})}function R6(t){return yi("instanceOf",{type:t})}function E6(t){return yi("objectOf",{type:Object,validator(e){let n="";const i=Object.keys(e).every(r=>(n=Qs(t,e[r],!0),n===!0));return i||Tn(`objectOf - value validation error:
${ig(n)}`),i}})}function I6(t){const e=Object.keys(t),n=e.filter(r=>{var o;return!((o=t[r])===null||o===void 0||!o.required)}),i=yi("shape",{type:Object,validator(r){if(!Vs(r))return!1;const o=Object.keys(r);if(n.length>0&&n.some(s=>o.indexOf(s)===-1)){const s=n.filter(a=>o.indexOf(a)===-1);return Tn(s.length===1?`shape - required property "${s[0]}" is not defined.`:`shape - required properties "${s.join('", "')}" are not defined.`),!1}return o.every(s=>{if(e.indexOf(s)===-1)return this._vueTypes_isLoose===!0||(Tn(`shape - shape definition does not include a "${s}" property. Allowed keys: "${e.join('", "')}".`),!1);const a=Qs(t[s],r[s],!0);return typeof a=="string"&&Tn(`shape - "${s}" property validation error:
 ${ig(a)}`),a===!0})}});return Object.defineProperty(i,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(i,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),i}const L6=["name","validate","getter"],N6=(()=>{var t;return(t=class{static get any(){return _6()}static get func(){return w6().def(this.defaults.func)}static get bool(){return x6().def(this.defaults.bool)}static get string(){return S6().def(this.defaults.string)}static get number(){return k6().def(this.defaults.number)}static get array(){return C6().def(this.defaults.array)}static get object(){return O6().def(this.defaults.object)}static get integer(){return M6().def(this.defaults.integer)}static get symbol(){return A6()}static get nullable(){return{type:null}}static extend(e){if(Ja(e))return e.forEach(l=>this.extend(l)),this;const{name:n,validate:i=!1,getter:r=!1}=e,o=_2(e,L6);if(Xa(this,n))throw new TypeError(`[VueTypes error]: Type "${n}" already defined`);const{type:s}=o;if(Fd(s))return delete o.type,Object.defineProperty(this,n,r?{get:()=>ES(n,s,o)}:{value(...l){const c=ES(n,s,o);return c.validator&&(c.validator=c.validator.bind(c,...l)),c}});let a;return a=r?{get(){const l=Object.assign({},o);return i?wr(n,l):yi(n,l)},enumerable:!0}:{value(...l){const c=Object.assign({},o);let u;return u=i?wr(n,c):yi(n,c),c.validator&&(u.validator=c.validator.bind(u,...l)),u},enumerable:!0},Object.defineProperty(this,n,a)}}).defaults={},t.sensibleDefaults=void 0,t.config=g6,t.custom=P6,t.oneOf=T6,t.instanceOf=R6,t.oneOfType=D6,t.arrayOf=$6,t.objectOf=E6,t.shape=I6,t.utils={validate:(e,n)=>Qs(n,e,!0)===!0,toType:(e,n,i=!1)=>i?wr(e,n):yi(e,n)},t})();function B6(t={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var e;return(e=class extends N6{static get sensibleDefaults(){return Ac({},this.defaults)}static set sensibleDefaults(n){this.defaults=n!==!1?Ac({},n!==!0?n:t):{}}}).defaults=Ac({},t),e}let Ye=class extends B6(){};function Hd(t){return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}var F6=/^\s+/,H6=/\s+$/;function me(t,e){if(t=t||"",e=e||{},t instanceof me)return t;if(!(this instanceof me))return new me(t,e);var n=V6(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}me.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,i,r,o,s,a;return n=e.r/255,i=e.g/255,r=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=C2(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=LS(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=LS(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+r+"%)":"hsva("+n+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=IS(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=IS(this._r,this._g,this._b),n=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+r+"%)":"hsla("+n+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return NS(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return U6(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Lt(this._r,255)*100)+"%",g:Math.round(Lt(this._g,255)*100)+"%",b:Math.round(Lt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Lt(this._r,255)*100)+"%, "+Math.round(Lt(this._g,255)*100)+"%, "+Math.round(Lt(this._b,255)*100)+"%)":"rgba("+Math.round(Lt(this._r,255)*100)+"%, "+Math.round(Lt(this._g,255)*100)+"%, "+Math.round(Lt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:iW[NS(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+BS(this._r,this._g,this._b,this._a),i=n,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=me(e);i="#"+BS(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+n+",endColorstr="+i+")"},toString:function(e){var n=!!e;e=e||this._format;var i=!1,r=this._a<1&&this._a>=0,o=!n&&r&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return me(this.toString())},_applyModification:function(e,n){var i=e.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(G6,arguments)},brighten:function(){return this._applyModification(X6,arguments)},darken:function(){return this._applyModification(J6,arguments)},desaturate:function(){return this._applyModification(Y6,arguments)},saturate:function(){return this._applyModification(q6,arguments)},greyscale:function(){return this._applyModification(K6,arguments)},spin:function(){return this._applyModification(Q6,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(tW,arguments)},complement:function(){return this._applyCombination(Z6,arguments)},monochromatic:function(){return this._applyCombination(nW,arguments)},splitcomplement:function(){return this._applyCombination(eW,arguments)},triad:function(){return this._applyCombination(FS,[3])},tetrad:function(){return this._applyCombination(FS,[4])}};me.fromRatio=function(t,e){if(Hd(t)=="object"){var n={};for(var i in t)t.hasOwnProperty(i)&&(i==="a"?n[i]=t[i]:n[i]=sc(t[i]));t=n}return me(t,e)};function V6(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=aW(t)),Hd(t)=="object"&&(Nr(t.r)&&Nr(t.g)&&Nr(t.b)?(e=j6(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Nr(t.h)&&Nr(t.s)&&Nr(t.v)?(i=sc(t.s),r=sc(t.v),e=W6(t.h,i,r),s=!0,a="hsv"):Nr(t.h)&&Nr(t.s)&&Nr(t.l)&&(i=sc(t.s),o=sc(t.l),e=z6(t.h,i,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=C2(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function j6(t,e,n){return{r:Lt(t,255)*255,g:Lt(e,255)*255,b:Lt(n,255)*255}}function IS(t,e,n){t=Lt(t,255),e=Lt(e,255),n=Lt(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),o,s,a=(i+r)/2;if(i==r)o=s=0;else{var l=i-r;switch(s=a>.5?l/(2-i-r):l/(i+r),i){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function z6(t,e,n){var i,r,o;t=Lt(t,360),e=Lt(e,100),n=Lt(n,100);function s(c,u,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+(u-c)*6*f:f<1/2?u:f<2/3?c+(u-c)*(2/3-f)*6:c}if(e===0)i=r=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=s(l,a,t+1/3),r=s(l,a,t),o=s(l,a,t-1/3)}return{r:i*255,g:r*255,b:o*255}}function LS(t,e,n){t=Lt(t,255),e=Lt(e,255),n=Lt(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),o,s,a=i,l=i-r;if(s=i===0?0:l/i,i==r)o=0;else{switch(i){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function W6(t,e,n){t=Lt(t,360)*6,e=Lt(e,100),n=Lt(n,100);var i=Math.floor(t),r=t-i,o=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),l=i%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],f=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:f*255}}function NS(t,e,n,i){var r=[Ki(Math.round(t).toString(16)),Ki(Math.round(e).toString(16)),Ki(Math.round(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function U6(t,e,n,i,r){var o=[Ki(Math.round(t).toString(16)),Ki(Math.round(e).toString(16)),Ki(Math.round(n).toString(16)),Ki(O2(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function BS(t,e,n,i){var r=[Ki(O2(i)),Ki(Math.round(t).toString(16)),Ki(Math.round(e).toString(16)),Ki(Math.round(n).toString(16))];return r.join("")}me.equals=function(t,e){return!t||!e?!1:me(t).toRgbString()==me(e).toRgbString()};me.random=function(){return me.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Y6(t,e){e=e===0?0:e||10;var n=me(t).toHsl();return n.s-=e/100,n.s=rg(n.s),me(n)}function q6(t,e){e=e===0?0:e||10;var n=me(t).toHsl();return n.s+=e/100,n.s=rg(n.s),me(n)}function K6(t){return me(t).desaturate(100)}function G6(t,e){e=e===0?0:e||10;var n=me(t).toHsl();return n.l+=e/100,n.l=rg(n.l),me(n)}function X6(t,e){e=e===0?0:e||10;var n=me(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),me(n)}function J6(t,e){e=e===0?0:e||10;var n=me(t).toHsl();return n.l-=e/100,n.l=rg(n.l),me(n)}function Q6(t,e){var n=me(t).toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,me(n)}function Z6(t){var e=me(t).toHsl();return e.h=(e.h+180)%360,me(e)}function FS(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=me(t).toHsl(),i=[me(t)],r=360/e,o=1;o<e;o++)i.push(me({h:(n.h+o*r)%360,s:n.s,l:n.l}));return i}function eW(t){var e=me(t).toHsl(),n=e.h;return[me(t),me({h:(n+72)%360,s:e.s,l:e.l}),me({h:(n+216)%360,s:e.s,l:e.l})]}function tW(t,e,n){e=e||6,n=n||30;var i=me(t).toHsl(),r=360/n,o=[me(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(me(i));return o}function nW(t,e){e=e||6;for(var n=me(t).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/e;e--;)s.push(me({h:i,s:r,v:o})),o=(o+a)%1;return s}me.mix=function(t,e,n){n=n===0?0:n||50;var i=me(t).toRgb(),r=me(e).toRgb(),o=n/100,s={r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a};return me(s)};me.readability=function(t,e){var n=me(t),i=me(e);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};me.isReadable=function(t,e,n){var i=me.readability(t,e),r,o;switch(o=!1,r=lW(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7;break}return o};me.mostReadable=function(t,e,n){var i=null,r=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var c=0;c<e.length;c++)o=me.readability(t,e[c]),o>r&&(r=o,i=me(e[c]));return me.isReadable(t,i,{level:a,size:l})||!s?i:(n.includeFallbackColors=!1,me.mostReadable(t,["#fff","#000"],n))};var ov=me.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},iW=me.hexNames=rW(ov);function rW(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function C2(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Lt(t,e){oW(t)&&(t="100%");var n=sW(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function rg(t){return Math.min(1,Math.max(0,t))}function si(t){return parseInt(t,16)}function oW(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function sW(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Ki(t){return t.length==1?"0"+t:""+t}function sc(t){return t<=1&&(t=t*100+"%"),t}function O2(t){return Math.round(parseFloat(t)*255).toString(16)}function HS(t){return si(t)/255}var Wi=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Nr(t){return!!Wi.CSS_UNIT.exec(t)}function aW(t){t=t.replace(F6,"").replace(H6,"").toLowerCase();var e=!1;if(ov[t])t=ov[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Wi.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Wi.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Wi.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Wi.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Wi.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Wi.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Wi.hex8.exec(t))?{r:si(n[1]),g:si(n[2]),b:si(n[3]),a:HS(n[4]),format:e?"name":"hex8"}:(n=Wi.hex6.exec(t))?{r:si(n[1]),g:si(n[2]),b:si(n[3]),format:e?"name":"hex"}:(n=Wi.hex4.exec(t))?{r:si(n[1]+""+n[1]),g:si(n[2]+""+n[2]),b:si(n[3]+""+n[3]),a:HS(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Wi.hex3.exec(t))?{r:si(n[1]+""+n[1]),g:si(n[2]+""+n[2]),b:si(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function lW(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function cW(t){return Wp()?(Tb(t),!0):!1}const uW=typeof window<"u",fW=t=>typeof t=="string",vm=()=>{};function M2(t,e){function n(...i){t(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})}return n}const hW=t=>t();function dW(t,e={}){let n,i;return o=>{const s=C(t),a=C(e.maxWait);if(n&&clearTimeout(n),s<=0||a!==void 0&&a<=0)return i&&(clearTimeout(i),i=null),o();a&&!i&&(i=setTimeout(()=>{n&&clearTimeout(n),i=null,o()},a)),n=setTimeout(()=>{i&&clearTimeout(i),i=null,o()},s)}}function d1(t,e=200,n={}){return M2(dW(e,n),t)}var VS=Object.getOwnPropertySymbols,pW=Object.prototype.hasOwnProperty,gW=Object.prototype.propertyIsEnumerable,mW=(t,e)=>{var n={};for(var i in t)pW.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&VS)for(var i of VS(t))e.indexOf(i)<0&&gW.call(t,i)&&(n[i]=t[i]);return n};function yW(t,e,n={}){const i=n,{eventFilter:r=hW}=i,o=mW(i,["eventFilter"]);return mt(t,M2(r,e),o)}function Cl(t,e=!0){Su()?sn(t):e?t():Ar(t)}function Dn(t,e,n){return mt(t,(i,r,o)=>{i&&e(i,r,o)},n)}function vW(t){var e;const n=C(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Jc=uW?window:void 0;function A2(...t){let e,n,i,r;if(fW(t[0])?([n,i,r]=t,e=Jc):[e,n,i,r]=t,!e)return vm;let o=vm;const s=mt(()=>C(e),l=>{o(),l&&(l.addEventListener(n,i,r),o=()=>{l.removeEventListener(n,i,r),o=vm})},{immediate:!0,flush:"post"}),a=()=>{s(),o()};return cW(a),a}function bW(t,e,n={}){const{window:i=Jc,event:r="pointerdown"}=n;return i?A2(i,r,s=>{const a=vW(t);a&&(a===s.target||s.composedPath().includes(a)||e(s))},{passive:!0}):void 0}const _W={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))}};function wW(t,e,n=(r=>(r=Jc)==null?void 0:r.localStorage)(),i={}){var r;const{flush:o="pre",deep:s=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,shallow:c,window:u=Jc,eventFilter:f,onError:h=b=>{console.error(b)}}=i,d=C(e),p=d==null?"any":d instanceof Set?"set":d instanceof Map?"map":typeof d=="boolean"?"boolean":typeof d=="string"?"string":typeof d=="object"||Array.isArray(d)?"object":Number.isNaN(d)?"any":"number",g=(c?Bb:te)(e),y=(r=i.serializer)!=null?r:_W[p];function m(b){if(!(!n||b&&b.key!==t))try{const _=b?b.newValue:n.getItem(t);_==null?(g.value=d,l&&d!==null&&n.setItem(t,y.write(d))):g.value=y.read(_)}catch(_){h(_)}}return m(),u&&a&&A2(u,"storage",b=>setTimeout(()=>m(b),0)),n&&yW(g,()=>{try{g.value==null?n.removeItem(t):n.setItem(t,y.write(g.value))}catch(b){h(b)}},{flush:o,deep:s,eventFilter:f}),g}function p1(t,e,n={}){const{window:i=Jc}=n;return wW(t,e,i==null?void 0:i.localStorage,n)}var jS;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(jS||(jS={}));var zS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g1(t){var e={exports:{}};return t(e,e.exports),e.exports}var ef=function(t){return t&&t.Math==Math&&t},fn=ef(typeof globalThis=="object"&&globalThis)||ef(typeof window=="object"&&window)||ef(typeof self=="object"&&self)||ef(typeof zS=="object"&&zS)||function(){return this}()||Function("return this")(),Rt=function(t){try{return!!t()}catch{return!0}},Oi=!Rt(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),WS={}.propertyIsEnumerable,US=Object.getOwnPropertyDescriptor,xW={f:US&&!WS.call({1:2},1)?function(t){var e=US(this,t);return!!e&&e.enumerable}:WS},og=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},SW={}.toString,Jr=function(t){return SW.call(t).slice(8,-1)},kW="".split,sg=Rt(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return Jr(t)=="String"?kW.call(t,""):Object(t)}:Object,Bo=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t},Ol=function(t){return sg(Bo(t))},dn=function(t){return typeof t=="object"?t!==null:typeof t=="function"},m1=function(t,e){if(!dn(t))return t;var n,i;if(e&&typeof(n=t.toString)=="function"&&!dn(i=n.call(t))||typeof(n=t.valueOf)=="function"&&!dn(i=n.call(t))||!e&&typeof(n=t.toString)=="function"&&!dn(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},CW={}.hasOwnProperty,rn=function(t,e){return CW.call(t,e)},sv=fn.document,OW=dn(sv)&&dn(sv.createElement),P2=function(t){return OW?sv.createElement(t):{}},T2=!Oi&&!Rt(function(){return Object.defineProperty(P2("div"),"a",{get:function(){return 7}}).a!=7}),YS=Object.getOwnPropertyDescriptor,y1={f:Oi?YS:function(t,e){if(t=Ol(t),e=m1(e,!0),T2)try{return YS(t,e)}catch{}if(rn(t,e))return og(!xW.f.call(t,e),t[e])}},qn=function(t){if(!dn(t))throw TypeError(String(t)+" is not an object");return t},qS=Object.defineProperty,ro={f:Oi?qS:function(t,e,n){if(qn(t),e=m1(e,!0),qn(n),T2)try{return qS(t,e,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Ri=Oi?function(t,e,n){return ro.f(t,e,og(1,n))}:function(t,e,n){return t[e]=n,t},v1=function(t,e){try{Ri(fn,t,e)}catch{fn[t]=e}return e},js=fn["__core-js_shared__"]||v1("__core-js_shared__",{}),MW=Function.toString;typeof js.inspectSource!="function"&&(js.inspectSource=function(t){return MW.call(t)});var Vd,Pc,jd,D2=js.inspectSource,KS=fn.WeakMap,AW=typeof KS=="function"&&/native code/.test(D2(KS)),$2=g1(function(t){(t.exports=function(e,n){return js[e]||(js[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.8.3",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),PW=0,TW=Math.random(),b1=function(t){return"Symbol("+String(t===void 0?"":t)+")_"+(++PW+TW).toString(36)},GS=$2("keys"),_1=function(t){return GS[t]||(GS[t]=b1(t))},ag={},DW=fn.WeakMap;if(AW){var pa=js.state||(js.state=new DW),$W=pa.get,RW=pa.has,EW=pa.set;Vd=function(t,e){return e.facade=t,EW.call(pa,t,e),e},Pc=function(t){return $W.call(pa,t)||{}},jd=function(t){return RW.call(pa,t)}}else{var jl=_1("state");ag[jl]=!0,Vd=function(t,e){return e.facade=t,Ri(t,jl,e),e},Pc=function(t){return rn(t,jl)?t[jl]:{}},jd=function(t){return rn(t,jl)}}var Fo={set:Vd,get:Pc,has:jd,enforce:function(t){return jd(t)?Pc(t):Vd(t,{})},getterFor:function(t){return function(e){var n;if(!dn(e)||(n=Pc(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Ho=g1(function(t){var e=Fo.get,n=Fo.enforce,i=String(String).split("String");(t.exports=function(r,o,s,a){var l,c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;typeof s=="function"&&(typeof o!="string"||rn(s,"name")||Ri(s,"name",o),(l=n(s)).source||(l.source=i.join(typeof o=="string"?o:""))),r!==fn?(c?!f&&r[o]&&(u=!0):delete r[o],u?r[o]=s:Ri(r,o,s)):u?r[o]=s:v1(o,s)})(Function.prototype,"toString",function(){return typeof this=="function"&&e(this).source||D2(this)})}),bm=fn,XS=function(t){return typeof t=="function"?t:void 0},lg=function(t,e){return arguments.length<2?XS(bm[t])||XS(fn[t]):bm[t]&&bm[t][e]||fn[t]&&fn[t][e]},IW=Math.ceil,LW=Math.floor,Ml=function(t){return isNaN(t=+t)?0:(t>0?LW:IW)(t)},NW=Math.min,wi=function(t){return t>0?NW(Ml(t),9007199254740991):0},BW=Math.max,FW=Math.min,zd=function(t,e){var n=Ml(t);return n<0?BW(n+e,0):FW(n,e)},JS=function(t){return function(e,n,i){var r,o=Ol(e),s=wi(o.length),a=zd(i,s);if(t&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},R2={includes:JS(!0),indexOf:JS(!1)},HW=R2.indexOf,E2=function(t,e){var n,i=Ol(t),r=0,o=[];for(n in i)!rn(ag,n)&&rn(i,n)&&o.push(n);for(;e.length>r;)rn(i,n=e[r++])&&(~HW(o,n)||o.push(n));return o},Wd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],VW=Wd.concat("length","prototype"),jW={f:Object.getOwnPropertyNames||function(t){return E2(t,VW)}},zW={f:Object.getOwnPropertySymbols},WW=lg("Reflect","ownKeys")||function(t){var e=jW.f(qn(t)),n=zW.f;return n?e.concat(n(t)):e},UW=function(t,e){for(var n=WW(e),i=ro.f,r=y1.f,o=0;o<n.length;o++){var s=n[o];rn(t,s)||i(t,s,r(e,s))}},YW=/#|\.prototype\./,ku=function(t,e){var n=KW[qW(t)];return n==XW||n!=GW&&(typeof e=="function"?Rt(e):!!e)},qW=ku.normalize=function(t){return String(t).replace(YW,".").toLowerCase()},KW=ku.data={},GW=ku.NATIVE="N",XW=ku.POLYFILL="P",av=ku,JW=y1.f,Ln=function(t,e){var n,i,r,o,s,a=t.target,l=t.global,c=t.stat;if(n=l?fn:c?fn[a]||v1(a,{}):(fn[a]||{}).prototype)for(i in e){if(o=e[i],r=t.noTargetGet?(s=JW(n,i))&&s.value:n[i],!av(l?i:a+(c?".":"#")+i,t.forced)&&r!==void 0){if(typeof o==typeof r)continue;UW(o,r)}(t.sham||r&&r.sham)&&Ri(o,"sham",!0),Ho(n,i,o,t)}},w1=function(t,e){var n=[][t];return!!n&&Rt(function(){n.call(null,e||function(){throw 1},1)})},QW=Object.defineProperty,_m={},QS=function(t){throw t},Al=function(t,e){if(rn(_m,t))return _m[t];e||(e={});var n=[][t],i=!!rn(e,"ACCESSORS")&&e.ACCESSORS,r=rn(e,0)?e[0]:QS,o=rn(e,1)?e[1]:void 0;return _m[t]=!!n&&!Rt(function(){if(i&&!Oi)return!0;var s={length:-1};i?QW(s,1,{enumerable:!0,get:QS}):s[1]=1,n.call(s,r,o)})},ZW=R2.indexOf,I2=[].indexOf,ZS=!!I2&&1/[1].indexOf(1,-0)<0,eU=w1("indexOf"),tU=Al("indexOf",{ACCESSORS:!0,1:0});function Zs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ek(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ea(t,e,n){return e&&ek(t.prototype,e),n&&ek(t,n),t}Ln({target:"Array",proto:!0,forced:ZS||!eU||!tU},{indexOf:function(t){return ZS?I2.apply(this,arguments)||0:ZW(this,t,arguments.length>1?arguments[1]:void 0)}});(function(){function t(){Zs(this,t)}return ea(t,null,[{key:"isInBrowser",value:function(){return typeof window<"u"}},{key:"isServer",value:function(){return typeof window>"u"}},{key:"getUA",value:function(){return t.isInBrowser()?window.navigator.userAgent.toLowerCase():""}},{key:"isMobile",value:function(){return/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion)}},{key:"isOpera",value:function(){return navigator.userAgent.indexOf("Opera")!==-1}},{key:"isIE",value:function(){var e=t.getUA();return e!==""&&e.indexOf("msie")>0}},{key:"isIE9",value:function(){var e=t.getUA();return e!==""&&e.indexOf("msie 9.0")>0}},{key:"isEdge",value:function(){var e=t.getUA();return e!==""&&e.indexOf("edge/")>0}},{key:"isChrome",value:function(){var e=t.getUA();return e!==""&&/chrome\/\d+/.test(e)&&!t.isEdge()}},{key:"isPhantomJS",value:function(){var e=t.getUA();return e!==""&&/phantomjs/.test(e)}},{key:"isFirefox",value:function(){var e=t.getUA();return e!==""&&/firefox/.test(e)}}]),t})();var nU=[].join,iU=sg!=Object,rU=w1("join",",");Ln({target:"Array",proto:!0,forced:iU||!rU},{join:function(t){return nU.call(Ol(this),t===void 0?",":t)}});var ga,Ud,oo=function(t){return Object(Bo(t))},Za=Array.isArray||function(t){return Jr(t)=="Array"},L2=!!Object.getOwnPropertySymbols&&!Rt(function(){return!String(Symbol())}),oU=L2&&!Symbol.sham&&typeof Symbol.iterator=="symbol",tf=$2("wks"),Tc=fn.Symbol,sU=oU?Tc:Tc&&Tc.withoutSetter||b1,Gt=function(t){return rn(tf,t)||(L2&&rn(Tc,t)?tf[t]=Tc[t]:tf[t]=sU("Symbol."+t)),tf[t]},aU=Gt("species"),cg=function(t,e){var n;return Za(t)&&(typeof(n=t.constructor)!="function"||n!==Array&&!Za(n.prototype)?dn(n)&&(n=n[aU])===null&&(n=void 0):n=void 0),new(n===void 0?Array:n)(e===0?0:e)},el=function(t,e,n){var i=m1(e);i in t?ro.f(t,i,og(0,n)):t[i]=n},wm=lg("navigator","userAgent")||"",tk=fn.process,nk=tk&&tk.versions,ik=nk&&nk.v8;ik?Ud=(ga=ik.split("."))[0]+ga[1]:wm&&(!(ga=wm.match(/Edge\/(\d+)/))||ga[1]>=74)&&(ga=wm.match(/Chrome\/(\d+)/))&&(Ud=ga[1]);var Yd=Ud&&+Ud,lU=Gt("species"),x1=function(t){return Yd>=51||!Rt(function(){var e=[];return(e.constructor={})[lU]=function(){return{foo:1}},e[t](Boolean).foo!==1})},cU=x1("splice"),uU=Al("splice",{ACCESSORS:!0,0:0,1:2}),fU=Math.max,hU=Math.min;Ln({target:"Array",proto:!0,forced:!cU||!uU},{splice:function(t,e){var n,i,r,o,s,a,l=oo(this),c=wi(l.length),u=zd(t,c),f=arguments.length;if(f===0?n=i=0:f===1?(n=0,i=c-u):(n=f-2,i=hU(fU(Ml(e),0),c-u)),c+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(r=cg(l,i),o=0;o<i;o++)(s=u+o)in l&&el(r,o,l[s]);if(r.length=i,n<i){for(o=u;o<c-i;o++)a=o+n,(s=o+i)in l?l[a]=l[s]:delete l[a];for(o=c;o>c-i+n;o--)delete l[o-1]}else if(n>i)for(o=c-i;o>u;o--)a=o+n-1,(s=o+i-1)in l?l[a]=l[s]:delete l[a];for(o=0;o<n;o++)l[o+u]=arguments[o+2];return l.length=c-i+n,r}});var N2={};N2[Gt("toStringTag")]="z";var S1=String(N2)==="[object z]",dU=Gt("toStringTag"),pU=Jr(function(){return arguments}())=="Arguments",B2=S1?Jr:function(t){var e,n,i;return t===void 0?"Undefined":t===null?"Null":typeof(n=function(r,o){try{return r[o]}catch{}}(e=Object(t),dU))=="string"?n:pU?Jr(e):(i=Jr(e))=="Object"&&typeof e.callee=="function"?"Arguments":i},gU=S1?{}.toString:function(){return"[object "+B2(this)+"]"};S1||Ho(Object.prototype,"toString",gU,{unsafe:!0});var F2=function(){var t=qn(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function rk(t,e){return RegExp(t,e)}var xm,Sm,ok={UNSUPPORTED_Y:Rt(function(){var t=rk("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),BROKEN_CARET:Rt(function(){var t=rk("^r","gy");return t.lastIndex=2,t.exec("str")!=null})},qd=RegExp.prototype.exec,mU=String.prototype.replace,H2=qd,km=(xm=/a/,Sm=/b*/g,qd.call(xm,"a"),qd.call(Sm,"a"),xm.lastIndex!==0||Sm.lastIndex!==0),sk=ok.UNSUPPORTED_Y||ok.BROKEN_CARET,Cm=/()??/.exec("")[1]!==void 0;(km||Cm||sk)&&(H2=function(t){var e,n,i,r,o=this,s=sk&&o.sticky,a=F2.call(o),l=o.source,c=0,u=t;return s&&((a=a.replace("y","")).indexOf("g")===-1&&(a+="g"),u=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&t[o.lastIndex-1]!==`
`)&&(l="(?: "+l+")",u=" "+u,c++),n=new RegExp("^(?:"+l+")",a)),Cm&&(n=new RegExp("^"+l+"$(?!\\s)",a)),km&&(e=o.lastIndex),i=qd.call(s?n:o,u),s?i?(i.input=i.input.slice(c),i[0]=i[0].slice(c),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:km&&i&&(o.lastIndex=o.global?i.index+i[0].length:e),Cm&&i&&i.length>1&&mU.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)arguments[r]===void 0&&(i[r]=void 0)}),i});var Qc=H2;Ln({target:"RegExp",proto:!0,forced:/./.exec!==Qc},{exec:Qc});var V2=RegExp.prototype,j2=V2.toString,yU=Rt(function(){return j2.call({source:"a",flags:"b"})!="/a/b"}),vU=j2.name!="toString";(yU||vU)&&Ho(RegExp.prototype,"toString",function(){var t=qn(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(n===void 0&&t instanceof RegExp&&!("flags"in V2)?F2.call(t):n)},{unsafe:!0});var bU=Gt("species"),_U=!Rt(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"}),ak="a".replace(/./,"$0")==="$0",lk=Gt("replace"),ck=!!/./[lk]&&/./[lk]("a","$0")==="",wU=!Rt(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return n.length!==2||n[0]!=="a"||n[1]!=="b"}),z2=function(t,e,n,i){var r=Gt(t),o=!Rt(function(){var f={};return f[r]=function(){return 7},""[t](f)!=7}),s=o&&!Rt(function(){var f=!1,h=/a/;return t==="split"&&((h={}).constructor={},h.constructor[bU]=function(){return h},h.flags="",h[r]=/./[r]),h.exec=function(){return f=!0,null},h[r](""),!f});if(!o||!s||t==="replace"&&(!_U||!ak||ck)||t==="split"&&!wU){var a=/./[r],l=n(r,""[t],function(f,h,d,p,g){return h.exec===Qc?o&&!g?{done:!0,value:a.call(h,d,p)}:{done:!0,value:f.call(d,h,p)}:{done:!1}},{REPLACE_KEEPS_$0:ak,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ck}),c=l[0],u=l[1];Ho(String.prototype,t,c),Ho(RegExp.prototype,r,e==2?function(f,h){return u.call(f,this,h)}:function(f){return u.call(f,this)})}i&&Ri(RegExp.prototype[r],"sham",!0)},xU=Gt("match"),W2=function(t){var e;return dn(t)&&((e=t[xU])!==void 0?!!e:Jr(t)=="RegExp")},k1=function(t){if(typeof t!="function")throw TypeError(String(t)+" is not a function");return t},SU=Gt("species"),uk=function(t){return function(e,n){var i,r,o=String(Bo(e)),s=Ml(n),a=o.length;return s<0||s>=a?t?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?t?o.charAt(s):i:t?o.slice(s,s+2):r-56320+(i-55296<<10)+65536}},U2={codeAt:uk(!1),charAt:uk(!0)},kU=U2.charAt,Y2=function(t,e,n){return e+(n?kU(t,e).length:1)},lv=function(t,e){var n=t.exec;if(typeof n=="function"){var i=n.call(t,e);if(typeof i!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return i}if(Jr(t)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return Qc.call(t,e)},CU=[].push,OU=Math.min,ma=!Rt(function(){return!RegExp(4294967295,"y")});z2("split",2,function(t,e,n){var i;return i="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(r,o){var s=String(Bo(this)),a=o===void 0?4294967295:o>>>0;if(a===0)return[];if(r===void 0)return[s];if(!W2(r))return e.call(s,r,a);for(var l,c,u,f=[],h=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(r.sticky?"y":""),d=0,p=new RegExp(r.source,h+"g");(l=Qc.call(p,s))&&!((c=p.lastIndex)>d&&(f.push(s.slice(d,l.index)),l.length>1&&l.index<s.length&&CU.apply(f,l.slice(1)),u=l[0].length,d=c,f.length>=a));)p.lastIndex===l.index&&p.lastIndex++;return d===s.length?!u&&p.test("")||f.push(""):f.push(s.slice(d)),f.length>a?f.slice(0,a):f}:"0".split(void 0,0).length?function(r,o){return r===void 0&&o===0?[]:e.call(this,r,o)}:e,[function(r,o){var s=Bo(this),a=r==null?void 0:r[t];return a!==void 0?a.call(r,s,o):i.call(String(s),r,o)},function(r,o){var s=n(i,r,this,o,i!==e);if(s.done)return s.value;var a=qn(r),l=String(this),c=function(w,S){var A,x=qn(w).constructor;return x===void 0||(A=qn(x)[SU])==null?S:k1(A)}(a,RegExp),u=a.unicode,f=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(ma?"y":"g"),h=new c(ma?a:"^(?:"+a.source+")",f),d=o===void 0?4294967295:o>>>0;if(d===0)return[];if(l.length===0)return lv(h,l)===null?[l]:[];for(var p=0,g=0,y=[];g<l.length;){h.lastIndex=ma?g:0;var m,b=lv(h,ma?l:l.slice(g));if(b===null||(m=OU(wi(h.lastIndex+(ma?0:g)),l.length))===p)g=Y2(l,g,u);else{if(y.push(l.slice(p,g)),y.length===d)return y;for(var _=1;_<=b.length-1;_++)if(y.push(b[_]),y.length===d)return y;g=p=m}}return y.push(l.slice(p)),y}]},!ma);var cv=`	
\v\f\r \u2028\u2029\uFEFF`,Kd="["+cv+"]",MU=RegExp("^"+Kd+Kd+"*"),AU=RegExp(Kd+Kd+"*$"),Om=function(t){return function(e){var n=String(Bo(e));return 1&t&&(n=n.replace(MU,"")),2&t&&(n=n.replace(AU,"")),n}},PU={start:Om(1),end:Om(2),trim:Om(3)},TU=PU.trim;Ln({target:"String",proto:!0,forced:function(t){return Rt(function(){return!!cv[t]()||""[t]()!=""||cv[t].name!==t})}("trim")},{trim:function(){return TU(this)}});var DU=x1("slice"),$U=Al("slice",{ACCESSORS:!0,0:0,1:2}),RU=Gt("species"),EU=[].slice,IU=Math.max;Ln({target:"Array",proto:!0,forced:!DU||!$U},{slice:function(t,e){var n,i,r,o=Ol(this),s=wi(o.length),a=zd(t,s),l=zd(e===void 0?s:e,s);if(Za(o)&&(typeof(n=o.constructor)!="function"||n!==Array&&!Za(n.prototype)?dn(n)&&(n=n[RU])===null&&(n=void 0):n=void 0,n===Array||n===void 0))return EU.call(o,a,l);for(i=new(n===void 0?Array:n)(IU(l-a,0)),r=0;a<l;a++,r++)a in o&&el(i,r,o[a]);return i.length=r,i}});var C1=Object.keys||function(t){return E2(t,Wd)},LU=Rt(function(){C1(1)});Ln({target:"Object",stat:!0,forced:LU},{keys:function(t){return C1(oo(t))}});var Mm,NU=function(t){if(W2(t))throw TypeError("The method doesn't accept regular expressions");return t},BU=Gt("match"),FU=y1.f,fk="".startsWith,HU=Math.min,q2=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[BU]=!1,"/./"[t](e)}catch{}}return!1}("startsWith"),VU=!(q2||(Mm=FU(String.prototype,"startsWith"),!Mm||Mm.writable));function K2(t){return(K2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}Ln({target:"String",proto:!0,forced:!VU&&!q2},{startsWith:function(t){var e=String(Bo(this));NU(t);var n=wi(HU(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return fk?fk.call(e,i,n):e.slice(n,n+i.length)===i}});var ya=function(t){return typeof t=="string"},va=function(t){return t!==null&&K2(t)==="object"},tl=function(){function t(){Zs(this,t)}return ea(t,null,[{key:"isWindow",value:function(e){return e===window}},{key:"addEventListener",value:function(e,n,i){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];e&&n&&i&&e.addEventListener(n,i,r)}},{key:"removeEventListener",value:function(e,n,i){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];e&&n&&i&&e.removeEventListener(n,i,r)}},{key:"triggerDragEvent",value:function(e,n){var i=!1,r=function(s){var a;(a=n.drag)===null||a===void 0||a.call(n,s)},o=function s(a){var l;t.removeEventListener(document,"mousemove",r),t.removeEventListener(document,"mouseup",s),document.onselectstart=null,document.ondragstart=null,i=!1,(l=n.end)===null||l===void 0||l.call(n,a)};t.addEventListener(e,"mousedown",function(s){var a;i||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},t.addEventListener(document,"mousemove",r),t.addEventListener(document,"mouseup",o),i=!0,(a=n.start)===null||a===void 0||a.call(n,s))})}},{key:"getBoundingClientRect",value:function(e){return e&&va(e)&&e.nodeType===1?e.getBoundingClientRect():null}},{key:"hasClass",value:function(e,n){return!!(e&&va(e)&&ya(n)&&e.nodeType===1)&&e.classList.contains(n.trim())}},{key:"addClass",value:function(e,n){if(e&&va(e)&&ya(n)&&e.nodeType===1&&(n=n.trim(),!t.hasClass(e,n))){var i=e.className;e.className=i?i+" "+n:n}}},{key:"removeClass",value:function(e,n){if(e&&va(e)&&ya(n)&&e.nodeType===1&&typeof e.className=="string"){n=n.trim();for(var i=e.className.trim().split(" "),r=i.length-1;r>=0;r--)i[r]=i[r].trim(),i[r]&&i[r]!==n||i.splice(r,1);e.className=i.join(" ")}}},{key:"toggleClass",value:function(e,n,i){e&&va(e)&&ya(n)&&e.nodeType===1&&e.classList.toggle(n,i)}},{key:"replaceClass",value:function(e,n,i){e&&va(e)&&ya(n)&&ya(i)&&e.nodeType===1&&(n=n.trim(),i=i.trim(),t.removeClass(e,n),t.addClass(e,i))}},{key:"getScrollTop",value:function(e){var n="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(n,0)}},{key:"setScrollTop",value:function(e,n){"scrollTop"in e?e.scrollTop=n:e.scrollTo(e.scrollX,n)}},{key:"getRootScrollTop",value:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},{key:"setRootScrollTop",value:function(e){t.setScrollTop(window,e),t.setScrollTop(document.body,e)}},{key:"getElementTop",value:function(e,n){if(t.isWindow(e))return 0;var i=n?t.getScrollTop(n):t.getRootScrollTop();return e.getBoundingClientRect().top+i}},{key:"getVisibleHeight",value:function(e){return t.isWindow(e)?e.innerHeight:e.getBoundingClientRect().height}},{key:"isHidden",value:function(e){if(!e)return!1;var n=window.getComputedStyle(e),i=n.display==="none",r=e.offsetParent===null&&n.position!=="fixed";return i||r}},{key:"triggerEvent",value:function(e,n){if("createEvent"in document){var i=document.createEvent("HTMLEvents");i.initEvent(n,!1,!0),e.dispatchEvent(i)}}},{key:"calcAngle",value:function(e,n){var i=e.getBoundingClientRect(),r=i.left+i.width/2,o=i.top+i.height/2,s=Math.abs(r-n.clientX),a=Math.abs(o-n.clientY),l=a/Math.sqrt(Math.pow(s,2)+Math.pow(a,2)),c=Math.acos(l),u=Math.floor(180/(Math.PI/c));return n.clientX>r&&n.clientY>o&&(u=180-u),n.clientX==r&&n.clientY>o&&(u=180),n.clientX>r&&n.clientY==o&&(u=90),n.clientX<r&&n.clientY>o&&(u=180+u),n.clientX<r&&n.clientY==o&&(u=270),n.clientX<r&&n.clientY<o&&(u=360-u),u}},{key:"querySelector",value:function(e,n){return n?n.querySelector(e):document.querySelector(e)}},{key:"createElement",value:function(e){for(var n=document.createElement(e),i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];for(var s=0;s<r.length;s++)r[s]&&n.classList.add(r[s]);return n}},{key:"appendChild",value:function(e){for(var n=0;n<(arguments.length<=1?0:arguments.length-1);n++)e.appendChild(n+1<1||arguments.length<=n+1?void 0:arguments[n+1])}},{key:"getWindow",value:function(e){if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}},{key:"isElement",value:function(e){return e instanceof this.getWindow(e).Element||e instanceof Element}},{key:"isHTMLElement",value:function(e){return e instanceof this.getWindow(e).HTMLElement||e instanceof HTMLElement}},{key:"isShadowRoot",value:function(e){return typeof ShadowRoot<"u"&&(e instanceof this.getWindow(e).ShadowRoot||e instanceof ShadowRoot)}},{key:"getWindowScroll",value:function(e){var n=this.getWindow(e);return{scrollLeft:n.pageXOffset||0,scrollTop:n.pageYOffset||0}}}]),t}(),jU=Math.floor,zU="".replace,WU=/\$([$&'`]|\d\d?|<[^>]*>)/g,UU=/\$([$&'`]|\d\d?)/g,YU=function(t,e,n,i,r,o){var s=n+t.length,a=i.length,l=UU;return r!==void 0&&(r=oo(r),l=WU),zU.call(o,l,function(c,u){var f;switch(u.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(s);case"<":f=r[u.slice(1,-1)];break;default:var h=+u;if(h===0)return c;if(h>a){var d=jU(h/10);return d===0?c:d<=a?i[d-1]===void 0?u.charAt(1):i[d-1]+u.charAt(1):c}f=i[h-1]}return f===void 0?"":f})},qU=Math.max,KU=Math.min;z2("replace",2,function(t,e,n,i){var r=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=i.REPLACE_KEEPS_$0,s=r?"$":"$0";return[function(a,l){var c=Bo(this),u=a==null?void 0:a[t];return u!==void 0?u.call(a,c,l):e.call(String(c),a,l)},function(a,l){if(!r&&o||typeof l=="string"&&l.indexOf(s)===-1){var c=n(e,a,this,l);if(c.done)return c.value}var u=qn(a),f=String(this),h=typeof l=="function";h||(l=String(l));var d=u.global;if(d){var p=u.unicode;u.lastIndex=0}for(var g=[];;){var y=lv(u,f);if(y===null||(g.push(y),!d))break;String(y[0])===""&&(u.lastIndex=Y2(f,wi(u.lastIndex),p))}for(var m,b="",_=0,w=0;w<g.length;w++){y=g[w];for(var S=String(y[0]),A=qU(KU(Ml(y.index),f.length),0),x=[],k=1;k<y.length;k++)x.push((m=y[k])===void 0?m:String(m));var P=y.groups;if(h){var E=[S].concat(x,A,f);P!==void 0&&E.push(P);var I=String(l.apply(void 0,E))}else I=YU(S,f,A,x,P,l);A>=_&&(b+=f.slice(_,A)+I,_=A+S.length)}return b+f.slice(_)}]});(function(){function t(){Zs(this,t)}return ea(t,null,[{key:"camelize",value:function(e){return e.replace(/-(\w)/g,function(n,i){return i?i.toUpperCase():""})}},{key:"capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}]),t})();(function(){function t(){Zs(this,t)}return ea(t,null,[{key:"_clone",value:function(){}}]),t})();var G2=Gt("isConcatSpreadable"),GU=Yd>=51||!Rt(function(){var t=[];return t[G2]=!1,t.concat()[0]!==t}),XU=x1("concat"),JU=function(t){if(!dn(t))return!1;var e=t[G2];return e!==void 0?!!e:Za(t)};Ln({target:"Array",proto:!0,forced:!GU||!XU},{concat:function(t){var e,n,i,r,o,s=oo(this),a=cg(s,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(JU(o=e===-1?s:arguments[e])){if(l+(r=wi(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,l++)n in o&&el(a,l,o[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");el(a,l++,o)}return a.length=l,a}});var Am,Cu=function(t,e,n){if(k1(t),e===void 0)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,o){return t.call(e,i,r,o)}}return function(){return t.apply(e,arguments)}},hk=[].push,go=function(t){var e=t==1,n=t==2,i=t==3,r=t==4,o=t==6,s=t==7,a=t==5||o;return function(l,c,u,f){for(var h,d,p=oo(l),g=sg(p),y=Cu(c,u,3),m=wi(g.length),b=0,_=f||cg,w=e?_(l,m):n||s?_(l,0):void 0;m>b;b++)if((a||b in g)&&(d=y(h=g[b],b,p),t))if(e)w[b]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return b;case 2:hk.call(w,h)}else switch(t){case 4:return!1;case 7:hk.call(w,h)}return o?-1:i||r?r:w}},X2={forEach:go(0),map:go(1),filter:go(2),some:go(3),every:go(4),find:go(5),findIndex:go(6),filterOut:go(7)},QU=Oi?Object.defineProperties:function(t,e){qn(t);for(var n,i=C1(e),r=i.length,o=0;r>o;)ro.f(t,n=i[o++],e[n]);return t},ZU=lg("document","documentElement"),J2=_1("IE_PROTO"),Pm=function(){},dk=function(t){return"<script>"+t+"<\/script>"},Ph=function(){try{Am=document.domain&&new ActiveXObject("htmlfile")}catch{}var t,e;Ph=Am?function(i){i.write(dk("")),i.close();var r=i.parentWindow.Object;return i=null,r}(Am):((e=P2("iframe")).style.display="none",ZU.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write(dk("document.F=Object")),t.close(),t.F);for(var n=Wd.length;n--;)delete Ph.prototype[Wd[n]];return Ph()};ag[J2]=!0;var O1=Object.create||function(t,e){var n;return t!==null?(Pm.prototype=qn(t),n=new Pm,Pm.prototype=null,n[J2]=t):n=Ph(),e===void 0?n:QU(n,e)},uv=Gt("unscopables"),fv=Array.prototype;fv[uv]==null&&ro.f(fv,uv,{configurable:!0,value:O1(null)});var Ia=function(t){fv[uv][t]=!0},e9=X2.find,pk=!0,t9=Al("find");"find"in[]&&Array(1).find(function(){pk=!1}),Ln({target:"Array",proto:!0,forced:pk||!t9},{find:function(t){return e9(this,t,arguments.length>1?arguments[1]:void 0)}}),Ia("find");var n9=X2.findIndex,gk=!0,i9=Al("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){gk=!1}),Ln({target:"Array",proto:!0,forced:gk||!i9},{findIndex:function(t){return n9(this,t,arguments.length>1?arguments[1]:void 0)}}),Ia("findIndex");var Q2=function(t,e,n,i,r,o,s,a){for(var l,c=r,u=0,f=!!s&&Cu(s,a,3);u<i;){if(u in n){if(l=f?f(n[u],u,e):n[u],o>0&&Za(l))c=Q2(t,e,l,wi(l.length),c,o-1)-1;else{if(c>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[c]=l}c++}u++}return c},r9=Q2;Ln({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=oo(this),n=wi(e.length),i=cg(e,0);return i.length=r9(i,e,e,n,0,t===void 0?1:Ml(t)),i}});var hv=function(t){var e=t.return;if(e!==void 0)return qn(e.call(t)).value},o9=function(t,e,n,i){try{return i?e(qn(n)[0],n[1]):e(n)}catch(r){throw hv(t),r}},nl={},s9=Gt("iterator"),a9=Array.prototype,Z2=function(t){return t!==void 0&&(nl.Array===t||a9[s9]===t)},l9=Gt("iterator"),eT=function(t){if(t!=null)return t[l9]||t["@@iterator"]||nl[B2(t)]},tT=Gt("iterator"),nT=!1;try{var c9=0,mk={next:function(){return{done:!!c9++}},return:function(){nT=!0}};mk[tT]=function(){return this},Array.from(mk,function(){throw 2})}catch{}var iT=function(t,e){if(!e&&!nT)return!1;var n=!1;try{var i={};i[tT]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch{}return n},u9=!iT(function(t){Array.from(t)});Ln({target:"Array",stat:!0,forced:u9},{from:function(t){var e,n,i,r,o,s,a=oo(t),l=typeof this=="function"?this:Array,c=arguments.length,u=c>1?arguments[1]:void 0,f=u!==void 0,h=eT(a),d=0;if(f&&(u=Cu(u,c>2?arguments[2]:void 0,2)),h==null||l==Array&&Z2(h))for(n=new l(e=wi(a.length));e>d;d++)s=f?u(a[d],d):a[d],el(n,d,s);else for(o=(r=h.call(a)).next,n=new l;!(i=o.call(r)).done;d++)s=f?o9(r,u,[i.value,d],!0):i.value,el(n,d,s);return n.length=d,n}});var yk=function(t){return function(e,n,i,r){k1(n);var o=oo(e),s=sg(o),a=wi(o.length),l=t?a-1:0,c=t?-1:1;if(i<2)for(;;){if(l in s){r=s[l],l+=c;break}if(l+=c,t?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=c)l in s&&(r=n(r,s[l],l,o));return r}},f9={left:yk(!1),right:yk(!0)},h9=Jr(fn.process)=="process",d9=f9.left,p9=w1("reduce"),g9=Al("reduce",{1:0});Ln({target:"Array",proto:!0,forced:!p9||!g9||!h9&&Yd>79&&Yd<83},{reduce:function(t){return d9(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}}),Ia("flat");var ys,vk,bk,m9=!Rt(function(){return Object.isExtensible(Object.preventExtensions({}))}),rT=g1(function(t){var e=ro.f,n=b1("meta"),i=0,r=Object.isExtensible||function(){return!0},o=function(a){e(a,n,{value:{objectID:"O"+ ++i,weakData:{}}})},s=t.exports={REQUIRED:!1,fastKey:function(a,l){if(!dn(a))return typeof a=="symbol"?a:(typeof a=="string"?"S":"P")+a;if(!rn(a,n)){if(!r(a))return"F";if(!l)return"E";o(a)}return a[n].objectID},getWeakData:function(a,l){if(!rn(a,n)){if(!r(a))return!0;if(!l)return!1;o(a)}return a[n].weakData},onFreeze:function(a){return m9&&s.REQUIRED&&r(a)&&!rn(a,n)&&o(a),a}};ag[n]=!0}),zl=function(t,e){this.stopped=t,this.result=e},_k=function(t,e,n){var i,r,o,s,a,l,c,u=n&&n.that,f=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),p=Cu(e,u,1+f+d),g=function(m){return i&&hv(i),new zl(!0,m)},y=function(m){return f?(qn(m),d?p(m[0],m[1],g):p(m[0],m[1])):d?p(m,g):p(m)};if(h)i=t;else{if(typeof(r=eT(t))!="function")throw TypeError("Target is not iterable");if(Z2(r)){for(o=0,s=wi(t.length);s>o;o++)if((a=y(t[o]))&&a instanceof zl)return a;return new zl(!1)}i=r.call(t)}for(l=i.next;!(c=l.call(i)).done;){try{a=y(c.value)}catch(m){throw hv(i),m}if(typeof a=="object"&&a&&a instanceof zl)return a}return new zl(!1)},wk=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},y9=ro.f,xk=Gt("toStringTag"),dv=function(t,e,n){t&&!rn(t=n?t:t.prototype,xk)&&y9(t,xk,{configurable:!0,value:e})},Gd=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch{}return function(i,r){return qn(i),function(o){if(!dn(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype")}(r),e?t.call(i,r):i.__proto__=r,i}}():void 0),Sk=function(t,e,n){for(var i in e)Ho(t,i,e[i],n);return t},v9=!Rt(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),kk=_1("IE_PROTO"),b9=Object.prototype,Xd=v9?Object.getPrototypeOf:function(t){return t=oo(t),rn(t,kk)?t[kk]:typeof t.constructor=="function"&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?b9:null},Tm=Gt("iterator"),oT=!1;[].keys&&("next"in(bk=[].keys())?(vk=Xd(Xd(bk)))!==Object.prototype&&(ys=vk):oT=!0),(ys==null||Rt(function(){var t={};return ys[Tm].call(t)!==t}))&&(ys={}),rn(ys,Tm)||Ri(ys,Tm,function(){return this});var M1={IteratorPrototype:ys,BUGGY_SAFARI_ITERATORS:oT},_9=M1.IteratorPrototype,w9=function(){return this},Dm=M1.IteratorPrototype,nf=M1.BUGGY_SAFARI_ITERATORS,Wl=Gt("iterator"),x9=function(){return this},A1=function(t,e,n,i,r,o,s){(function(m,b,_){var w=b+" Iterator";m.prototype=O1(_9,{next:og(1,_)}),dv(m,w,!1),nl[w]=w9})(n,e,i);var a,l,c,u=function(m){if(m===r&&g)return g;if(!nf&&m in d)return d[m];switch(m){case"keys":case"values":case"entries":return function(){return new n(this,m)}}return function(){return new n(this)}},f=e+" Iterator",h=!1,d=t.prototype,p=d[Wl]||d["@@iterator"]||r&&d[r],g=!nf&&p||u(r),y=e=="Array"&&d.entries||p;if(y&&(a=Xd(y.call(new t)),Dm!==Object.prototype&&a.next&&(Xd(a)!==Dm&&(Gd?Gd(a,Dm):typeof a[Wl]!="function"&&Ri(a,Wl,x9)),dv(a,f,!0))),r=="values"&&p&&p.name!=="values"&&(h=!0,g=function(){return p.call(this)}),d[Wl]!==g&&Ri(d,Wl,g),nl[e]=g,r)if(l={values:u("values"),keys:o?g:u("keys"),entries:u("entries")},s)for(c in l)(nf||h||!(c in d))&&Ho(d,c,l[c]);else Ln({target:e,proto:!0,forced:nf||h},l);return l},Ck=Gt("species"),S9=ro.f,Ok=rT.fastKey,Mk=Fo.set,$m=Fo.getterFor;(function(t,e,n){var i=t.indexOf("Map")!==-1,r=t.indexOf("Weak")!==-1,o=i?"set":"add",s=fn[t],a=s&&s.prototype,l=s,c={},u=function(y){var m=a[y];Ho(a,y,y=="add"?function(b){return m.call(this,b===0?0:b),this}:y=="delete"?function(b){return!(r&&!dn(b))&&m.call(this,b===0?0:b)}:y=="get"?function(b){return r&&!dn(b)?void 0:m.call(this,b===0?0:b)}:y=="has"?function(b){return!(r&&!dn(b))&&m.call(this,b===0?0:b)}:function(b,_){return m.call(this,b===0?0:b,_),this})};if(av(t,typeof s!="function"||!(r||a.forEach&&!Rt(function(){new s().entries().next()}))))l=n.getConstructor(e,t,i,o),rT.REQUIRED=!0;else if(av(t,!0)){var f=new l,h=f[o](r?{}:-0,1)!=f,d=Rt(function(){f.has(1)}),p=iT(function(y){new s(y)}),g=!r&&Rt(function(){for(var y=new s,m=5;m--;)y[o](m,m);return!y.has(-0)});p||((l=e(function(y,m){wk(y,l,t);var b=function(_,w,S){var A,x;return Gd&&typeof(A=w.constructor)=="function"&&A!==S&&dn(x=A.prototype)&&x!==S.prototype&&Gd(_,x),_}(new s,y,l);return m!=null&&_k(m,b[o],{that:b,AS_ENTRIES:i}),b})).prototype=a,a.constructor=l),(d||g)&&(u("delete"),u("has"),i&&u("get")),(g||h)&&u(o),r&&a.clear&&delete a.clear}c[t]=l,Ln({global:!0,forced:l!=s},c),dv(l,t),r||n.setStrong(l,t,i)})("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(t,e,n,i){var r=t(function(l,c){wk(l,r,e),Mk(l,{type:e,index:O1(null),first:void 0,last:void 0,size:0}),Oi||(l.size=0),c!=null&&_k(c,l[i],{that:l,AS_ENTRIES:n})}),o=$m(e),s=function(l,c,u){var f,h,d=o(l),p=a(l,c);return p?p.value=u:(d.last=p={index:h=Ok(c,!0),key:c,value:u,previous:f=d.last,next:void 0,removed:!1},d.first||(d.first=p),f&&(f.next=p),Oi?d.size++:l.size++,h!=="F"&&(d.index[h]=p)),l},a=function(l,c){var u,f=o(l),h=Ok(c);if(h!=="F")return f.index[h];for(u=f.first;u;u=u.next)if(u.key==c)return u};return Sk(r.prototype,{clear:function(){for(var l=o(this),c=l.index,u=l.first;u;)u.removed=!0,u.previous&&(u.previous=u.previous.next=void 0),delete c[u.index],u=u.next;l.first=l.last=void 0,Oi?l.size=0:this.size=0},delete:function(l){var c=this,u=o(c),f=a(c,l);if(f){var h=f.next,d=f.previous;delete u.index[f.index],f.removed=!0,d&&(d.next=h),h&&(h.previous=d),u.first==f&&(u.first=h),u.last==f&&(u.last=d),Oi?u.size--:c.size--}return!!f},forEach:function(l){for(var c,u=o(this),f=Cu(l,arguments.length>1?arguments[1]:void 0,3);c=c?c.next:u.first;)for(f(c.value,c.key,this);c&&c.removed;)c=c.previous},has:function(l){return!!a(this,l)}}),Sk(r.prototype,n?{get:function(l){var c=a(this,l);return c&&c.value},set:function(l,c){return s(this,l===0?0:l,c)}}:{add:function(l){return s(this,l=l===0?0:l,l)}}),Oi&&S9(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(t,e,n){var i=e+" Iterator",r=$m(e),o=$m(i);A1(t,e,function(s,a){Mk(this,{type:i,target:s,state:r(s),kind:a,last:void 0})},function(){for(var s=o(this),a=s.kind,l=s.last;l&&l.removed;)l=l.previous;return s.target&&(s.last=l=l?l.next:s.state.first)?a=="keys"?{value:l.key,done:!1}:a=="values"?{value:l.value,done:!1}:{value:[l.key,l.value],done:!1}:(s.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),function(s){var a=lg(s),l=ro.f;Oi&&a&&!a[Ck]&&l(a,Ck,{configurable:!0,get:function(){return this}})}(e)}});var k9=U2.charAt,C9=Fo.set,O9=Fo.getterFor("String Iterator");A1(String,"String",function(t){C9(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=O9(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=k9(n,i),e.index+=t.length,{value:t,done:!1})});var Ak={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},M9=Fo.set,A9=Fo.getterFor("Array Iterator"),ac=A1(Array,"Array",function(t,e){M9(this,{type:"Array Iterator",target:Ol(t),index:0,kind:e})},function(){var t=A9(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:i,done:!1}:n=="values"?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}},"values");nl.Arguments=nl.Array,Ia("keys"),Ia("values"),Ia("entries");var Rm=Gt("iterator"),Pk=Gt("toStringTag"),Em=ac.values;for(var Im in Ak){var Tk=fn[Im],Br=Tk&&Tk.prototype;if(Br){if(Br[Rm]!==Em)try{Ri(Br,Rm,Em)}catch{Br[Rm]=Em}if(Br[Pk]||Ri(Br,Pk,Im),Ak[Im]){for(var ba in ac)if(Br[ba]!==ac[ba])try{Ri(Br,ba,ac[ba])}catch{Br[ba]=ac[ba]}}}}(function(){function t(){Zs(this,t)}return ea(t,null,[{key:"deduplicate",value:function(e){return Array.from(new Set(e))}},{key:"flat",value:function(e){return e.reduce(function(n,i){var r=Array.isArray(i)?t.flat(i):i;return n.concat(r)},[])}},{key:"find",value:function(e,n){return e.find(n)}},{key:"findIndex",value:function(e,n){return e.findIndex(n)}}]),t})();(function(){function t(){Zs(this,t)}return ea(t,null,[{key:"today",value:function(){return new Date}}]),t})();(function(){function t(){Zs(this,t)}return ea(t,null,[{key:"range",value:function(e,n,i){return Math.min(Math.max(e,n),i)}},{key:"clamp",value:function(e,n,i){return n<i?e<n?n:e>i?i:e:e<i?i:e>n?n:e}}]),t})();var P9=typeof global=="object"&&global&&global.Object===Object&&global;const sT=P9;var T9=typeof self=="object"&&self&&self.Object===Object&&self,D9=sT||T9||Function("return this")();const Rr=D9;var $9=Rr.Symbol;const Vo=$9;var aT=Object.prototype,R9=aT.hasOwnProperty,E9=aT.toString,Ul=Vo?Vo.toStringTag:void 0;function I9(t){var e=R9.call(t,Ul),n=t[Ul];try{t[Ul]=void 0;var i=!0}catch{}var r=E9.call(t);return i&&(e?t[Ul]=n:delete t[Ul]),r}var L9=Object.prototype,N9=L9.toString;function B9(t){return N9.call(t)}var F9="[object Null]",H9="[object Undefined]",Dk=Vo?Vo.toStringTag:void 0;function Pl(t){return t==null?t===void 0?H9:F9:Dk&&Dk in Object(t)?I9(t):B9(t)}function eo(t){return t!=null&&typeof t=="object"}var V9=Array.isArray;const jo=V9;function es(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function lT(t){return t}var j9="[object AsyncFunction]",z9="[object Function]",W9="[object GeneratorFunction]",U9="[object Proxy]";function P1(t){if(!es(t))return!1;var e=Pl(t);return e==z9||e==W9||e==j9||e==U9}var Y9=Rr["__core-js_shared__"];const Lm=Y9;var $k=function(){var t=/[^.]+$/.exec(Lm&&Lm.keys&&Lm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function q9(t){return!!$k&&$k in t}var K9=Function.prototype,G9=K9.toString;function ta(t){if(t!=null){try{return G9.call(t)}catch{}try{return t+""}catch{}}return""}var X9=/[\\^$.*+?()[\]{}|]/g,J9=/^\[object .+?Constructor\]$/,Q9=Function.prototype,Z9=Object.prototype,e7=Q9.toString,t7=Z9.hasOwnProperty,n7=RegExp("^"+e7.call(t7).replace(X9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function i7(t){if(!es(t)||q9(t))return!1;var e=P1(t)?n7:J9;return e.test(ta(t))}function r7(t,e){return t==null?void 0:t[e]}function na(t,e){var n=r7(t,e);return i7(n)?n:void 0}var o7=na(Rr,"WeakMap");const pv=o7;var Rk=Object.create,s7=function(){function t(){}return function(e){if(!es(e))return{};if(Rk)return Rk(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const a7=s7;function l7(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function cT(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var c7=800,u7=16,f7=Date.now;function h7(t){var e=0,n=0;return function(){var i=f7(),r=u7-(i-n);if(n=i,r>0){if(++e>=c7)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function d7(t){return function(){return t}}var p7=function(){try{var t=na(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Jd=p7;var g7=Jd?function(t,e){return Jd(t,"toString",{configurable:!0,enumerable:!1,value:d7(e),writable:!0})}:lT;const m7=g7;var y7=h7(m7);const v7=y7;function b7(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var _7=9007199254740991,w7=/^(?:0|[1-9]\d*)$/;function uT(t,e){var n=typeof t;return e=e??_7,!!e&&(n=="number"||n!="symbol"&&w7.test(t))&&t>-1&&t%1==0&&t<e}function T1(t,e,n){e=="__proto__"&&Jd?Jd(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ou(t,e){return t===e||t!==t&&e!==e}var x7=Object.prototype,S7=x7.hasOwnProperty;function fT(t,e,n){var i=t[e];(!(S7.call(t,e)&&Ou(i,n))||n===void 0&&!(e in t))&&T1(t,e,n)}function Mu(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=i?i(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),r?T1(n,a,l):fT(n,a,l)}return n}var Ek=Math.max;function k7(t,e,n){return e=Ek(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=Ek(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(s),l7(t,this,a)}}function C7(t,e){return v7(k7(t,e,lT),t+"")}var O7=9007199254740991;function hT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=O7}function Au(t){return t!=null&&hT(t.length)&&!P1(t)}function M7(t,e,n){if(!es(n))return!1;var i=typeof e;return(i=="number"?Au(n)&&uT(e,n.length):i=="string"&&e in n)?Ou(n[e],t):!1}function A7(t){return C7(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(r--,o):void 0,s&&M7(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e})}var P7=Object.prototype;function ug(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||P7;return t===n}function T7(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var D7="[object Arguments]";function Ik(t){return eo(t)&&Pl(t)==D7}var dT=Object.prototype,$7=dT.hasOwnProperty,R7=dT.propertyIsEnumerable,E7=Ik(function(){return arguments}())?Ik:function(t){return eo(t)&&$7.call(t,"callee")&&!R7.call(t,"callee")};const Qd=E7;function I7(){return!1}var pT=typeof pi=="object"&&pi&&!pi.nodeType&&pi,Lk=pT&&typeof gi=="object"&&gi&&!gi.nodeType&&gi,L7=Lk&&Lk.exports===pT,Nk=L7?Rr.Buffer:void 0,N7=Nk?Nk.isBuffer:void 0,B7=N7||I7;const il=B7;var F7="[object Arguments]",H7="[object Array]",V7="[object Boolean]",j7="[object Date]",z7="[object Error]",W7="[object Function]",U7="[object Map]",Y7="[object Number]",q7="[object Object]",K7="[object RegExp]",G7="[object Set]",X7="[object String]",J7="[object WeakMap]",Q7="[object ArrayBuffer]",Z7="[object DataView]",eY="[object Float32Array]",tY="[object Float64Array]",nY="[object Int8Array]",iY="[object Int16Array]",rY="[object Int32Array]",oY="[object Uint8Array]",sY="[object Uint8ClampedArray]",aY="[object Uint16Array]",lY="[object Uint32Array]",Mt={};Mt[eY]=Mt[tY]=Mt[nY]=Mt[iY]=Mt[rY]=Mt[oY]=Mt[sY]=Mt[aY]=Mt[lY]=!0;Mt[F7]=Mt[H7]=Mt[Q7]=Mt[V7]=Mt[Z7]=Mt[j7]=Mt[z7]=Mt[W7]=Mt[U7]=Mt[Y7]=Mt[q7]=Mt[K7]=Mt[G7]=Mt[X7]=Mt[J7]=!1;function cY(t){return eo(t)&&hT(t.length)&&!!Mt[Pl(t)]}function D1(t){return function(e){return t(e)}}var gT=typeof pi=="object"&&pi&&!pi.nodeType&&pi,Dc=gT&&typeof gi=="object"&&gi&&!gi.nodeType&&gi,uY=Dc&&Dc.exports===gT,Nm=uY&&sT.process,fY=function(){try{var t=Dc&&Dc.require&&Dc.require("util").types;return t||Nm&&Nm.binding&&Nm.binding("util")}catch{}}();const rl=fY;var Bk=rl&&rl.isTypedArray,hY=Bk?D1(Bk):cY;const fg=hY;var dY=Object.prototype,pY=dY.hasOwnProperty;function mT(t,e){var n=jo(t),i=!n&&Qd(t),r=!n&&!i&&il(t),o=!n&&!i&&!r&&fg(t),s=n||i||r||o,a=s?T7(t.length,String):[],l=a.length;for(var c in t)(e||pY.call(t,c))&&!(s&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||uT(c,l)))&&a.push(c);return a}function yT(t,e){return function(n){return t(e(n))}}var gY=yT(Object.keys,Object);const mY=gY;var yY=Object.prototype,vY=yY.hasOwnProperty;function vT(t){if(!ug(t))return mY(t);var e=[];for(var n in Object(t))vY.call(t,n)&&n!="constructor"&&e.push(n);return e}function $1(t){return Au(t)?mT(t):vT(t)}function bY(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var _Y=Object.prototype,wY=_Y.hasOwnProperty;function xY(t){if(!es(t))return bY(t);var e=ug(t),n=[];for(var i in t)i=="constructor"&&(e||!wY.call(t,i))||n.push(i);return n}function Pu(t){return Au(t)?mT(t,!0):xY(t)}var SY=na(Object,"create");const Zc=SY;function kY(){this.__data__=Zc?Zc(null):{},this.size=0}function CY(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var OY="__lodash_hash_undefined__",MY=Object.prototype,AY=MY.hasOwnProperty;function PY(t){var e=this.__data__;if(Zc){var n=e[t];return n===OY?void 0:n}return AY.call(e,t)?e[t]:void 0}var TY=Object.prototype,DY=TY.hasOwnProperty;function $Y(t){var e=this.__data__;return Zc?e[t]!==void 0:DY.call(e,t)}var RY="__lodash_hash_undefined__";function EY(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Zc&&e===void 0?RY:e,this}function zs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}zs.prototype.clear=kY;zs.prototype.delete=CY;zs.prototype.get=PY;zs.prototype.has=$Y;zs.prototype.set=EY;function IY(){this.__data__=[],this.size=0}function hg(t,e){for(var n=t.length;n--;)if(Ou(t[n][0],e))return n;return-1}var LY=Array.prototype,NY=LY.splice;function BY(t){var e=this.__data__,n=hg(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():NY.call(e,n,1),--this.size,!0}function FY(t){var e=this.__data__,n=hg(e,t);return n<0?void 0:e[n][1]}function HY(t){return hg(this.__data__,t)>-1}function VY(t,e){var n=this.__data__,i=hg(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function so(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}so.prototype.clear=IY;so.prototype.delete=BY;so.prototype.get=FY;so.prototype.has=HY;so.prototype.set=VY;var jY=na(Rr,"Map");const eu=jY;function zY(){this.size=0,this.__data__={hash:new zs,map:new(eu||so),string:new zs}}function WY(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function dg(t,e){var n=t.__data__;return WY(e)?n[typeof e=="string"?"string":"hash"]:n.map}function UY(t){var e=dg(this,t).delete(t);return this.size-=e?1:0,e}function YY(t){return dg(this,t).get(t)}function qY(t){return dg(this,t).has(t)}function KY(t,e){var n=dg(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function ia(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ia.prototype.clear=zY;ia.prototype.delete=UY;ia.prototype.get=YY;ia.prototype.has=qY;ia.prototype.set=KY;function bT(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var GY=yT(Object.getPrototypeOf,Object);const R1=GY;var XY="[object Object]",JY=Function.prototype,QY=Object.prototype,_T=JY.toString,ZY=QY.hasOwnProperty,eq=_T.call(Object);function tq(t){if(!eo(t)||Pl(t)!=XY)return!1;var e=R1(t);if(e===null)return!0;var n=ZY.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&_T.call(n)==eq}function nq(){this.__data__=new so,this.size=0}function iq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function rq(t){return this.__data__.get(t)}function oq(t){return this.__data__.has(t)}var sq=200;function aq(t,e){var n=this.__data__;if(n instanceof so){var i=n.__data__;if(!eu||i.length<sq-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new ia(i)}return n.set(t,e),this.size=n.size,this}function xr(t){var e=this.__data__=new so(t);this.size=e.size}xr.prototype.clear=nq;xr.prototype.delete=iq;xr.prototype.get=rq;xr.prototype.has=oq;xr.prototype.set=aq;function lq(t,e){return t&&Mu(e,$1(e),t)}function cq(t,e){return t&&Mu(e,Pu(e),t)}var wT=typeof pi=="object"&&pi&&!pi.nodeType&&pi,Fk=wT&&typeof gi=="object"&&gi&&!gi.nodeType&&gi,uq=Fk&&Fk.exports===wT,Hk=uq?Rr.Buffer:void 0,Vk=Hk?Hk.allocUnsafe:void 0;function xT(t,e){if(e)return t.slice();var n=t.length,i=Vk?Vk(n):new t.constructor(n);return t.copy(i),i}function fq(t,e){for(var n=-1,i=t==null?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function ST(){return[]}var hq=Object.prototype,dq=hq.propertyIsEnumerable,jk=Object.getOwnPropertySymbols,pq=jk?function(t){return t==null?[]:(t=Object(t),fq(jk(t),function(e){return dq.call(t,e)}))}:ST;const E1=pq;function gq(t,e){return Mu(t,E1(t),e)}var mq=Object.getOwnPropertySymbols,yq=mq?function(t){for(var e=[];t;)bT(e,E1(t)),t=R1(t);return e}:ST;const kT=yq;function vq(t,e){return Mu(t,kT(t),e)}function CT(t,e,n){var i=e(t);return jo(t)?i:bT(i,n(t))}function gv(t){return CT(t,$1,E1)}function bq(t){return CT(t,Pu,kT)}var _q=na(Rr,"DataView");const mv=_q;var wq=na(Rr,"Promise");const yv=wq;var xq=na(Rr,"Set");const vv=xq;var zk="[object Map]",Sq="[object Object]",Wk="[object Promise]",Uk="[object Set]",Yk="[object WeakMap]",qk="[object DataView]",kq=ta(mv),Cq=ta(eu),Oq=ta(yv),Mq=ta(vv),Aq=ta(pv),vs=Pl;(mv&&vs(new mv(new ArrayBuffer(1)))!=qk||eu&&vs(new eu)!=zk||yv&&vs(yv.resolve())!=Wk||vv&&vs(new vv)!=Uk||pv&&vs(new pv)!=Yk)&&(vs=function(t){var e=Pl(t),n=e==Sq?t.constructor:void 0,i=n?ta(n):"";if(i)switch(i){case kq:return qk;case Cq:return zk;case Oq:return Wk;case Mq:return Uk;case Aq:return Yk}return e});const ol=vs;var Pq=Object.prototype,Tq=Pq.hasOwnProperty;function Dq(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Tq.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var $q=Rr.Uint8Array;const Zd=$q;function I1(t){var e=new t.constructor(t.byteLength);return new Zd(e).set(new Zd(t)),e}function Rq(t,e){var n=e?I1(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Eq=/\w*$/;function Iq(t){var e=new t.constructor(t.source,Eq.exec(t));return e.lastIndex=t.lastIndex,e}var Kk=Vo?Vo.prototype:void 0,Gk=Kk?Kk.valueOf:void 0;function Lq(t){return Gk?Object(Gk.call(t)):{}}function OT(t,e){var n=e?I1(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Nq="[object Boolean]",Bq="[object Date]",Fq="[object Map]",Hq="[object Number]",Vq="[object RegExp]",jq="[object Set]",zq="[object String]",Wq="[object Symbol]",Uq="[object ArrayBuffer]",Yq="[object DataView]",qq="[object Float32Array]",Kq="[object Float64Array]",Gq="[object Int8Array]",Xq="[object Int16Array]",Jq="[object Int32Array]",Qq="[object Uint8Array]",Zq="[object Uint8ClampedArray]",eK="[object Uint16Array]",tK="[object Uint32Array]";function nK(t,e,n){var i=t.constructor;switch(e){case Uq:return I1(t);case Nq:case Bq:return new i(+t);case Yq:return Rq(t,n);case qq:case Kq:case Gq:case Xq:case Jq:case Qq:case Zq:case eK:case tK:return OT(t,n);case Fq:return new i;case Hq:case zq:return new i(t);case Vq:return Iq(t);case jq:return new i;case Wq:return Lq(t)}}function MT(t){return typeof t.constructor=="function"&&!ug(t)?a7(R1(t)):{}}var iK="[object Map]";function rK(t){return eo(t)&&ol(t)==iK}var Xk=rl&&rl.isMap,oK=Xk?D1(Xk):rK;const sK=oK;var aK="[object Set]";function lK(t){return eo(t)&&ol(t)==aK}var Jk=rl&&rl.isSet,cK=Jk?D1(Jk):lK;const uK=cK;var fK=1,hK=2,dK=4,AT="[object Arguments]",pK="[object Array]",gK="[object Boolean]",mK="[object Date]",yK="[object Error]",PT="[object Function]",vK="[object GeneratorFunction]",bK="[object Map]",_K="[object Number]",TT="[object Object]",wK="[object RegExp]",xK="[object Set]",SK="[object String]",kK="[object Symbol]",CK="[object WeakMap]",OK="[object ArrayBuffer]",MK="[object DataView]",AK="[object Float32Array]",PK="[object Float64Array]",TK="[object Int8Array]",DK="[object Int16Array]",$K="[object Int32Array]",RK="[object Uint8Array]",EK="[object Uint8ClampedArray]",IK="[object Uint16Array]",LK="[object Uint32Array]",wt={};wt[AT]=wt[pK]=wt[OK]=wt[MK]=wt[gK]=wt[mK]=wt[AK]=wt[PK]=wt[TK]=wt[DK]=wt[$K]=wt[bK]=wt[_K]=wt[TT]=wt[wK]=wt[xK]=wt[SK]=wt[kK]=wt[RK]=wt[EK]=wt[IK]=wt[LK]=!0;wt[yK]=wt[PT]=wt[CK]=!1;function Th(t,e,n,i,r,o){var s,a=e&fK,l=e&hK,c=e&dK;if(n&&(s=r?n(t,i,r,o):n(t)),s!==void 0)return s;if(!es(t))return t;var u=jo(t);if(u){if(s=Dq(t),!a)return cT(t,s)}else{var f=ol(t),h=f==PT||f==vK;if(il(t))return xT(t,a);if(f==TT||f==AT||h&&!r){if(s=l||h?{}:MT(t),!a)return l?vq(t,cq(s,t)):gq(t,lq(s,t))}else{if(!wt[f])return r?t:{};s=nK(t,f,a)}}o||(o=new xr);var d=o.get(t);if(d)return d;o.set(t,s),uK(t)?t.forEach(function(y){s.add(Th(y,e,n,y,t,o))}):sK(t)&&t.forEach(function(y,m){s.set(m,Th(y,e,n,m,t,o))});var p=c?l?bq:gv:l?Pu:$1,g=u?void 0:p(t);return b7(g||t,function(y,m){g&&(m=y,y=t[m]),fT(s,m,Th(y,e,n,m,t,o))}),s}var NK=1,BK=4;function Yl(t){return Th(t,NK|BK)}var FK="__lodash_hash_undefined__";function HK(t){return this.__data__.set(t,FK),this}function VK(t){return this.__data__.has(t)}function ep(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ia;++e<n;)this.add(t[e])}ep.prototype.add=ep.prototype.push=HK;ep.prototype.has=VK;function jK(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function zK(t,e){return t.has(e)}var WK=1,UK=2;function DT(t,e,n,i,r,o){var s=n&WK,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,d=n&UK?new ep:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var p=t[f],g=e[f];if(i)var y=s?i(g,p,f,e,t,o):i(p,g,f,t,e,o);if(y!==void 0){if(y)continue;h=!1;break}if(d){if(!jK(e,function(m,b){if(!zK(d,b)&&(p===m||r(p,m,n,i,o)))return d.push(b)})){h=!1;break}}else if(!(p===g||r(p,g,n,i,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function YK(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}function qK(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var KK=1,GK=2,XK="[object Boolean]",JK="[object Date]",QK="[object Error]",ZK="[object Map]",eG="[object Number]",tG="[object RegExp]",nG="[object Set]",iG="[object String]",rG="[object Symbol]",oG="[object ArrayBuffer]",sG="[object DataView]",Qk=Vo?Vo.prototype:void 0,Bm=Qk?Qk.valueOf:void 0;function aG(t,e,n,i,r,o,s){switch(n){case sG:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oG:return!(t.byteLength!=e.byteLength||!o(new Zd(t),new Zd(e)));case XK:case JK:case eG:return Ou(+t,+e);case QK:return t.name==e.name&&t.message==e.message;case tG:case iG:return t==e+"";case ZK:var a=YK;case nG:var l=i&KK;if(a||(a=qK),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;i|=GK,s.set(t,e);var u=DT(a(t),a(e),i,r,o,s);return s.delete(t),u;case rG:if(Bm)return Bm.call(t)==Bm.call(e)}return!1}var lG=1,cG=Object.prototype,uG=cG.hasOwnProperty;function fG(t,e,n,i,r,o){var s=n&lG,a=gv(t),l=a.length,c=gv(e),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:uG.call(e,h)))return!1}var d=o.get(t),p=o.get(e);if(d&&p)return d==e&&p==t;var g=!0;o.set(t,e),o.set(e,t);for(var y=s;++f<l;){h=a[f];var m=t[h],b=e[h];if(i)var _=s?i(b,m,h,e,t,o):i(m,b,h,t,e,o);if(!(_===void 0?m===b||r(m,b,n,i,o):_)){g=!1;break}y||(y=h=="constructor")}if(g&&!y){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(t),o.delete(e),g}var hG=1,Zk="[object Arguments]",eC="[object Array]",rf="[object Object]",dG=Object.prototype,tC=dG.hasOwnProperty;function pG(t,e,n,i,r,o){var s=jo(t),a=jo(e),l=s?eC:ol(t),c=a?eC:ol(e);l=l==Zk?rf:l,c=c==Zk?rf:c;var u=l==rf,f=c==rf,h=l==c;if(h&&il(t)){if(!il(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new xr),s||fg(t)?DT(t,e,n,i,r,o):aG(t,e,l,n,i,r,o);if(!(n&hG)){var d=u&&tC.call(t,"__wrapped__"),p=f&&tC.call(e,"__wrapped__");if(d||p){var g=d?t.value():t,y=p?e.value():e;return o||(o=new xr),r(g,y,n,i,o)}}return h?(o||(o=new xr),fG(t,e,n,i,r,o)):!1}function $T(t,e,n,i,r){return t===e?!0:t==null||e==null||!eo(t)&&!eo(e)?t!==t&&e!==e:pG(t,e,n,i,$T,r)}function gG(t){return function(e,n,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){var l=s[t?a:++r];if(n(o[l],l,o)===!1)break}return e}}var mG=gG();const yG=mG;function bv(t,e,n){(n!==void 0&&!Ou(t[e],n)||n===void 0&&!(e in t))&&T1(t,e,n)}function vG(t){return eo(t)&&Au(t)}function _v(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function bG(t){return Mu(t,Pu(t))}function _G(t,e,n,i,r,o,s){var a=_v(t,n),l=_v(e,n),c=s.get(l);if(c){bv(t,n,c);return}var u=o?o(a,l,n+"",t,e,s):void 0,f=u===void 0;if(f){var h=jo(l),d=!h&&il(l),p=!h&&!d&&fg(l);u=l,h||d||p?jo(a)?u=a:vG(a)?u=cT(a):d?(f=!1,u=xT(l,!0)):p?(f=!1,u=OT(l,!0)):u=[]:tq(l)||Qd(l)?(u=a,Qd(a)?u=bG(a):(!es(a)||P1(a))&&(u=MT(l))):f=!1}f&&(s.set(l,u),r(u,l,i,o,s),s.delete(l)),bv(t,n,u)}function RT(t,e,n,i,r){t!==e&&yG(e,function(o,s){if(r||(r=new xr),es(o))_G(t,e,s,n,RT,i,r);else{var a=i?i(_v(t,s),o,s+"",t,e,r):void 0;a===void 0&&(a=o),bv(t,s,a)}},Pu)}var wG="[object Map]",xG="[object Set]",SG=Object.prototype,kG=SG.hasOwnProperty;function CG(t){if(t==null)return!0;if(Au(t)&&(jo(t)||typeof t=="string"||typeof t.splice=="function"||il(t)||fg(t)||Qd(t)))return!t.length;var e=ol(t);if(e==wG||e==xG)return!t.size;if(ug(t))return!vT(t).length;for(var n in t)if(kG.call(t,n))return!1;return!0}function nC(t,e){return $T(t,e)}var OG=A7(function(t,e,n){RT(t,e,n)});const pg=OG,MG=(t,e)=>{const n=t.getBoundingClientRect(),i=n.left+n.width/2,r=n.top+n.height/2,o=Math.abs(i-e.clientX),s=Math.abs(r-e.clientY),a=Math.sqrt(Math.pow(o,2)+Math.pow(s,2)),l=s/a,c=Math.acos(l);let u=Math.floor(180/(Math.PI/c));return e.clientX>i&&e.clientY>r&&(u=180-u),e.clientX==i&&e.clientY>r&&(u=180),e.clientX>i&&e.clientY==r&&(u=90),e.clientX<i&&e.clientY>r&&(u=180+u),e.clientX<i&&e.clientY==r&&(u=270),e.clientX<i&&e.clientY<r&&(u=360-u),u};let Fm=!1;const AG=(t,e)=>{const n=function(r){var o;(o=e.drag)==null||o.call(e,r)},i=function(r){var o;document.removeEventListener("mousemove",n,!1),document.removeEventListener("mouseup",i,!1),document.onselectstart=null,document.ondragstart=null,Fm=!1,(o=e.end)==null||o.call(e,r)};t&&t.addEventListener("mousedown",r=>{var o;Fm||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n,!1),document.addEventListener("mouseup",i,!1),Fm=!0,(o=e.start)==null||o.call(e,r))})},PG={angle:{type:Number,default:0},size:{type:Number,default:16,validator:t=>t>=16},borderWidth:{type:Number,default:1,validator:t=>t>=1},borderColor:{type:String,default:"#666"}};var TG=$e({name:"Angle",props:PG,emits:["update:angle","change"],setup(t,{emit:e}){const n=te(null),i=te(t.angle);mt(()=>t.angle,a=>{i.value=a});const r=()=>{let a=Number(i.value);isNaN(a)||(a=a>360||a<0?t.angle:a,i.value=a===360?0:a,e("update:angle",i.value),e("change",i.value))},o=Z(()=>({width:t.size+"px",height:t.size+"px",borderWidth:t.borderWidth+"px",borderColor:t.borderColor,transform:`rotate(${i.value}deg)`})),s=a=>{n.value&&(i.value=MG(n.value,a)%360,r())};return sn(()=>{const a={drag:l=>{s(l)},end:l=>{s(l)}};n.value&&AG(n.value,a)}),()=>Ae("div",{class:"bee-angle"},[Ae("div",{class:"bee-angle__round",ref:n,style:o.value},null)])}}),ti="top",Ii="bottom",Li="right",ni="left",L1="auto",Tu=[ti,Ii,Li,ni],sl="start",tu="end",DG="clippingParents",ET="viewport",ql="popper",$G="reference",iC=Tu.reduce(function(t,e){return t.concat([e+"-"+sl,e+"-"+tu])},[]),IT=[].concat(Tu,[L1]).reduce(function(t,e){return t.concat([e,e+"-"+sl,e+"-"+tu])},[]),RG="beforeRead",EG="read",IG="afterRead",LG="beforeMain",NG="main",BG="afterMain",FG="beforeWrite",HG="write",VG="afterWrite",jG=[RG,EG,IG,LG,NG,BG,FG,HG,VG];function Tr(t){return t?(t.nodeName||"").toLowerCase():null}function bi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ws(t){var e=bi(t).Element;return t instanceof e||t instanceof Element}function Ei(t){var e=bi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function N1(t){if(typeof ShadowRoot>"u")return!1;var e=bi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function zG(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!Ei(o)||!Tr(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function WG(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=s.reduce(function(l,c){return l[c]="",l},{});!Ei(r)||!Tr(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}const UG={name:"applyStyles",enabled:!0,phase:"write",fn:zG,effect:WG,requires:["computeStyles"]};function Sr(t){return t.split("-")[0]}var Es=Math.max,tp=Math.min,al=Math.round;function wv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function LT(){return!/^((?!chrome|android).)*safari/i.test(wv())}function ll(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,o=1;e&&Ei(t)&&(r=t.offsetWidth>0&&al(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&al(i.height)/t.offsetHeight||1);var s=Ws(t)?bi(t):window,a=s.visualViewport,l=!LT()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/o,f=i.width/r,h=i.height/o;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function B1(t){var e=ll(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function NT(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&N1(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function to(t){return bi(t).getComputedStyle(t)}function YG(t){return["table","td","th"].indexOf(Tr(t))>=0}function ts(t){return((Ws(t)?t.ownerDocument:t.document)||window.document).documentElement}function gg(t){return Tr(t)==="html"?t:t.assignedSlot||t.parentNode||(N1(t)?t.host:null)||ts(t)}function rC(t){return!Ei(t)||to(t).position==="fixed"?null:t.offsetParent}function qG(t){var e=/firefox/i.test(wv()),n=/Trident/i.test(wv());if(n&&Ei(t)){var i=to(t);if(i.position==="fixed")return null}var r=gg(t);for(N1(r)&&(r=r.host);Ei(r)&&["html","body"].indexOf(Tr(r))<0;){var o=to(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Du(t){for(var e=bi(t),n=rC(t);n&&YG(n)&&to(n).position==="static";)n=rC(n);return n&&(Tr(n)==="html"||Tr(n)==="body"&&to(n).position==="static")?e:n||qG(t)||e}function F1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function $c(t,e,n){return Es(t,tp(e,n))}function KG(t,e,n){var i=$c(t,e,n);return i>n?n:i}function BT(){return{top:0,right:0,bottom:0,left:0}}function FT(t){return Object.assign({},BT(),t)}function HT(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var GG=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,FT(typeof e!="number"?e:HT(e,Tu))};function XG(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Sr(n.placement),l=F1(a),c=[ni,Li].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var f=GG(r.padding,n),h=B1(o),d=l==="y"?ti:ni,p=l==="y"?Ii:Li,g=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],y=s[l]-n.rects.reference[l],m=Du(o),b=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,_=g/2-y/2,w=f[d],S=b-h[u]-f[p],A=b/2-h[u]/2+_,x=$c(w,A,S),k=l;n.modifiersData[i]=(e={},e[k]=x,e.centerOffset=x-A,e)}}function JG(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||NT(e.elements.popper,r)&&(e.elements.arrow=r))}const QG={name:"arrow",enabled:!0,phase:"main",fn:XG,effect:JG,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cl(t){return t.split("-")[1]}var ZG={top:"auto",right:"auto",bottom:"auto",left:"auto"};function eX(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:al(n*r)/r||0,y:al(i*r)/r||0}}function oC(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=s.x,d=h===void 0?0:h,p=s.y,g=p===void 0?0:p,y=typeof u=="function"?u({x:d,y:g}):{x:d,y:g};d=y.x,g=y.y;var m=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),_=ni,w=ti,S=window;if(c){var A=Du(n),x="clientHeight",k="clientWidth";if(A===bi(n)&&(A=ts(n),to(A).position!=="static"&&a==="absolute"&&(x="scrollHeight",k="scrollWidth")),A=A,r===ti||(r===ni||r===Li)&&o===tu){w=Ii;var P=f&&A===S&&S.visualViewport?S.visualViewport.height:A[x];g-=P-i.height,g*=l?1:-1}if(r===ni||(r===ti||r===Ii)&&o===tu){_=Li;var E=f&&A===S&&S.visualViewport?S.visualViewport.width:A[k];d-=E-i.width,d*=l?1:-1}}var I=Object.assign({position:a},c&&ZG),B=u===!0?eX({x:d,y:g},bi(n)):{x:d,y:g};if(d=B.x,g=B.y,l){var J;return Object.assign({},I,(J={},J[w]=b?"0":"",J[_]=m?"0":"",J.transform=(S.devicePixelRatio||1)<=1?"translate("+d+"px, "+g+"px)":"translate3d("+d+"px, "+g+"px, 0)",J))}return Object.assign({},I,(e={},e[w]=b?g+"px":"",e[_]=m?d+"px":"",e.transform="",e))}function tX(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Sr(e.placement),variation:cl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,oC(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,oC(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const nX={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tX,data:{}};var of={passive:!0};function iX(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=bi(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,of)}),a&&l.addEventListener("resize",n.update,of),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,of)}),a&&l.removeEventListener("resize",n.update,of)}}const rX={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:iX,data:{}};var oX={left:"right",right:"left",bottom:"top",top:"bottom"};function Dh(t){return t.replace(/left|right|bottom|top/g,function(e){return oX[e]})}var sX={start:"end",end:"start"};function sC(t){return t.replace(/start|end/g,function(e){return sX[e]})}function H1(t){var e=bi(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function V1(t){return ll(ts(t)).left+H1(t).scrollLeft}function aX(t,e){var n=bi(t),i=ts(t),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=LT();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+V1(t),y:l}}function lX(t){var e,n=ts(t),i=H1(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=Es(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Es(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+V1(t),l=-i.scrollTop;return to(r||n).direction==="rtl"&&(a+=Es(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function j1(t){var e=to(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function VT(t){return["html","body","#document"].indexOf(Tr(t))>=0?t.ownerDocument.body:Ei(t)&&j1(t)?t:VT(gg(t))}function Rc(t,e){var n;e===void 0&&(e=[]);var i=VT(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),o=bi(i),s=r?[o].concat(o.visualViewport||[],j1(i)?i:[]):i,a=e.concat(s);return r?a:a.concat(Rc(gg(s)))}function xv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function cX(t,e){var n=ll(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function aC(t,e,n){return e===ET?xv(aX(t,n)):Ws(e)?cX(e,n):xv(lX(ts(t)))}function uX(t){var e=Rc(gg(t)),n=["absolute","fixed"].indexOf(to(t).position)>=0,i=n&&Ei(t)?Du(t):t;return Ws(i)?e.filter(function(r){return Ws(r)&&NT(r,i)&&Tr(r)!=="body"}):[]}function fX(t,e,n,i){var r=e==="clippingParents"?uX(t):[].concat(e),o=[].concat(r,[n]),s=o[0],a=o.reduce(function(l,c){var u=aC(t,c,i);return l.top=Es(u.top,l.top),l.right=tp(u.right,l.right),l.bottom=tp(u.bottom,l.bottom),l.left=Es(u.left,l.left),l},aC(t,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function jT(t){var e=t.reference,n=t.element,i=t.placement,r=i?Sr(i):null,o=i?cl(i):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case ti:l={x:s,y:e.y-n.height};break;case Ii:l={x:s,y:e.y+e.height};break;case Li:l={x:e.x+e.width,y:a};break;case ni:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?F1(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case sl:l[c]=l[c]-(e[u]/2-n[u]/2);break;case tu:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function nu(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?DG:a,c=n.rootBoundary,u=c===void 0?ET:c,f=n.elementContext,h=f===void 0?ql:f,d=n.altBoundary,p=d===void 0?!1:d,g=n.padding,y=g===void 0?0:g,m=FT(typeof y!="number"?y:HT(y,Tu)),b=h===ql?$G:ql,_=t.rects.popper,w=t.elements[p?b:h],S=fX(Ws(w)?w:w.contextElement||ts(t.elements.popper),l,u,s),A=ll(t.elements.reference),x=jT({reference:A,element:_,strategy:"absolute",placement:r}),k=xv(Object.assign({},_,x)),P=h===ql?k:A,E={top:S.top-P.top+m.top,bottom:P.bottom-S.bottom+m.bottom,left:S.left-P.left+m.left,right:P.right-S.right+m.right},I=t.modifiersData.offset;if(h===ql&&I){var B=I[r];Object.keys(E).forEach(function(J){var ee=[Li,Ii].indexOf(J)>=0?1:-1,F=[ti,Ii].indexOf(J)>=0?"y":"x";E[J]+=B[F]*ee})}return E}function hX(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?IT:l,u=cl(i),f=u?a?iC:iC.filter(function(p){return cl(p)===u}):Tu,h=f.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=f);var d=h.reduce(function(p,g){return p[g]=nu(t,{placement:g,boundary:r,rootBoundary:o,padding:s})[Sr(g)],p},{});return Object.keys(d).sort(function(p,g){return d[p]-d[g]})}function dX(t){if(Sr(t)===L1)return[];var e=Dh(t);return[sC(t),e,sC(e)]}function pX(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=d===void 0?!0:d,g=n.allowedAutoPlacements,y=e.options.placement,m=Sr(y),b=m===y,_=l||(b||!p?[Dh(y)]:dX(y)),w=[y].concat(_).reduce(function(L,O){return L.concat(Sr(O)===L1?hX(e,{placement:O,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:g}):O)},[]),S=e.rects.reference,A=e.rects.popper,x=new Map,k=!0,P=w[0],E=0;E<w.length;E++){var I=w[E],B=Sr(I),J=cl(I)===sl,ee=[ti,Ii].indexOf(B)>=0,F=ee?"width":"height",z=nu(e,{placement:I,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),v=ee?J?Li:ni:J?Ii:ti;S[F]>A[F]&&(v=Dh(v));var $=Dh(v),W=[];if(o&&W.push(z[B]<=0),a&&W.push(z[v]<=0,z[$]<=0),W.every(function(L){return L})){P=I,k=!1;break}x.set(I,W)}if(k)for(var Y=p?3:1,Q=function(O){var N=w.find(function(V){var G=x.get(V);if(G)return G.slice(0,O).every(function(ae){return ae})});if(N)return P=N,"break"},ce=Y;ce>0;ce--){var X=Q(ce);if(X==="break")break}e.placement!==P&&(e.modifiersData[i]._skip=!0,e.placement=P,e.reset=!0)}}const gX={name:"flip",enabled:!0,phase:"main",fn:pX,requiresIfExists:["offset"],data:{_skip:!1}};function lC(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function cC(t){return[ti,Li,Ii,ni].some(function(e){return t[e]>=0})}function mX(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=nu(e,{elementContext:"reference"}),a=nu(e,{altBoundary:!0}),l=lC(s,i),c=lC(a,r,o),u=cC(l),f=cC(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const yX={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mX};function vX(t,e,n){var i=Sr(t),r=[ni,ti].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[ni,Li].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function bX(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=r===void 0?[0,0]:r,s=IT.reduce(function(u,f){return u[f]=vX(f,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}const _X={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:bX};function wX(t){var e=t.state,n=t.name;e.modifiersData[n]=jT({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const xX={name:"popperOffsets",enabled:!0,phase:"read",fn:wX,data:{}};function SX(t){return t==="x"?"y":"x"}function kX(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,d=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,y=nu(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),m=Sr(e.placement),b=cl(e.placement),_=!b,w=F1(m),S=SX(w),A=e.modifiersData.popperOffsets,x=e.rects.reference,k=e.rects.popper,P=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,E=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,B={x:0,y:0};if(A){if(o){var J,ee=w==="y"?ti:ni,F=w==="y"?Ii:Li,z=w==="y"?"height":"width",v=A[w],$=v+y[ee],W=v-y[F],Y=d?-k[z]/2:0,Q=b===sl?x[z]:k[z],ce=b===sl?-k[z]:-x[z],X=e.elements.arrow,L=d&&X?B1(X):{width:0,height:0},O=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:BT(),N=O[ee],V=O[F],G=$c(0,x[z],L[z]),ae=_?x[z]/2-Y-G-N-E.mainAxis:Q-G-N-E.mainAxis,_e=_?-x[z]/2+Y+G+V+E.mainAxis:ce+G+V+E.mainAxis,xe=e.elements.arrow&&Du(e.elements.arrow),T=xe?w==="y"?xe.clientTop||0:xe.clientLeft||0:0,R=(J=I==null?void 0:I[w])!=null?J:0,q=v+ae-R-T,K=v+_e-R,oe=$c(d?tp($,q):$,v,d?Es(W,K):W);A[w]=oe,B[w]=oe-v}if(a){var ue,pe=w==="x"?ti:ni,fe=w==="x"?Ii:Li,he=A[S],se=S==="y"?"height":"width",Te=he+y[pe],we=he-y[fe],Ce=[ti,ni].indexOf(m)!==-1,Le=(ue=I==null?void 0:I[S])!=null?ue:0,We=Ce?Te:he-x[se]-k[se]-Le+E.altAxis,rt=Ce?he+x[se]+k[se]-Le-E.altAxis:we,Xe=d&&Ce?KG(We,he,rt):$c(d?We:Te,he,d?rt:we);A[S]=Xe,B[S]=Xe-he}e.modifiersData[i]=B}}const CX={name:"preventOverflow",enabled:!0,phase:"main",fn:kX,requiresIfExists:["offset"]};function OX(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function MX(t){return t===bi(t)||!Ei(t)?H1(t):OX(t)}function AX(t){var e=t.getBoundingClientRect(),n=al(e.width)/t.offsetWidth||1,i=al(e.height)/t.offsetHeight||1;return n!==1||i!==1}function PX(t,e,n){n===void 0&&(n=!1);var i=Ei(e),r=Ei(e)&&AX(e),o=ts(e),s=ll(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((Tr(e)!=="body"||j1(o))&&(a=MX(e)),Ei(e)?(l=ll(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=V1(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function TX(t){var e=new Map,n=new Set,i=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),i}function DX(t){var e=TX(t);return jG.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function $X(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function RX(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var uC={placement:"bottom",modifiers:[],strategy:"absolute"};function fC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function EX(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?uC:r;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},uC,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],h=!1,d={state:u,setOptions:function(m){var b=typeof m=="function"?m(u.options):m;g(),u.options=Object.assign({},o,u.options,b),u.scrollParents={reference:Ws(a)?Rc(a):a.contextElement?Rc(a.contextElement):[],popper:Rc(l)};var _=DX(RX([].concat(i,u.options.modifiers)));return u.orderedModifiers=_.filter(function(w){return w.enabled}),p(),d.update()},forceUpdate:function(){if(!h){var m=u.elements,b=m.reference,_=m.popper;if(fC(b,_)){u.rects={reference:PX(b,Du(_),u.options.strategy==="fixed"),popper:B1(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(E){return u.modifiersData[E.name]=Object.assign({},E.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var S=u.orderedModifiers[w],A=S.fn,x=S.options,k=x===void 0?{}:x,P=S.name;typeof A=="function"&&(u=A({state:u,options:k,name:P,instance:d})||u)}}}},update:$X(function(){return new Promise(function(y){d.forceUpdate(),y(u)})}),destroy:function(){g(),h=!0}};if(!fC(a,l))return d;d.setOptions(c).then(function(y){!h&&c.onFirstUpdate&&c.onFirstUpdate(y)});function p(){u.orderedModifiers.forEach(function(y){var m=y.name,b=y.options,_=b===void 0?{}:b,w=y.effect;if(typeof w=="function"){var S=w({state:u,name:m,instance:d,options:_}),A=function(){};f.push(S||A)}})}function g(){f.forEach(function(y){return y()}),f=[]}return d}}var IX=[rX,xX,nX,UG,_X,gX,CX,QG,yX],LX=EX({defaultModifiers:IX}),ra=ra||{};ra.stringify=function(){var t={"visit_linear-gradient":function(e){return t.visit_gradient(e)},"visit_repeating-linear-gradient":function(e){return t.visit_gradient(e)},"visit_radial-gradient":function(e){return t.visit_gradient(e)},"visit_repeating-radial-gradient":function(e){return t.visit_gradient(e)},visit_gradient:function(e){var n=t.visit(e.orientation);return n&&(n+=", "),e.type+"("+n+t.visit(e.colorStops)+")"},visit_shape:function(e){var n=e.value,i=t.visit(e.at),r=t.visit(e.style);return r&&(n+=" "+r),i&&(n+=" at "+i),n},"visit_default-radial":function(e){var n="",i=t.visit(e.at);return i&&(n+=i),n},"visit_extent-keyword":function(e){var n=e.value,i=t.visit(e.at);return i&&(n+=" at "+i),n},"visit_position-keyword":function(e){return e.value},visit_position:function(e){return t.visit(e.value.x)+" "+t.visit(e.value.y)},"visit_%":function(e){return e.value+"%"},visit_em:function(e){return e.value+"em"},visit_px:function(e){return e.value+"px"},visit_literal:function(e){return t.visit_color(e.value,e)},visit_hex:function(e){return t.visit_color("#"+e.value,e)},visit_rgb:function(e){return t.visit_color("rgb("+e.value.join(", ")+")",e)},visit_rgba:function(e){return t.visit_color("rgba("+e.value.join(", ")+")",e)},visit_color:function(e,n){var i=e,r=t.visit(n.length);return r&&(i+=" "+r),i},visit_angular:function(e){return e.value+"deg"},visit_directional:function(e){return"to "+e.value},visit_array:function(e){var n="",i=e.length;return e.forEach(function(r,o){n+=t.visit(r),o<i-1&&(n+=", ")}),n},visit:function(e){if(!e)return"";var n="";if(e instanceof Array)return t.visit_array(e,n);if(e.type){var i=t["visit_"+e.type];if(i)return i(e);throw Error("Missing visitor visit_"+e.type)}else throw Error("Invalid node.")}};return function(e){return t.visit(e)}}();var ra=ra||{};ra.parse=function(){var t={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function n(v){var $=new Error(e+": "+v);throw $.source=e,$}function i(){var v=r();return e.length>0&&n("Invalid input not EOF"),v}function r(){return _(o)}function o(){return s("linear-gradient",t.linearGradient,l)||s("repeating-linear-gradient",t.repeatingLinearGradient,l)||s("radial-gradient",t.radialGradient,f)||s("repeating-radial-gradient",t.repeatingRadialGradient,f)}function s(v,$,W){return a($,function(Y){var Q=W();return Q&&(F(t.comma)||n("Missing comma before color stops")),{type:v,orientation:Q,colorStops:_(w)}})}function a(v,$){var W=F(v);if(W){F(t.startCall)||n("Missing (");var Y=$(W);return F(t.endCall)||n("Missing )"),Y}}function l(){return c()||u()}function c(){return ee("directional",t.sideOrCorner,1)}function u(){return ee("angular",t.angleValue,1)}function f(){var v,$=h(),W;return $&&(v=[],v.push($),W=e,F(t.comma)&&($=h(),$?v.push($):e=W)),v}function h(){var v=d()||p();if(v)v.at=y();else{var $=g();if($){v=$;var W=y();W&&(v.at=W)}else{var Y=m();Y&&(v={type:"default-radial",at:Y})}}return v}function d(){var v=ee("shape",/^(circle)/i,0);return v&&(v.style=J()||g()),v}function p(){var v=ee("shape",/^(ellipse)/i,0);return v&&(v.style=I()||g()),v}function g(){return ee("extent-keyword",t.extentKeywords,1)}function y(){if(ee("position",/^at/,0)){var v=m();return v||n("Missing positioning value"),v}}function m(){var v=b();if(v.x||v.y)return{type:"position",value:v}}function b(){return{x:I(),y:I()}}function _(v){var $=v(),W=[];if($)for(W.push($);F(t.comma);)$=v(),$?W.push($):n("One extra comma");return W}function w(){var v=S();return v||n("Expected color definition"),v.length=I(),v}function S(){return x()||P()||k()||A()}function A(){return ee("literal",t.literalColor,0)}function x(){return ee("hex",t.hexColor,1)}function k(){return a(t.rgbColor,function(){return{type:"rgb",value:_(E)}})}function P(){return a(t.rgbaColor,function(){return{type:"rgba",value:_(E)}})}function E(){return F(t.number)[1]}function I(){return ee("%",t.percentageValue,1)||B()||J()}function B(){return ee("position-keyword",t.positionKeywords,1)}function J(){return ee("px",t.pixelValue,1)||ee("em",t.emValue,1)}function ee(v,$,W){var Y=F($);if(Y)return{type:v,value:Y[W]}}function F(v){var $,W;return W=/^[\n\r\t\s]+/.exec(e),W&&z(W[0].length),$=v.exec(e),$&&z($[0].length),$}function z(v){e=e.substr(v)}return function(v){return e=v.toString(),i()}}();var NX=ra.parse,BX=ra.stringify,FX=Object.defineProperty,HX=Object.defineProperties,VX=Object.getOwnPropertyDescriptors,hC=Object.getOwnPropertySymbols,jX=Object.prototype.hasOwnProperty,zX=Object.prototype.propertyIsEnumerable,Sv=(t,e,n)=>e in t?FX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hm=(t,e)=>{for(var n in e||(e={}))jX.call(e,n)&&Sv(t,n,e[n]);if(hC)for(var n of hC(e))zX.call(e,n)&&Sv(t,n,e[n]);return t},Vm=(t,e)=>HX(t,VX(e)),Sn=(t,e,n)=>(Sv(t,typeof e!="symbol"?e+"":e,n),n);const Jt=t=>Math.round(t*100)/100;let zt=class{constructor(e){Sn(this,"instance"),Sn(this,"alphaValue",0),Sn(this,"redValue",0),Sn(this,"greenValue",0),Sn(this,"blueValue",0),Sn(this,"hueValue",0),Sn(this,"saturationValue",0),Sn(this,"brightnessValue",0),Sn(this,"hslSaturationValue",0),Sn(this,"lightnessValue",0),Sn(this,"initAlpha",()=>{const n=this.instance.getAlpha();this.alphaValue=Math.min(1,n)*100}),Sn(this,"initLightness",()=>{const{s:n,l:i}=this.instance.toHsl();this.hslSaturationValue=Jt(n),this.lightnessValue=Jt(i)}),Sn(this,"initRgb",()=>{const{r:n,g:i,b:r}=this.instance.toRgb();this.redValue=Jt(n),this.greenValue=Jt(i),this.blueValue=Jt(r)}),Sn(this,"initHsb",()=>{const{h:n,s:i,v:r}=this.instance.toHsv();this.hueValue=Math.min(360,Math.ceil(n)),this.saturationValue=Jt(i),this.brightnessValue=Jt(r)}),Sn(this,"toHexString",()=>this.instance.toHexString()),Sn(this,"toRgbString",()=>this.instance.toRgbString()),this.instance=me(e),this.initRgb(),this.initHsb(),this.initLightness(),this.initAlpha()}toString(e){return this.instance.toString(e)}get hex(){return this.instance.toHex()}set hex(e){this.instance=me(e),this.initHsb(),this.initRgb(),this.initAlpha(),this.initLightness()}set hue(e){this.saturation===0&&this.brightness===0&&(this.saturationValue=1,this.brightnessValue=1),this.instance=me({h:Jt(e),s:this.saturation,v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.hueValue=Jt(e)}get hue(){return this.hueValue}set saturation(e){this.instance=me({h:this.hue,s:Jt(e),v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.saturationValue=Jt(e)}get saturation(){return this.saturationValue}set brightness(e){this.instance=me({h:this.hue,s:this.saturation,v:Jt(e),a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.brightnessValue=Jt(e)}get brightness(){return this.brightnessValue}set lightness(e){this.instance=me({h:this.hue,s:this.hslSaturationValue,l:Jt(e),a:this.alphaValue/100}),this.initRgb(),this.initHsb(),this.lightnessValue=Jt(e)}get lightness(){return this.lightnessValue}set red(e){const n=this.instance.toRgb();this.instance=me(Vm(Hm({},n),{r:Jt(e),a:this.alphaValue/100})),this.initHsb(),this.initLightness(),this.redValue=Jt(e)}get red(){return this.redValue}set green(e){const n=this.instance.toRgb();this.instance=me(Vm(Hm({},n),{g:Jt(e),a:this.alphaValue/100})),this.initHsb(),this.initLightness(),this.greenValue=Jt(e)}get green(){return this.greenValue}set blue(e){const n=this.instance.toRgb();this.instance=me(Vm(Hm({},n),{b:Jt(e),a:this.alphaValue/100})),this.initHsb(),this.initLightness(),this.blueValue=Jt(e)}get blue(){return this.blueValue}set alpha(e){this.instance.setAlpha(e/100),this.alphaValue=e}get alpha(){return this.alphaValue}get RGB(){return[this.red,this.green,this.blue,this.alpha/100]}get HSB(){return[this.hue,this.saturation,this.brightness,this.alpha/100]}get HSL(){return[this.hue,this.hslSaturationValue,this.lightness,this.alpha/100]}};function dC(t,e,n,i){return`rgba(${[t,e,n,i/100].join(",")})`}const jm=(t,e,n)=>e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t,z1="color-history",W1=8;var ji=(t,e)=>{for(const[n,i]of e)t[n]=i;return t};const WX=$e({name:"Alpha",props:{color:Ye.instanceOf(zt),size:Ye.oneOf(["small","default"]).def("default")},emits:["change"],setup(t,{emit:e}){const n=te(null),i=te(null);let r=t.color||new zt;const o=qt({red:r.red,green:r.green,blue:r.blue,alpha:r.alpha});mt(()=>t.color,f=>{f&&(r=f,pg(o,{red:f.red,green:f.green,blue:f.blue,alpha:f.alpha}))},{deep:!0});const s=Z(()=>{const f=dC(o.red,o.green,o.blue,0),h=dC(o.red,o.green,o.blue,100);return{background:`linear-gradient(to right, ${f} , ${h})`}}),a=()=>{if(n.value&&i.value){const f=o.alpha/100,h=n.value.getBoundingClientRect(),d=i.value.offsetWidth;return Math.round(f*(h.width-d)+d/2)}return 0},l=Z(()=>({left:a()+"px",top:0})),c=f=>{f.target!==n.value&&u(f)},u=f=>{if(f.stopPropagation(),n.value&&i.value){const h=n.value.getBoundingClientRect(),d=i.value.offsetWidth;let p=f.clientX-h.left;p=Math.max(d/2,p),p=Math.min(p,h.width-d/2);const g=Math.round((p-d/2)/(h.width-d)*100);r.alpha=g,o.alpha=g,e("change",g)}};return Cl(()=>{const f={drag:h=>{u(h)},end:h=>{u(h)}};n.value&&i.value&&tl.triggerDragEvent(n.value,f)}),{barElement:n,cursorElement:i,getCursorStyle:l,getBackgroundStyle:s,onClickSider:c}}}),UX=t=>(Hi("data-v-18925ba6"),t=t(),Vi(),t),YX=UX(()=>j("div",{class:"vc-alpha-slider__bar-handle"},null,-1)),qX=[YX];function KX(t,e,n,i,r,o){return M(),D("div",{class:je(["vc-alpha-slider","transparent",{"small-slider":t.size==="small"}])},[j("div",{ref:"barElement",class:"vc-alpha-slider__bar",style:gt(t.getBackgroundStyle),onClick:e[0]||(e[0]=(...s)=>t.onClickSider&&t.onClickSider(...s))},[j("div",{class:je(["vc-alpha-slider__bar-pointer",{"small-bar":t.size==="small"}]),ref:"cursorElement",style:gt(t.getCursorStyle)},qX,6)],4)],2)}var U1=ji(WX,[["render",KX],["__scopeId","data-v-18925ba6"]]);const GX=[["#fcc02e","#f67c01","#e64a19","#d81b43","#8e24aa","#512da7","#1f87e8","#008781","#05a045"],["#fed835","#fb8c00","#f5511e","#eb1d4e","#9c28b1","#5d35b0","#2097f3","#029688","#4cb050"],["#ffeb3c","#ffa727","#fe5722","#eb4165","#aa47bc","#673bb7","#42a5f6","#26a59a","#83c683"],["#fff176","#ffb74e","#ff8a66","#f1627e","#b968c7","#7986cc","#64b5f6","#80cbc4","#a5d6a7"],["#fff59c","#ffcc80","#ffab91","#fb879e","#cf93d9","#9ea8db","#90caf8","#b2dfdc","#c8e6ca"],["transparent","#ffffff","#dedede","#a9a9a9","#4b4b4b","#353535","#212121","#000000","advance"]],XX=$e({name:"Palette",emits:["change"],setup(t,{emit:e}){return{palettes:GX,computedBgStyle:r=>r==="transparent"?r:r==="advance"?{}:{background:me(r).toRgbString()},onColorChange:r=>{e("change",r)}}}}),JX={class:"vc-compact"},QX=["onClick"];function ZX(t,e,n,i,r,o){return M(),D("div",JX,[(M(!0),D(de,null,He(t.palettes,(s,a)=>(M(),D("div",{key:a,class:"vc-compact__row"},[(M(!0),D(de,null,He(s,(l,c)=>(M(),D("div",{key:c,class:"vc-compact__color-cube--wrap",onClick:u=>t.onColorChange(l)},[j("div",{class:je(["vc-compact__color_cube",{advance:l==="advance",transparent:l==="transparent"}]),style:gt(t.computedBgStyle(l))},null,6)],8,QX))),128))]))),128))])}var zT=ji(XX,[["render",ZX],["__scopeId","data-v-b969fd48"]]);const eJ=$e({name:"Board",props:{color:Ye.instanceOf(zt),round:Ye.bool.def(!1),hide:Ye.bool.def(!0)},emits:["change"],setup(t,{emit:e}){var n,i,r;const o=Su(),s={h:((n=t.color)==null?void 0:n.hue)||0,s:1,v:1},a=new zt(s).toHexString(),l=qt({hueColor:a,saturation:((i=t.color)==null?void 0:i.saturation)||0,brightness:((r=t.color)==null?void 0:r.brightness)||0}),c=te(0),u=te(0),f=te(),h=te(),d=Z(()=>({top:c.value+"px",left:u.value+"px"})),p=()=>{if(o){const m=o.vnode.el;u.value=l.saturation*(m==null?void 0:m.clientWidth),c.value=(1-l.brightness)*(m==null?void 0:m.clientHeight)}},g=m=>{m.target!==h.value&&y(m)},y=m=>{if(o){const b=o.vnode.el,_=b==null?void 0:b.getBoundingClientRect();let w=m.clientX-_.left,S=m.clientY-_.top;w=jm(w,0,_.width),S=jm(S,0,_.height);const A=w/_.width,x=jm(-(S/_.height)+1,0,1);u.value=w,c.value=S,l.saturation=A,l.brightness=x,e("change",A,x)}};return Cl(()=>{o&&o.vnode.el&&f.value&&(tl.triggerDragEvent(f.value,{drag:m=>{y(m)},end:m=>{y(m)}}),p())}),Dn(()=>t.color,m=>{pg(l,{hueColor:new zt({h:m.hue,s:1,v:1}).toHexString(),saturation:m.saturation,brightness:m.brightness}),p()},{deep:!0}),{state:l,cursorElement:f,getCursorStyle:d,onClickBoard:g}}}),Y1=t=>(Hi("data-v-63803390"),t=t(),Vi(),t),tJ=Y1(()=>j("div",{class:"vc-saturation__white"},null,-1)),nJ=Y1(()=>j("div",{class:"vc-saturation__black"},null,-1)),iJ=Y1(()=>j("div",null,null,-1)),rJ=[iJ];function oJ(t,e,n,i,r,o){return M(),D("div",{ref:"boardElement",class:je(["vc-saturation",{"vc-saturation__chrome":t.round,"vc-saturation__hidden":t.hide}]),style:gt({backgroundColor:t.state.hueColor}),onClick:e[0]||(e[0]=(...s)=>t.onClickBoard&&t.onClickBoard(...s))},[tJ,nJ,j("div",{class:"vc-saturation__cursor",ref:"cursorElement",style:gt(t.getCursorStyle)},rJ,4)],6)}var q1=ji(eJ,[["render",oJ],["__scopeId","data-v-63803390"]]);const sJ=$e({name:"Hue",props:{color:Ye.instanceOf(zt),size:Ye.oneOf(["small","default"]).def("default")},emits:["change"],setup(t,{emit:e}){const n=te(null),i=te(null);let r=t.color||new zt;const o=qt({hue:r.hue||0});mt(()=>t.color,u=>{u&&(r=u,pg(o,{hue:r.hue}))},{deep:!0});const s=()=>{if(n.value&&i.value){const u=n.value.getBoundingClientRect(),f=i.value.offsetWidth;return o.hue===360?u.width-f/2:o.hue%360*(u.width-f)/360+f/2}return 0},a=Z(()=>({left:s()+"px",top:0})),l=u=>{u.target!==n.value&&c(u)},c=u=>{if(u.stopPropagation(),n.value&&i.value){const f=n.value.getBoundingClientRect(),h=i.value.offsetWidth;let d=u.clientX-f.left;d=Math.min(d,f.width-h/2),d=Math.max(h/2,d);const p=Math.round((d-h/2)/(f.width-h)*360);r.hue=p,o.hue=p,e("change",p)}};return Cl(()=>{const u={drag:f=>{c(f)},end:f=>{c(f)}};n.value&&i.value&&tl.triggerDragEvent(n.value,u)}),{barElement:n,cursorElement:i,getCursorStyle:a,onClickSider:l}}}),aJ=t=>(Hi("data-v-5c4cae5b"),t=t(),Vi(),t),lJ=aJ(()=>j("div",{class:"vc-hue-slider__bar-handle"},null,-1)),cJ=[lJ];function uJ(t,e,n,i,r,o){return M(),D("div",{class:je(["vc-hue-slider",{"small-slider":t.size==="small"}])},[j("div",{ref:"barElement",class:"vc-hue-slider__bar",onClick:e[0]||(e[0]=(...s)=>t.onClickSider&&t.onClickSider(...s))},[j("div",{class:je(["vc-hue-slider__bar-pointer",{"small-bar":t.size==="small"}]),ref:"cursorElement",style:gt(t.getCursorStyle)},cJ,6)],512)],2)}var K1=ji(sJ,[["render",uJ],["__scopeId","data-v-5c4cae5b"]]);const fJ=$e({name:"Lightness",props:{color:Ye.instanceOf(zt),size:Ye.oneOf(["small","default"]).def("default")},emits:["change"],setup(t,{emit:e}){const n=te(null),i=te(null);let r=t.color||new zt;const[o,s,a]=r.HSL,l=qt({hue:o,saturation:s,lightness:a});mt(()=>t.color,p=>{if(p){r=p;const[g,y,m]=r.HSL;pg(l,{hue:g,saturation:y,lightness:m})}},{deep:!0});const c=Z(()=>{const p=me({h:l.hue,s:l.saturation,l:.8}).toPercentageRgbString(),g=me({h:l.hue,s:l.saturation,l:.6}).toPercentageRgbString(),y=me({h:l.hue,s:l.saturation,l:.4}).toPercentageRgbString(),m=me({h:l.hue,s:l.saturation,l:.2}).toPercentageRgbString();return{background:[`-webkit-linear-gradient(left, rgb(255, 255, 255), ${p}, ${g}, ${y}, ${m}, rgb(0, 0, 0))`,`-moz-linear-gradient(left, rgb(255, 255, 255), ${p}, ${g}, ${y}, ${m}, rgb(0, 0, 0))`,`-ms-linear-gradient(left, rgb(255, 255, 255), ${p}, ${g}, ${y}, ${m}, rgb(0, 0, 0))`]}}),u=()=>{if(n.value&&i.value){const p=l.lightness,g=n.value.getBoundingClientRect(),y=i.value.offsetWidth;return(1-p)*(g.width-y)+y/2}return 0},f=Z(()=>({left:u()+"px",top:0})),h=p=>{p.target!==n.value&&d(p)},d=p=>{if(p.stopPropagation(),n.value&&i.value){const g=n.value.getBoundingClientRect(),y=i.value.offsetWidth;let m=p.clientX-g.left;m=Math.max(y/2,m),m=Math.min(m,g.width-y/2);const b=1-(m-y/2)/(g.width-y);r.lightness=b,e("change",b)}};return Cl(()=>{const p={drag:g=>{d(g)},end:g=>{d(g)}};n.value&&i.value&&tl.triggerDragEvent(n.value,p)}),{barElement:n,cursorElement:i,getCursorStyle:f,getBackgroundStyle:c,onClickSider:h}}}),hJ=t=>(Hi("data-v-6156acb7"),t=t(),Vi(),t),dJ=hJ(()=>j("div",{class:"vc-lightness-slider__bar-handle"},null,-1)),pJ=[dJ];function gJ(t,e,n,i,r,o){return M(),D("div",{class:je(["vc-lightness-slider",{"small-slider":t.size==="small"}])},[j("div",{ref:"barElement",class:"vc-lightness-slider__bar",style:gt(t.getBackgroundStyle),onClick:e[0]||(e[0]=(...s)=>t.onClickSider&&t.onClickSider(...s))},[j("div",{class:je(["vc-lightness-slider__bar-pointer",{"small-bar":t.size==="small"}]),ref:"cursorElement",style:gt(t.getCursorStyle)},pJ,6)],4)],2)}var WT=ji(fJ,[["render",gJ],["__scopeId","data-v-6156acb7"]]);const mJ=$e({name:"History",props:{colors:Ye.arrayOf(String).def(()=>[]),round:Ye.bool.def(!1)},emits:["change"],setup(t,{emit:e}){return{onColorSelect:i=>{e("change",i)}}}}),yJ={key:0,class:"vc-colorPicker__record"},vJ={class:"color-list"},bJ=["onClick"];function _J(t,e,n,i,r,o){return t.colors&&t.colors.length>0?(M(),D("div",yJ,[j("div",vJ,[(M(!0),D(de,null,He(t.colors,(s,a)=>(M(),D("div",{key:a,class:je(["color-item","transparent",{"color-item__round":t.round}]),onClick:l=>t.onColorSelect(s)},[j("div",{class:"color-item__display",style:gt({backgroundColor:s})},null,4)],10,bJ))),128))])])):U("",!0)}var G1=ji(mJ,[["render",_J],["__scopeId","data-v-7e6b67ca"]]);const wJ=$e({name:"Display",props:{color:Ye.instanceOf(zt),disableAlpha:Ye.bool.def(!1)},emits:["update:color","change"],setup(t,{emit:e}){var n,i,r;const o=qt({color:t.color,previewBgColor:(n=t.color)==null?void 0:n.toRgbString(),alpha:((i=t.color)==null?void 0:i.alpha)||100,hex:(r=t.color)==null?void 0:r.hex}),s=Z(()=>({background:o.previewBgColor})),a=c=>{const u=c.target,f=parseInt(u.value.replace("%",""));!isNaN(f)&&o.color&&(o.alpha=f,o.color.alpha=f)},l=c=>{const f=c.target.value.replace("#","");me(f).isValid()&&o.color&&(o.color.hex=f)};return Dn(()=>t.color,c=>{c&&(o.color=c)},{deep:!0}),Dn(()=>o.color,()=>{o.color&&(o.previewBgColor=o.color.toRgbString(),o.alpha=o.color.alpha,o.hex=o.color.hex,e("update:color",o.color),e("change",o.color))},{deep:!0}),{state:o,getBgColorStyle:s,onAlphaBlur:a,onInputChange:l}}}),xJ={class:"vc-display"},SJ={class:"vc-current-color vc-transparent"},kJ={class:"vc-color-input"},CJ=["value"],OJ={key:0,class:"vc-alpha-input"},MJ=["value"];function AJ(t,e,n,i,r,o){return M(),D("div",xJ,[j("div",SJ,[j("div",{class:"color-cube",style:gt(t.getBgColorStyle)},null,4)]),j("div",kJ,[j("input",{value:t.state.hex,onBlur:e[0]||(e[0]=(...s)=>t.onInputChange&&t.onInputChange(...s))},null,40,CJ)]),t.disableAlpha?U("",!0):(M(),D("div",OJ,[j("input",{class:"vc-alpha-input__inner",value:t.state.alpha+"%",onBlur:e[1]||(e[1]=(...s)=>t.onAlphaBlur&&t.onAlphaBlur(...s))},null,40,MJ)]))])}var X1=ji(wJ,[["render",AJ],["__scopeId","data-v-0067da1d"]]);const PJ=$e({name:"FkColorPicker",components:{Display:X1,Alpha:U1,Palette:zT,Board:q1,Hue:K1,Lightness:WT,History:G1},props:{color:Ye.instanceOf(zt),disableHistory:Ye.bool.def(!1),roundHistory:Ye.bool.def(!1),disableAlpha:Ye.bool.def(!1)},emits:["update:color","change","advanceChange"],setup(t,{emit:e}){const n=t.color||new zt,i=qt({color:n,hex:n.toHexString(),rgb:n.toRgbString()}),r=te(!1),o=Z(()=>({background:i.rgb})),s=()=>{r.value=!1,e("advanceChange",!1)},a=p1(z1,[],{}),l=d1(()=>{if(t.disableHistory)return;const g=i.color.toRgbString();if(a.value=a.value.filter(y=>!me.equals(y,g)),!a.value.includes(g)){for(;a.value.length>W1;)a.value.pop();a.value.unshift(g)}},500),c=g=>{g==="advance"?(r.value=!0,e("advanceChange",!0)):(i.color.hex=g,e("advanceChange",!1))},u=g=>{i.color.alpha=g},f=g=>{i.color.hue=g},h=(g,y)=>{i.color.saturation=g,i.color.brightness=y},d=g=>{i.color.lightness=g},p=g=>{const m=g.target.value.replace("#","");me(m).isValid()&&(i.color.hex=m)};return Dn(()=>t.color,g=>{g&&(i.color=g)},{deep:!0}),Dn(()=>i.color,()=>{i.hex=i.color.hex,i.rgb=i.color.toRgbString(),l(),e("update:color",i.color),e("change",i.color)},{deep:!0}),{state:i,advancePanelShow:r,onBack:s,onCompactChange:c,onAlphaChange:u,onHueChange:f,onBoardChange:h,onLightChange:d,onInputChange:p,previewStyle:o,historyColors:a}}}),TJ=t=>(Hi("data-v-592a5ec3"),t=t(),Vi(),t),DJ={class:"vc-fk-colorPicker"},$J={class:"vc-fk-colorPicker__inner"},RJ={class:"vc-fk-colorPicker__header"},EJ=TJ(()=>j("div",{class:"back"},null,-1)),IJ=[EJ];function LJ(t,e,n,i,r,o){const s=kt("Palette"),a=kt("Board"),l=kt("Hue"),c=kt("Lightness"),u=kt("Alpha"),f=kt("Display"),h=kt("History");return M(),D("div",DJ,[j("div",$J,[j("div",RJ,[t.advancePanelShow?(M(),D("span",{key:0,style:{cursor:"pointer"},onClick:e[0]||(e[0]=(...d)=>t.onBack&&t.onBack(...d))},IJ)):U("",!0)]),t.advancePanelShow?U("",!0):(M(),ye(s,{key:0,onChange:t.onCompactChange},null,8,["onChange"])),t.advancePanelShow?(M(),ye(a,{key:1,color:t.state.color,onChange:t.onBoardChange},null,8,["color","onChange"])):U("",!0),t.advancePanelShow?(M(),ye(l,{key:2,color:t.state.color,onChange:t.onHueChange},null,8,["color","onChange"])):U("",!0),t.advancePanelShow?U("",!0):(M(),ye(c,{key:3,color:t.state.color,onChange:t.onLightChange},null,8,["color","onChange"])),t.disableAlpha?U("",!0):(M(),ye(u,{key:4,color:t.state.color,onChange:t.onAlphaChange},null,8,["color","onChange"])),Ae(f,{color:t.state.color,"disable-alpha":t.disableAlpha},null,8,["color","disable-alpha"]),t.disableHistory?U("",!0):(M(),ye(h,{key:5,round:t.roundHistory,colors:t.historyColors,onChange:t.onCompactChange},null,8,["round","colors","onChange"]))])])}var pC=ji(PJ,[["render",LJ],["__scopeId","data-v-592a5ec3"]]);const NJ=$e({name:"ChromeColorPicker",components:{Display:X1,Alpha:U1,Board:q1,Hue:K1,History:G1},props:{color:Ye.instanceOf(zt),disableHistory:Ye.bool.def(!1),roundHistory:Ye.bool.def(!1),disableAlpha:Ye.bool.def(!1)},emits:["update:color","change"],setup(t,{emit:e}){const n=t.color||new zt,i=qt({color:n,hex:n.toHexString(),rgb:n.toRgbString()}),r=Z(()=>({background:i.rgb})),o=p1(z1,[],{}),s=d1(()=>{if(t.disableHistory)return;const f=i.color.toRgbString();if(o.value=o.value.filter(h=>!me.equals(h,f)),!o.value.includes(f)){for(;o.value.length>W1;)o.value.pop();o.value.unshift(f)}},500),a=f=>{i.color.alpha=f},l=f=>{i.color.hue=f},c=(f,h)=>{i.color.saturation=f,i.color.brightness=h},u=f=>{f!=="advance"&&(i.color.hex=f)};return Dn(()=>t.color,f=>{f&&(i.color=f)},{deep:!0}),Dn(()=>i.color,()=>{i.hex=i.color.hex,i.rgb=i.color.toRgbString(),s(),e("update:color",i.color),e("change",i.color)},{deep:!0}),{state:i,previewStyle:r,historyColors:o,onAlphaChange:a,onHueChange:l,onBoardChange:c,onCompactChange:u}}}),BJ={class:"vc-chrome-colorPicker"},FJ={class:"vc-chrome-colorPicker-body"},HJ={class:"chrome-controls"},VJ={class:"chrome-color-wrap transparent"},jJ={class:"chrome-sliders"};function zJ(t,e,n,i,r,o){const s=kt("Board"),a=kt("Hue"),l=kt("Alpha"),c=kt("Display"),u=kt("History");return M(),D("div",BJ,[Ae(s,{round:!0,hide:!1,color:t.state.color,onChange:t.onBoardChange},null,8,["color","onChange"]),j("div",FJ,[j("div",HJ,[j("div",VJ,[j("div",{class:"current-color",style:gt(t.previewStyle)},null,4)]),j("div",jJ,[Ae(a,{size:"small",color:t.state.color,onChange:t.onHueChange},null,8,["color","onChange"]),t.disableAlpha?U("",!0):(M(),ye(l,{key:0,size:"small",color:t.state.color,onChange:t.onAlphaChange},null,8,["color","onChange"]))])]),Ae(c,{color:t.state.color,"disable-alpha":t.disableAlpha},null,8,["color","disable-alpha"]),t.disableHistory?U("",!0):(M(),ye(u,{key:0,round:t.roundHistory,colors:t.historyColors,onChange:t.onCompactChange},null,8,["round","colors","onChange"]))])])}var gC=ji(NJ,[["render",zJ],["__scopeId","data-v-61d7303b"]]);const J1="Vue3ColorPickerProvider",WJ=$e({name:"GradientColorPicker",components:{Angle:TG,Display:X1,Alpha:U1,Palette:zT,Board:q1,Hue:K1,Lightness:WT,History:G1},props:{startColor:Ye.instanceOf(zt).isRequired,endColor:Ye.instanceOf(zt).isRequired,startColorStop:Ye.number.def(0),endColorStop:Ye.number.def(100),angle:Ye.number.def(0),disableHistory:Ye.bool.def(!1),roundHistory:Ye.bool.def(!1),disableAlpha:Ye.bool.def(!1)},emits:["update:startColor","update:endColor","update:angle","update:startColorStop","update:endColorStop","startColorChange","endColorChange","advanceChange","angleChange","startColorStopChange","endColorStopChange"],setup(t,{emit:e}){const n=qt({startActive:!0,startColor:t.startColor,endColor:t.endColor,startColorStop:t.startColorStop,endColorStop:t.endColorStop,angle:t.angle,startColorRgba:t.startColor.toRgbString(),endColorRgba:t.endColor.toRgbString()}),i=mi(J1),r=te(!1),o=te(),s=te(),a=te(),l=Z({get:()=>n.startActive?n.startColor:n.endColor,set:P=>{if(n.startActive){n.startColor=P;return}n.endColor=P}}),c=Z(()=>{if(a.value&&o.value){const P=n.startColorStop/100,E=a.value.getBoundingClientRect(),I=o.value.offsetWidth;return Math.round(P*(E.width-I)+I/2)}return 0}),u=Z(()=>{if(a.value&&s.value){const P=n.endColorStop/100,E=a.value.getBoundingClientRect(),I=s.value.offsetWidth;return Math.round(P*(E.width-I)+I/2)}return 0}),f=Z(()=>({background:`linear-gradient(${n.angle}deg, ${n.startColorRgba} ${n.startColorStop}%, ${n.endColorRgba} ${n.endColorStop}%)`})),h=P=>{var E;if(n.startActive=!0,a.value&&o.value){const I=(E=a.value)==null?void 0:E.getBoundingClientRect();let B=P.clientX-I.left;B=Math.max(o.value.offsetWidth/2,B),B=Math.min(B,I.width-o.value.offsetWidth/2),n.startColorStop=Math.round((B-o.value.offsetWidth/2)/(I.width-o.value.offsetWidth)*100),e("update:startColorStop",n.startColorStop),e("startColorStopChange",n.startColorStop)}},d=P=>{var E;if(n.startActive=!1,a.value&&s.value){const I=(E=a.value)==null?void 0:E.getBoundingClientRect();let B=P.clientX-I.left;B=Math.max(s.value.offsetWidth/2,B),B=Math.min(B,I.width-s.value.offsetWidth/2),n.endColorStop=Math.round((B-s.value.offsetWidth/2)/(I.width-s.value.offsetWidth)*100),e("update:endColorStop",n.endColorStop),e("endColorStopChange",n.endColorStop)}},p=P=>{const E=P.target,I=parseInt(E.value.replace("",""));isNaN(I)||(n.angle=I%360),e("update:angle",n.angle),e("angleChange",n.angle)},g=P=>{n.angle=P,e("update:angle",n.angle),e("angleChange",n.angle)},y=P=>{P==="advance"?(r.value=!0,e("advanceChange",!0)):(l.value.hex=P,e("advanceChange",!1)),S()},m=P=>{l.value.alpha=P,S()},b=P=>{l.value.hue=P,S()},_=(P,E)=>{l.value.saturation=P,l.value.brightness=E,S()},w=P=>{l.value.lightness=P,S()},S=()=>{n.startActive?(e("update:startColor",n.startColor),e("startColorChange",n.startColor)):(e("update:endColor",n.endColor),e("endColorChange",n.endColor))},A=()=>{r.value=!1,e("advanceChange",!1)},x=p1(z1,[],{}),k=d1(()=>{if(t.disableHistory)return;const P=l.value.toRgbString();if(x.value=x.value.filter(E=>!me.equals(E,P)),!x.value.includes(P)){for(;x.value.length>W1;)x.value.pop();x.value.unshift(P)}},500);return Cl(()=>{s.value&&o.value&&(tl.triggerDragEvent(s.value,{drag:P=>{d(P)},end:P=>{d(P)}}),tl.triggerDragEvent(o.value,{drag:P=>{h(P)},end:P=>{h(P)}}))}),Dn(()=>n.startColor,P=>{n.startColorRgba=P.toRgbString()},{deep:!0}),Dn(()=>n.endColor,P=>{n.endColorRgba=P.toRgbString()},{deep:!0}),Dn(()=>l.value,()=>{k()},{deep:!0}),{startGradientRef:o,stopGradientRef:s,colorRangeRef:a,state:n,currentColor:l,getStartColorLeft:c,getEndColorLeft:u,gradientBg:f,advancePanelShow:r,onDegreeBlur:p,onCompactChange:y,onAlphaChange:m,onHueChange:b,onBoardChange:_,onLightChange:w,historyColors:x,onBack:A,onDegreeChange:g,lang:i==null?void 0:i.lang}}}),Q1=t=>(Hi("data-v-f63daa7a"),t=t(),Vi(),t),UJ={class:"vc-gradient-picker"},YJ={class:"vc-gradient-picker__header"},qJ=Q1(()=>j("div",{class:"back"},null,-1)),KJ=[qJ],GJ={class:"vc-gradient-picker__body"},XJ={class:"vc-color-range",ref:"colorRangeRef"},JJ={class:"vc-color-range__container"},QJ={class:"vc-gradient__stop__container"},ZJ=["title"],eQ=Q1(()=>j("span",{class:"vc-gradient__stop--inner"},null,-1)),tQ=[eQ],nQ=["title"],iQ=Q1(()=>j("span",{class:"vc-gradient__stop--inner"},null,-1)),rQ=[iQ],oQ={class:"vc-picker-degree-input vc-degree-input"},sQ={class:"vc-degree-input__control"},aQ=["value"],lQ={class:"vc-degree-input__panel"},cQ={class:"vc-degree-input__disk"};function uQ(t,e,n,i,r,o){const s=kt("Angle"),a=kt("Palette"),l=kt("Board"),c=kt("Hue"),u=kt("Lightness"),f=kt("Alpha"),h=kt("Display"),d=kt("History");return M(),D("div",UJ,[$t(j("div",YJ,[j("span",{style:{cursor:"pointer"},onClick:e[0]||(e[0]=(...p)=>t.onBack&&t.onBack(...p))},KJ)],512),[[Ra,t.advancePanelShow]]),j("div",GJ,[j("div",XJ,[j("div",JJ,[j("div",{class:"vc-background",style:gt(t.gradientBg)},null,4),j("div",QJ,[j("div",{class:je(["vc-gradient__stop",{"vc-gradient__stop--current":t.state.startActive}]),ref:"startGradientRef",title:t.lang==="ZH-cn"?"":"Start",style:gt({left:t.getStartColorLeft+"px"})},tQ,14,ZJ),j("div",{class:je(["vc-gradient__stop",{"vc-gradient__stop--current":!t.state.startActive}]),ref:"stopGradientRef",title:t.lang==="ZH-cn"?"":"End",style:gt({left:t.getEndColorLeft+"px"})},rQ,14,nQ)])])],512),j("div",oQ,[j("div",sQ,[j("input",{value:t.state.angle,onBlur:e[1]||(e[1]=(...p)=>t.onDegreeBlur&&t.onDegreeBlur(...p))},null,40,aQ)]),j("div",lQ,[j("div",cQ,[Ae(s,{angle:t.state.angle,"onUpdate:angle":e[2]||(e[2]=p=>t.state.angle=p),size:40,onChange:t.onDegreeChange},null,8,["angle","onChange"])])])])]),t.advancePanelShow?U("",!0):(M(),ye(a,{key:0,onChange:t.onCompactChange},null,8,["onChange"])),t.advancePanelShow?(M(),ye(l,{key:1,color:t.currentColor,onChange:t.onBoardChange},null,8,["color","onChange"])):U("",!0),t.advancePanelShow?(M(),ye(c,{key:2,color:t.currentColor,onChange:t.onHueChange},null,8,["color","onChange"])):U("",!0),t.advancePanelShow?U("",!0):(M(),ye(u,{key:3,color:t.currentColor,onChange:t.onLightChange},null,8,["color","onChange"])),t.disableAlpha?U("",!0):(M(),ye(f,{key:4,color:t.currentColor,onChange:t.onAlphaChange},null,8,["color","onChange"])),Ae(h,{color:t.currentColor,"disable-alpha":t.disableAlpha},null,8,["color","disable-alpha"]),t.disableHistory?U("",!0):(M(),ye(d,{key:5,round:t.roundHistory,colors:t.historyColors,onChange:t.onCompactChange},null,8,["round","colors","onChange"]))])}var mC=ji(WJ,[["render",uQ],["__scopeId","data-v-f63daa7a"]]);const fQ=$e({name:"WrapContainer",props:{showTab:Ye.bool.def(!1),activeKey:Ye.oneOf(["pure","gradient"]).def("pure")},emits:["update:activeKey","change"],setup(t,{emit:e}){const n=qt({activeKey:t.activeKey}),i=mi(J1),r=o=>{n.activeKey=o,e("update:activeKey",o),e("change",o)};return Dn(()=>t.activeKey,o=>{n.activeKey=o}),{state:n,onActiveKeyChange:r,lang:i==null?void 0:i.lang}}}),hQ={class:"vc-colorpicker"},dQ={class:"vc-colorpicker--container"},pQ={key:0,class:"vc-colorpicker--tabs"},gQ={class:"vc-colorpicker--tabs__inner"},mQ={class:"vc-btn__content"},yQ={class:"vc-btn__content"};function vQ(t,e,n,i,r,o){return M(),D("div",hQ,[j("div",dQ,[t.showTab?(M(),D("div",pQ,[j("div",gQ,[j("div",{class:je(["vc-colorpicker--tabs__btn",{"vc-btn-active":t.state.activeKey==="pure"}]),onClick:e[0]||(e[0]=s=>t.onActiveKeyChange("pure"))},[j("button",null,[j("div",mQ,ve(t.lang==="ZH-cn"?"":"Pure"),1)])],2),j("div",{class:je(["vc-colorpicker--tabs__btn",{"vc-btn-active":t.state.activeKey==="gradient"}]),onClick:e[1]||(e[1]=s=>t.onActiveKeyChange("gradient"))},[j("button",null,[j("div",yQ,ve(t.lang==="ZH-cn"?"":"Gradient"),1)])],2),j("div",{class:"vc-colorpicker--tabs__bg",style:gt({width:"50%",left:`calc(${t.state.activeKey==="gradient"?50:0}%)`})},null,4)])])):U("",!0),ke(t.$slots,"default",{},void 0,!0)])])}var bQ=ji(fQ,[["render",vQ],["__scopeId","data-v-4afdf3bb"]]);const _Q={isWidget:Ye.bool.def(!1),pickerType:Ye.oneOf(["fk","chrome"]).def("fk"),shape:Ye.oneOf(["circle","square"]).def("square"),pureColor:{type:[String,Object],default:"#000000"},gradientColor:Ye.string.def("#000"),format:{type:String,default:"rgb"},disableAlpha:Ye.bool.def(!1),disableHistory:Ye.bool.def(!1),roundHistory:Ye.bool.def(!1),useType:Ye.oneOf(["pure","gradient","both"]).def("pure"),activeKey:Ye.oneOf(["pure","gradient"]).def("pure"),lang:{type:String,default:"ZH-cn"},zIndex:Ye.number.def(9999)},wQ=$e({name:"ColorPicker",components:{FkColorPicker:pC,ChromeColorPicker:gC,GradientColorPicker:mC,WrapContainer:bQ},inheritAttrs:!1,props:_Q,emits:["update:pureColor","pureColorChange","update:gradientColor","gradientColorChange","update:activeKey","activeKeyChange"],setup(t,{emit:e}){const n=qt({pureColor:t.pureColor||"",activeKey:t.useType==="gradient"?"gradient":"pure",isAdvanceMode:!1});mc(J1,{lang:Z(()=>t.lang||"ZH-cn")});const i=new zt(n.pureColor),r=te(i),o=new zt("#000"),s=new zt("#000"),a=qt({startColor:o,endColor:s,startColorStop:0,endColorStop:100,angle:0,gradientColor:t.gradientColor}),l=te(!1),c=te(null),u=te(null),f=Z(()=>({background:n.activeKey!=="gradient"?me(n.pureColor).toRgbString():a.gradientColor})),h=Z(()=>n.activeKey==="gradient"?mC.name:t.pickerType==="fk"?pC.name:gC.name),d=Z(()=>n.activeKey==="gradient"?{startColor:a.startColor,endColor:a.endColor,onStartColorChange:k=>{a.startColor=k,b()},onEndColorChange:k=>{a.endColor=k,b()},angle:a.angle,startColorStop:a.startColorStop,endColorStop:a.endColorStop,onStartColorStopChange:k=>{a.startColorStop=k,b()},onEndColorStopChange:k=>{a.endColorStop=k,b()},onAngleChange:k=>{a.angle=k,b()},onAdvanceChange:k=>{n.isAdvanceMode=k}}:{disableAlpha:t.disableAlpha,disableHistory:t.disableHistory,roundHistory:t.roundHistory,color:r.value,onChange:S,onAdvanceChange:p}),p=k=>{n.isAdvanceMode=k},g=()=>{l.value=!0},y=()=>{l.value=!1},m=()=>{var k,P,E,I;try{const[B]=NX(a.gradientColor);if(B&&B.type==="linear-gradient"&&((k=B.orientation)==null?void 0:k.type)==="angular"&&B.colorStops.length>=2){const J=B.colorStops[0],ee=B.colorStops[1];a.startColorStop=Number((P=J.length)==null?void 0:P.value)||0,a.endColorStop=Number((E=ee.length)==null?void 0:E.value)||0,a.angle=Number((I=B.orientation)==null?void 0:I.value)||0;const[F,z,v,$]=J.value,[W,Y,Q,ce]=J.value;a.startColor=new zt({r:Number(F),g:Number(z),b:Number(v),a:Number($)}),a.startColor=new zt({r:Number(W),g:Number(Y),b:Number(Q),a:Number(ce)})}}catch(B){console.log(`[Parse Color]: ${B}`)}},b=()=>{const k=_();try{a.gradientColor=BX(k),e("update:gradientColor",a.gradientColor),e("gradientColorChange",a.gradientColor)}catch(P){console.log(P)}},_=()=>{const k=[],P=a.startColor.RGB.map(I=>I.toString()),E=a.endColor.RGB.map(I=>I.toString());return k.push({type:"linear-gradient",orientation:{type:"angular",value:a.angle+""},colorStops:[{type:"rgba",value:[P[0],P[1],P[2],P[3]],length:{value:a.startColorStop+"",type:"%"}},{type:"rgba",value:[E[0],E[1],E[2],E[3]],length:{value:a.endColorStop+"",type:"%"}}]}),k},w=()=>{c.value&&u.value&&LX(c.value,u.value,{placement:"auto",modifiers:[{name:"flip",options:{fallbackPlacements:["top","left"]}}]})},S=k=>{r.value=k,n.pureColor=k.toString(t.format),A()},A=()=>{e("update:pureColor",n.pureColor),e("pureColorChange",n.pureColor)};bW(u,()=>{y()});const x=k=>{n.activeKey=k,e("update:activeKey",k),e("activeKeyChange",k)};return Cl(()=>{w(),A(),m(),b()}),Dn(()=>t.gradientColor,k=>{k!=a.gradientColor&&(a.gradientColor=k)}),Dn(()=>a.gradientColor,()=>{m()}),Dn(()=>t.activeKey,k=>{n.activeKey=k}),Dn(()=>t.useType,k=>{n.activeKey!=="gradient"&&k==="gradient"?n.activeKey="gradient":n.activeKey="pure"}),Dn(()=>t.pureColor,k=>{me.equals(k,n.pureColor)||(n.pureColor=k,r.value=new zt(k),A())},{deep:!0}),{colorCubeRef:c,pickerRef:u,showPicker:l,colorInstance:r,getBgColorStyle:f,onColorChange:S,onShowPicker:g,onActiveKeyChange:x,getComponentName:h,getBindArgs:d,state:n}}});function xQ(t,e,n,i,r,o){const s=kt("WrapContainer");return M(),D(de,null,[t.isWidget?U("",!0):(M(),D("div",{key:0,class:je(["vc-color-wrap","transparent",{round:t.shape==="circle"}]),ref:"colorCubeRef"},[j("div",{class:"current-color",style:gt(t.getBgColorStyle),onClick:e[0]||(e[0]=(...a)=>t.onShowPicker&&t.onShowPicker(...a))},null,4)],2)),t.isWidget?(M(),ye(s,{key:1,"active-key":t.state.activeKey,"onUpdate:active-key":e[1]||(e[1]=a=>t.state.activeKey=a),"show-tab":t.useType==="both",onChange:t.onActiveKeyChange,style:gt({zIndex:t.zIndex})},{default:Fe(()=>[(M(),ye($a(t.getComponentName),nn({key:t.getComponentName},t.getBindArgs),null,16))]),_:1},8,["active-key","show-tab","onChange","style"])):U("",!0),t.isWidget?U("",!0):(M(),ye(lP,{key:2,to:"body"},[$t(j("div",{ref:"pickerRef",style:gt({zIndex:t.zIndex})},[t.showPicker?(M(),ye(s,{key:0,"show-tab":t.useType==="both"&&!t.state.isAdvanceMode,"active-key":t.state.activeKey,"onUpdate:active-key":e[2]||(e[2]=a=>t.state.activeKey=a),onChange:t.onActiveKeyChange},{default:Fe(()=>[(M(),ye($a(t.getComponentName),nn({key:t.getComponentName},t.getBindArgs),null,16))]),_:1},8,["show-tab","active-key","onChange"])):U("",!0)],4),[[Ra,t.showPicker]])]))],64)}var SQ=ji(wQ,[["render",xQ],["__scopeId","data-v-0aa3a75d"]]);async function kQ(){return await lo("/v1/organizations")}const CQ={list:kQ},oa=_P("organization",()=>{const t=te(null);async function e(){t.value=await CQ.list()}return{organizations:t,FETCH_ORGANIZATIONS:e}}),Tl=t=>(Hi("data-v-99708eeb"),t=t(),Vi(),t),OQ={class:"box"},MQ={class:"mb-1 mt-2"},AQ={key:0},PQ={class:"text-center"},TQ={class:"text-center"},DQ={key:1,class:"mt-2"},$Q={key:0,class:"text-lg mr-1"},RQ=Tl(()=>j("option",{value:""},null,-1)),EQ=["value"],IQ={key:2,class:"text-sm"},LQ={key:2,class:"mt-2"},NQ={key:0},BQ={key:0,value:""},FQ=["value"],HQ={key:2},VQ={key:3,class:"mt-2"},jQ=Tl(()=>j("span",{class:"text-lg"},"Configurations:",-1)),zQ={class:"flex flex-row text-sm"},WQ={class:"flex flex-col"},UQ={class:"flex flex-col ml-2"},YQ={key:0},qQ=["onUpdate:modelValue"],KQ=["onUpdate:modelValue"],GQ=["onUpdate:modelValue"],XQ=Tl(()=>j("option",{value:""},null,-1)),JQ=["value"],QQ={key:1},ZQ={key:2},eZ={key:4,class:"mt-2"},tZ=Tl(()=>j("p",{class:"text-xl"},"Integrations:",-1)),nZ={key:0},iZ={key:1,class:"flex flex-row"},rZ={class:"flex flex-col"},oZ=["onClickCapture"],sZ={key:0,class:"mb-2 slot color-picker"},aZ={key:1,class:"mb-2 slot"},lZ={class:"flex flex-col"},cZ=["onUpdate:modelValue"],uZ=Tl(()=>j("option",{value:""},null,-1)),fZ=["value"],hZ={key:1,class:"mr-5"},dZ={class:"flex flex-col"},pZ=["onUpdate:modelValue","onBlur"],gZ={key:1,class:"mr-5"},mZ={class:"flex flex-col"},yZ={key:0},vZ={key:1},bZ={class:"flex flex-col ml-2"},_Z={key:1},wZ={key:0,class:"flex justify-center pt-3"},xZ={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 loading"},SZ=Tl(()=>j("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"},null,-1)),kZ=[SZ],CZ={key:1,class:"float-right"},OZ=$e({__name:"IopUpload",props:{organizationId:null,collection:null,deviceId:null,editing:{type:Boolean}},setup(t){var ce;const e=t,n=oa(),i=te(!1),r=te(null),o=te(null),s=te(null),a=te(""),l=Z(()=>{var X;return(X=o.value)==null?void 0:X.find(L=>L.id===a.value)}),c=Z(()=>{var X;return e.editing&&(((X=l.value)==null?void 0:X.devicesCount)===1||a.value==="")}),u=te((ce=e.collection.compiler)==null?void 0:ce.target.id),f=Z(()=>{var X;return(X=r.value)==null?void 0:X.find(L=>L.id===u.value)}),h=X=>{var L;return(L=s.value)==null?void 0:L.find(O=>O.id===X)},d=X=>{var L;return(L=l.value)==null?void 0:L.sensors.find(O=>O.id===X)};function p(X){let L="";const O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let N=0;N<X;++N)L+=O.charAt(Math.floor(Math.random()*O.length));return L}function g(X,L){!c&&L.color===null&&(X.preventDefault(),X.stopPropagation())}function y(X){switch(X){case sr.SSID:return`iop-${p(10)}`;case sr.PSK:return p(20);case sr.Timezone:return`${-1*new Date().getTimezoneOffset()/60}`;default:throw new Error(`Invalid widget: ${X}`)}}function m(){return Math.floor(Math.random()*5e4)}function b(){var O;const X=((O=l.value)==null?void 0:O.sensors)??[];X.sort((N,V)=>N.index-V.index);const L=X.map(N=>({localPk:m(),prototypeId:N.prototype.id,alias:N.alias,color:N.color,sensorId:N.id}));return L.push({localPk:m(),prototypeId:"",alias:null,color:null,sensorId:null}),L}function _(){var L,O;const X=(L=l.value)==null?void 0:L.deviceConfigs.reduce((N,V)=>({...N,[V.requestId]:V.value}),{});return o.value&&X===void 0?((O=f.value)==null?void 0:O.configurationRequests.reduce((N,V)=>({...N,[V.id]:y(V.ty.widget)}),{}))??{}:X??{}}const w=te([]),S=te({}),A=te({}),x=Z(()=>Object.entries(w.value).flatMap(([X,L])=>{const O=h(L.prototypeId),N=(O==null?void 0:O.configurationRequests.map(()=>({localPk:m(),prototypeId:"",alias:null,color:null,sensorId:null})))??[];for(const V of(O==null?void 0:O.configurationRequests)??[]){const G=S.value[`${X}-${V.id}`];Array.isArray(G)&&G.slice(+!c.value).forEach(()=>{N.push({prototypeId:"",alias:null,color:null,sensorId:null,localPk:m()})})}return N[0]=L,N.map(V=>[X,V])})),k=Z(()=>Object.entries(w.value).flatMap(([X,L])=>{const O=h(L.prototypeId),N=[];O!=null&&O.configurationRequests.length||N.push({id:null});for(const V of(O==null?void 0:O.configurationRequests)??[]){N.push(V);const G=S.value[`${X}-${V.id}`];Array.isArray(G)&&G.slice(+!c.value).forEach(()=>{N.push({id:null})})}return N.map(V=>[X,V])})),P=Z(()=>Object.entries(w.value).flatMap(([X,L])=>{const O=h(L.prototypeId),N=[];O!=null&&O.configurationRequests.length||N.push({id:null});for(const V of(O==null?void 0:O.configurationRequests)??[])N.push(V);return N.map(V=>[X,V])})),E=()=>{const X=w.value.filter(L=>L.prototypeId==="").map((L,O)=>O);if(X.length>0){const L={...S.value};for(const[O,N]of Object.entries(L)){const V=Number(O.split("-")[0]),G=Number(O.split("-")[1]);if(delete S.value[`${V}-${G}`],!X.find(ae=>ae===V)){const ae=X.reduce((_e,xe)=>xe<V?_e+1:_e,0);S.value[`${V-ae}-${G}`]=N}}}w.value=w.value.filter(L=>L.prototypeId!==""),w.value.length===0&&w.value.push({localPk:m(),prototypeId:"",alias:null,color:null,sensorId:null})},I=X=>{const L=h(X);if(L){w.value[w.value.length-1].alias=L.name;for(const O of L.configurationRequests){const N=`${w.value.length-1}-${O.id}`;S.value[N]||(O.ty.widget.kind===vt.Map?S.value[N]=[]:S.value[N]=null)}}E(),w.value.push({localPk:m(),prototypeId:"",alias:null,color:null,sensorId:null})},B=X=>{I(Number(X.target.value))},J=async()=>{var X,L;if(i.value=!0,a.value!==""&&a.value!==((X=e.collection.compiler)==null?void 0:X.id))e.deviceId?await Zu.set({compilerId:a.value,deviceId:e.deviceId}):await Zu.set({compilerId:a.value,collectionId:e.collection.id});else{if(!f.value)throw i.value=!1,new Error("missing target");const O={targetId:f.value.id,sensors:[],deviceConfigs:[],deviceId:e.deviceId??null,collectionId:e.collection.id};for(const N of f.value.configurationRequests){if((A.value[N.id]??"")==="")throw i.value=!1,new Error(`missing config for ${N.name}`);const V=A.value[N.id];switch(N.ty.widget){case sr.SSID:if(V.length>32)throw i.value=!1,new Error(`SSID is too long: ${V}, max length is 32`);break;case sr.PSK:if(V.length>64)throw i.value=!1,new Error(`PSK is too long: ${V}, max length is 64`);break}O.deviceConfigs.push({requestId:N.id,value:V})}for(const[N,V]of Object.entries(w.value)){if(V.prototypeId==="")continue;if(!h(V.prototypeId))throw i.value=!1,new Error(`invalid sensor configured: ${V.prototypeId}`);const G=[];for(const _e of((L=h(V.prototypeId))==null?void 0:L.configurationRequests)??[]){const xe=S.value[`${N}-${_e.id}`];if(!xe)throw i.value=!1,new Error(`missing config for ${_e.name}`);G.push({requestId:_e.id,value:xe})}const ae=V.alias;if(!ae)throw i.value=!1,new Error(`missing alias for ${JSON.stringify(V)}`);O.sensors.push({localPk:V.localPk,prototypeId:V.prototypeId,alias:ae,configs:G})}await Zu.create(O)}i.value=!1,n.FETCH_ORGANIZATIONS()};async function ee(X){X?o.value=await Zu.list({targetId:X,organizationId:e.organizationId}):o.value=[],u.value=X}async function F(X){var L;s.value=[],s.value=await f6.listForTarget(X),S.value=((L=l.value)==null?void 0:L.sensors.flatMap(O=>O.configurations.map(N=>[O,N])).map(([O,N])=>{if(N.request.ty.widget.kind===vt.Sensor){const V=w.value.find(G=>G.sensorId===N.value.sensorId);if(!V)throw new Error(`unable to find sensor ${N.value}`);N.value=V.localPk}return{[`${O.index}-${N.request.id}`]:N.value}}).reduce((O,N)=>({...O,...N}),{}))??{}}const z=async(X,L)=>{var O;!X||!L||((O=d(L))==null?void 0:O.color)!==X&&(await DS.setColor({sensorId:L,collectionId:e.collection.id,color:X}),n.FETCH_ORGANIZATIONS())},v=X=>X?`${X.arch}${X.board?"-"+X.board:""}`:"",$=async(X,L)=>{var O;L&&((O=d(L))==null?void 0:O.alias)!==X&&(await DS.setAlias({sensorId:L,collectionId:e.collection.id,alias:X}),n.FETCH_ORGANIZATIONS())},W=async X=>{X&&(await ee(X),w.value=b(),await F(X),A.value=_())},Y=async X=>{const L=X.target.value;W(parseInt(L))},Q=async()=>{var X,L;u.value=(X=e.collection.compiler)==null?void 0:X.target.id,r.value=await s6.list({prototypeId:e.collection.targetPrototype.id}),a.value=((L=e.collection.compiler)==null?void 0:L.id)??""};return mt(()=>e.collection,Q),sn(Q),mt(a,async()=>{var X,L;l.value?await W((L=l.value)==null?void 0:L.target.id):await W((X=e.collection.compiler)==null?void 0:X.target.id)}),(X,L)=>{var N;const O=kt("RouterLink");return M(),D("span",OQ,[j("span",null,[j("div",MQ,[ke(X.$slots,"description",{},void 0,!0)]),e.collection.compiler?U("",!0):(M(),D("h3",AQ,[j("i",null,[j("p",PQ,ve(e.deviceId?"Device":"Collection")+" not configured",1),j("p",TQ,ve(e.editing?"C":"Enable edit mode and c")+"onfigure the integrations ",1)])])),r.value?(M(),D("span",DQ,[C(c)||C(f)?(M(),D("span",$Q,"Device:")):U("",!0),C(c)?$t((M(),D("select",{key:1,"onUpdate:modelValue":L[0]||(L[0]=V=>u.value=V),onChange:Y},[RQ,(M(!0),D(de,null,He(r.value,V=>(M(),D("option",{key:V.id,value:V.id,class:"text-sm"},ve(v(V)),9,EQ))),128))],544)),[[So,u.value]]):C(f)?(M(),D("span",IQ,ve(v(C(f))),1)):U("",!0)])):U("",!0),o.value&&o.value.length>0?(M(),D("div",LQ,[e.editing?(M(),D("span",NQ,ve(C(l)?"":"Inherit ")+"Configurations From:",1)):U("",!0),e.editing?$t((M(),D("select",{key:1,"onUpdate:modelValue":L[1]||(L[1]=V=>a.value=V),class:"ml-2"},[C(l)&&C(l).devicesCount>1?(M(),D("option",BQ,"new")):U("",!0),(M(!0),D(de,null,He(o.value,V=>(M(),D("option",{key:V.id,value:V.id},ve(V.collectionName),9,FQ))),128))],512)),[[So,a.value]]):C(l)&&C(l).collectionName!=e.collection.name?(M(),D("span",HQ,"Collection: "+ve(C(l).collectionName),1)):U("",!0)])):U("",!0),C(f)&&A.value?(M(),D("div",VQ,[jQ,j("div",zQ,[j("div",WQ,[(M(!0),D(de,null,He(C(f).configurationRequests,V=>(M(),D("span",{key:V.id},ve(V.name)+": ",1))),128))]),j("div",UQ,[(M(!0),D(de,null,He(C(f).configurationRequests,V=>(M(),D("div",{key:V.id,class:"h-full"},[C(c)?(M(),D("span",YQ,[V.ty.widget===C(sr).SSID?$t((M(),D("input",{key:0,"onUpdate:modelValue":G=>A.value[V.id]=G},null,8,qQ)),[[qi,A.value[V.id]]]):U("",!0),V.ty.widget===C(sr).PSK?$t((M(),D("input",{key:1,"onUpdate:modelValue":G=>A.value[V.id]=G},null,8,KQ)),[[qi,A.value[V.id]]]):U("",!0),V.ty.widget===C(sr).Timezone?$t((M(),D("select",{key:2,"onUpdate:modelValue":G=>A.value[V.id]=G},[XQ,(M(),D(de,null,He(24,G=>j("option",{key:G-12,value:`${G-12}`}," UTC"+ve(G>12?"+":"")+ve(G===12?"":G-12),9,JQ)),64))],8,GQ)),[[So,A.value[V.id]]]):U("",!0)])):V.ty.widget===C(sr).Timezone?(M(),D("span",QQ,"UTC"+ve(A.value[V.id]>"0"?"+":"")+ve(A.value[V.id]),1)):(M(),D("span",ZQ,ve(A.value[V.id]),1))]))),128))])])])):U("",!0),C(f)?(M(),D("div",eZ,[tZ,!C(c)&&C(x).length===1&&C(x)[0][1].sensorId===null?(M(),D("p",nZ," No integrations configured ")):(M(),D("div",iZ,[j("div",rZ,[(M(!0),D(de,null,He(C(x),([V,G],ae)=>(M(),D("span",{key:`${ae}-${V}`,onClickCapture:_e=>g(_e,G)},[G.color?(M(),D("div",sZ,[Ae(C(SQ),{"pure-color":G.color,"onUpdate:pureColor":[_e=>G.color=_e,_e=>z(_e,G.sensorId)]},null,8,["pure-color","onUpdate:pureColor"])])):(M(),D("div",aZ))],40,oZ))),128))]),j("div",lZ,[(M(!0),D(de,null,He(C(x),([V,G],ae)=>{var _e;return M(),D("span",{key:`${ae}-${V}`,class:"mb-2 slot"},[C(c)&&(G.prototypeId!==""||ae===C(x).length-1)?$t((M(),D("select",{key:0,"onUpdate:modelValue":xe=>G.prototypeId=xe,onChange:B,class:"mr-5 slot"},[s.value&&u.value?(M(),D(de,{key:0},[uZ,(M(!0),D(de,null,He(s.value,xe=>(M(),D("option",{key:xe.id,value:xe.id},ve(xe.name),9,fZ))),128))],64)):U("",!0)],40,cZ)),[[So,G.prototypeId]]):(M(),D("span",hZ,ve((_e=h(G.prototypeId))==null?void 0:_e.name),1))])}),128))]),j("div",dZ,[(M(!0),D(de,null,He(C(x),([V,G],ae)=>(M(),D("span",{key:`${ae}-${V}`,class:"mb-2 slot"},[C(c)&&G.alias!==null&&G.sensorId!==null?$t((M(),D("input",{key:0,"onUpdate:modelValue":_e=>G.alias=_e,onBlur:_e=>$(G.alias,G.sensorId),class:"mr-5"},null,40,pZ)),[[qi,G.alias]]):G.alias!==null?(M(),D("span",gZ,ve(G.alias),1)):U("",!0)]))),128))]),j("span",mZ,[(M(!0),D(de,null,He(C(k),([V,G])=>(M(),D("span",{key:`${V}-${G.id}`,class:"mb-2 mr-2 slot"},[G.id!==null?(M(),D("span",yZ,ve(G.name),1)):(M(),D("span",vZ))]))),128))]),j("span",bZ,[(M(!0),D(de,null,He(C(P),([V,G])=>(M(),D("span",{key:`${V}-${G.id}`,class:je({slot:G.id===null,"mb-2":G.id===null})},[G.id!==null&&G.ty!==null&&s.value?(M(),ye(b2,{key:0,modelValue:S.value[`${V}-${G.id}`],"onUpdate:modelValue":ae=>S.value[`${V}-${G.id}`]=ae,editing:C(c),widget:G.ty.widget,"sensors-display":w.value,"sensor-prototypes":s.value},null,8,["modelValue","onUpdate:modelValue","editing","widget","sensors-display","sensor-prototypes"])):(M(),D("span",_Z))],2))),128))])]))])):U("",!0)]),C(c)||e.editing&&a.value!==((N=e.collection.compiler)==null?void 0:N.id)?(M(),D("span",wZ,[i.value?(M(),D("svg",xZ,kZ)):(M(),D("button",{key:0,onClick:L[2]||(L[2]=V=>J())},"Save"))])):U("",!0),C(l)&&!e.editing?(M(),D("span",CZ,[Ae(O,{to:`/compiler/${C(l).id}/code`},{default:Fe(()=>[Yt(" View Source Code ")]),_:1},8,["to"])])):U("",!0)])}}}),UT=$r(OZ,[["__scopeId","data-v-99708eeb"]]),MZ=t=>(Hi("data-v-971ae983"),t=t(),Vi(),t),AZ={key:0,class:"flex box"},PZ={class:"flex flex-col w-full"},TZ={key:0},DZ=MZ(()=>j("b",null,"Description: ",-1)),$Z={key:1,class:"flex flex-row flex-wrap justify-center measurements"},RZ={key:0,class:"w-14 h-14 self-center",src:EP},EZ={key:1,class:"w-14 h-14 p-2.5 self-center",src:IP},IZ={key:2,class:"w-14 h-14 p-3 self-center",src:LP},LZ={key:3,class:"w-14 h-14 p-3.5 self-center",src:NP},NZ={class:"text-center text-l"},BZ={key:4,class:"text-xs text-right"},FZ=$e({__name:"DeviceMetadata",props:{device:null,editing:{type:Boolean}},setup(t){const e=t,n=a=>{var l,c;return(c=(((l=e.device.compiler)==null?void 0:l.sensors)??[]).find(u=>u.measurements.find(f=>f.variableName===a)))==null?void 0:c.alias},i=a=>{var c;const l=(((c=e.device.lastEvent)==null?void 0:c.metadatas)??[]).find(u=>u.variableName===a);if(l){const u=l.name,f=n(l.name);return f?`${u}
${f}`:u}else return a},r=a=>{var l;return(((l=e.device.lastEvent)==null?void 0:l.metadatas)??[]).find(c=>c.variableName===a)},o=a=>{var c;const l=(((c=e.device.lastEvent)==null?void 0:c.metadatas)??[]).find(u=>u.variableName===a);if(!l)return"";switch(l.ty){case lt.Percentage:return"%";case lt.RawAnalogRead:return"";case lt.FloatCelsius:return"C"}};function s(a){var c;const l=Math.max((((c=a.toString().split(".")[1])==null?void 0:c.length)??1)-1,0);return a.toFixed(Math.min(l,2))}return(a,l)=>e.device?(M(),D("div",AZ,[j("div",PZ,[e.device.description?(M(),D("p",TZ,[DZ,Yt(ve(e.device.description),1)])):U("",!0),e.device.lastEvent?(M(),D("div",$Z,[(M(!0),D(de,null,He(Object.entries(e.device.lastEvent.measurements),([c,u],f)=>{var h,d,p,g;return M(),D("span",{key:c,class:"flex flex-col m-2 text-center"},[((h=r(c))==null?void 0:h.kind)===C(qr).SoilTemperature?(M(),D("img",RZ)):((d=r(c))==null?void 0:d.kind)===C(qr).SoilMoisture?(M(),D("img",EZ)):((p=r(c))==null?void 0:p.kind)===C(qr).AirTemperature?(M(),D("img",IZ)):((g=r(c))==null?void 0:g.kind)===C(qr).AirHumidity?(M(),D("img",LZ)):U("",!0),j("span",NZ,ve(s(u))+ve(o(c)),1),(M(!0),D(de,null,He(i(c).split(`
`),y=>(M(),D("p",{class:"text-center text-sm",key:y},ve(y),1))),128)),f===Object.keys(e.device.lastEvent.measurements).length-1?(M(),D("span",BZ,[Ae(Jh,{moment:e.device.lastEvent.createdAt},null,8,["moment"])])):U("",!0)])}),128))])):U("",!0)])])):U("",!0)}}),HZ=$r(FZ,[["__scopeId","data-v-971ae983"]]);/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function Fr(){}const VZ=function(){let t=0;return function(){return t++}}();function st(t){return t===null||typeof t>"u"}function Ct(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ze(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const tn=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function ki(t,e){return tn(t)?t:e}function qe(t,e){return typeof t>"u"?e:t}const jZ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,YT=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function xt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function dt(t,e,n,i){let r,o,s;if(Ct(t))if(o=t.length,i)for(r=o-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<o;r++)e.call(n,t[r],r);else if(Ze(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)e.call(n,t[s[r]],s[r])}function np(t,e){let n,i,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],o=e[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function ip(t){if(Ct(t))return t.map(ip);if(Ze(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=ip(t[n[r]]);return e}return t}function qT(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function zZ(t,e,n,i){if(!qT(t))return;const r=e[t],o=n[t];Ze(r)&&Ze(o)?iu(r,o,i):e[t]=ip(o)}function iu(t,e,n){const i=Ct(e)?e:[e],r=i.length;if(!Ze(t))return t;n=n||{};const o=n.merger||zZ;for(let s=0;s<r;++s){if(e=i[s],!Ze(e))continue;const a=Object.keys(e);for(let l=0,c=a.length;l<c;++l)o(a[l],t,e,n)}return t}function Ec(t,e){return iu(t,e,{merger:WZ})}function WZ(t,e,n){if(!qT(t))return;const i=e[t],r=n[t];Ze(i)&&Ze(r)?Ec(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ip(r))}const yC={"":t=>t,x:t=>t.x,y:t=>t.y};function zo(t,e){return(yC[e]||(yC[e]=UZ(e)))(t)}function UZ(t){const e=YZ(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function YZ(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Z1(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ni=t=>typeof t<"u",Wo=t=>typeof t=="function",vC=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function qZ(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Bt=Math.PI,yt=2*Bt,KZ=yt+Bt,rp=Number.POSITIVE_INFINITY,GZ=Bt/180,Ut=Bt/2,Kl=Bt/4,bC=Bt*2/3,Ai=Math.log10,kr=Math.sign;function _C(t){const e=Math.round(t);t=Ic(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ai(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function XZ(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,o)=>r-o).pop(),e}function ul(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Ic(t,e,n){return Math.abs(t-e)<n}function JZ(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function KT(t,e,n){let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Gi(t){return t*(Bt/180)}function e_(t){return t*(180/Bt)}function wC(t){if(!tn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function GT(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*Bt&&(o+=yt),{angle:o,distance:r}}function kv(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function QZ(t,e){return(t-e+KZ)%yt-Bt}function ci(t){return(t%yt+yt)%yt}function ru(t,e,n,i){const r=ci(t),o=ci(e),s=ci(n),a=ci(o-r),l=ci(s-r),c=ci(r-o),u=ci(r-s);return r===o||r===s||i&&o===s||a>l&&c<u}function pn(t,e,n){return Math.max(e,Math.min(n,t))}function ZZ(t){return pn(t,-32768,32767)}function Kr(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function t_(t,e,n){n=n||(s=>t[s]<e);let i=t.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,n(o)?r=o:i=o;return{lo:r,hi:i}}const Gr=(t,e,n,i)=>t_(t,n,i?r=>t[r][e]<=n:r=>t[r][e]<n),eee=(t,e,n)=>t_(t,n,i=>t[i][e]>=n);function tee(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const XT=["push","pop","shift","splice","unshift"];function nee(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),XT.forEach(n=>{const i="_onData"+Z1(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const s=r.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...o)}),s}})})}function xC(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(XT.forEach(o=>{delete t[o]}),delete t._chartjs)}function JT(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}const QT=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ZT(t,e,n){const i=n||(s=>Array.prototype.slice.call(s));let r=!1,o=[];return function(...s){o=i(s),r||(r=!0,QT.call(window,()=>{r=!1,t.apply(e,o)}))}}function iee(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const n_=t=>t==="start"?"left":t==="end"?"right":"center",Cn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,ree=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function eD(t,e,n){const i=e.length;let r=0,o=i;if(t._sorted){const{iScale:s,_parsed:a}=t,l=s.axis,{min:c,max:u,minDefined:f,maxDefined:h}=s.getUserBounds();f&&(r=pn(Math.min(Gr(a,s.axis,c).lo,n?i:Gr(e,l,s.getPixelForValue(c)).lo),0,i-1)),h?o=pn(Math.max(Gr(a,s.axis,u,!0).hi+1,n?0:Gr(e,l,s.getPixelForValue(u),!0).hi+1),r,i)-r:o=i-r}return{start:r,count:o}}function tD(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}const sf=t=>t===0||t===1,SC=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*yt/n)),kC=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*yt/n)+1,Lc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ut)+1,easeOutSine:t=>Math.sin(t*Ut),easeInOutSine:t=>-.5*(Math.cos(Bt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>sf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>sf(t)?t:SC(t,.075,.3),easeOutElastic:t=>sf(t)?t:kC(t,.075,.3),easeInOutElastic(t){return sf(t)?t:t<.5?.5*SC(t*2,.1125,.45):.5+.5*kC(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Lc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Lc.easeInBounce(t*2)*.5:Lc.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function $u(t){return t+.5|0}const ko=(t,e,n)=>Math.max(Math.min(t,n),e);function lc(t){return ko($u(t*2.55),0,255)}function Ro(t){return ko($u(t*255),0,255)}function zr(t){return ko($u(t/2.55)/100,0,1)}function CC(t){return ko($u(t*100),0,100)}const Si={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cv=[..."0123456789ABCDEF"],oee=t=>Cv[t&15],see=t=>Cv[(t&240)>>4]+Cv[t&15],af=t=>(t&240)>>4===(t&15),aee=t=>af(t.r)&&af(t.g)&&af(t.b)&&af(t.a);function lee(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Si[t[1]]*17,g:255&Si[t[2]]*17,b:255&Si[t[3]]*17,a:e===5?Si[t[4]]*17:255}:(e===7||e===9)&&(n={r:Si[t[1]]<<4|Si[t[2]],g:Si[t[3]]<<4|Si[t[4]],b:Si[t[5]]<<4|Si[t[6]],a:e===9?Si[t[7]]<<4|Si[t[8]]:255})),n}const cee=(t,e)=>t<255?e(t):"";function uee(t){var e=aee(t)?oee:see;return t?"#"+e(t.r)+e(t.g)+e(t.b)+cee(t.a,e):void 0}const fee=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nD(t,e,n){const i=e*Math.min(n,1-n),r=(o,s=(o+t/30)%12)=>n-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function hee(t,e,n){const i=(r,o=(r+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function dee(t,e,n){const i=nD(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function pee(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function i_(t){const n=t.r/255,i=t.g/255,r=t.b/255,o=Math.max(n,i,r),s=Math.min(n,i,r),a=(o+s)/2;let l,c,u;return o!==s&&(u=o-s,c=a>.5?u/(2-o-s):u/(o+s),l=pee(n,i,r,u,o),l=l*60+.5),[l|0,c||0,a]}function r_(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Ro)}function o_(t,e,n){return r_(nD,t,e,n)}function gee(t,e,n){return r_(dee,t,e,n)}function mee(t,e,n){return r_(hee,t,e,n)}function iD(t){return(t%360+360)%360}function yee(t){const e=fee.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?lc(+e[5]):Ro(+e[5]));const r=iD(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?i=gee(r,o,s):e[1]==="hsv"?i=mee(r,o,s):i=o_(r,o,s),{r:i[0],g:i[1],b:i[2],a:n}}function vee(t,e){var n=i_(t);n[0]=iD(n[0]+e),n=o_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function bee(t){if(!t)return;const e=i_(t),n=e[0],i=CC(e[1]),r=CC(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${zr(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const OC={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},MC={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _ee(){const t={},e=Object.keys(MC),n=Object.keys(OC);let i,r,o,s,a;for(i=0;i<e.length;i++){for(s=a=e[i],r=0;r<n.length;r++)o=n[r],a=a.replace(o,OC[o]);o=parseInt(MC[s],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}let lf;function wee(t){lf||(lf=_ee(),lf.transparent=[0,0,0,0]);const e=lf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const xee=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function See(t){const e=xee.exec(t);let n=255,i,r,o;if(e){if(e[7]!==i){const s=+e[7];n=e[8]?lc(s):ko(s*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?lc(i):ko(i,0,255)),r=255&(e[4]?lc(r):ko(r,0,255)),o=255&(e[6]?lc(o):ko(o,0,255)),{r:i,g:r,b:o,a:n}}}function kee(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${zr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const zm=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,_a=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Cee(t,e,n){const i=_a(zr(t.r)),r=_a(zr(t.g)),o=_a(zr(t.b));return{r:Ro(zm(i+n*(_a(zr(e.r))-i))),g:Ro(zm(r+n*(_a(zr(e.g))-r))),b:Ro(zm(o+n*(_a(zr(e.b))-o))),a:t.a+n*(e.a-t.a)}}function cf(t,e,n){if(t){let i=i_(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=o_(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function rD(t,e){return t&&Object.assign(e||{},t)}function AC(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ro(t[3]))):(e=rD(t,{r:0,g:0,b:0,a:1}),e.a=Ro(e.a)),e}function Oee(t){return t.charAt(0)==="r"?See(t):yee(t)}class op{constructor(e){if(e instanceof op)return e;const n=typeof e;let i;n==="object"?i=AC(e):n==="string"&&(i=lee(e)||wee(e)||Oee(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=rD(this._rgb);return e&&(e.a=zr(e.a)),e}set rgb(e){this._rgb=AC(e)}rgbString(){return this._valid?kee(this._rgb):void 0}hexString(){return this._valid?uee(this._rgb):void 0}hslString(){return this._valid?bee(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let o;const s=n===o?.5:n,a=2*s-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,i.r=255&c*i.r+o*r.r+.5,i.g=255&c*i.g+o*r.g+.5,i.b=255&c*i.b+o*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Cee(this._rgb,e._rgb,n)),this}clone(){return new op(this.rgb)}alpha(e){return this._rgb.a=Ro(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=$u(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return cf(this._rgb,2,e),this}darken(e){return cf(this._rgb,2,-e),this}saturate(e){return cf(this._rgb,1,e),this}desaturate(e){return cf(this._rgb,1,-e),this}rotate(e){return vee(this._rgb,e),this}}function oD(t){return new op(t)}function sD(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function PC(t){return sD(t)?t:oD(t)}function Wm(t){return sD(t)?t:oD(t).saturate(.5).darken(.1).hexString()}const Us=Object.create(null),Ov=Object.create(null);function Nc(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function Um(t,e,n){return typeof e=="string"?iu(Nc(t,e),n):iu(Nc(t,""),e)}class Mee{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Wm(i.backgroundColor),this.hoverBorderColor=(n,i)=>Wm(i.borderColor),this.hoverColor=(n,i)=>Wm(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,n){return Um(this,e,n)}get(e){return Nc(this,e)}describe(e,n){return Um(Ov,e,n)}override(e,n){return Um(Us,e,n)}route(e,n,i,r){const o=Nc(this,e),s=Nc(this,i),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=s[r];return Ze(l)?Object.assign({},c,l):qe(l,c)},set(l){this[a]=l}}})}}var et=new Mee({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Aee(t){return!t||st(t.size)||st(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function sp(t,e,n,i,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>i&&(i=o),i}function Pee(t,e,n,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},o=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let s=0;const a=n.length;let l,c,u,f,h;for(l=0;l<a;l++)if(f=n[l],f!=null&&Ct(f)!==!0)s=sp(t,r,o,s,f);else if(Ct(f))for(c=0,u=f.length;c<u;c++)h=f[c],h!=null&&!Ct(h)&&(s=sp(t,r,o,s,h));t.restore();const d=o.length/2;if(d>n.length){for(l=0;l<d;l++)delete r[o[l]];o.splice(0,d)}return s}function hs(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function TC(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Mv(t,e,n,i){aD(t,e,n,i,null)}function aD(t,e,n,i,r){let o,s,a,l,c,u;const f=e.pointStyle,h=e.rotation,d=e.radius;let p=(h||0)*GZ;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(p),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(d)||d<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,d,0,0,yt):t.arc(n,i,d,0,yt),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(p)*d,i-Math.cos(p)*d),p+=bC,t.lineTo(n+Math.sin(p)*d,i-Math.cos(p)*d),p+=bC,t.lineTo(n+Math.sin(p)*d,i-Math.cos(p)*d),t.closePath();break;case"rectRounded":c=d*.516,l=d-c,s=Math.cos(p+Kl)*l,a=Math.sin(p+Kl)*l,t.arc(n-s,i-a,c,p-Bt,p-Ut),t.arc(n+a,i-s,c,p-Ut,p),t.arc(n+s,i+a,c,p,p+Ut),t.arc(n-a,i+s,c,p+Ut,p+Bt),t.closePath();break;case"rect":if(!h){l=Math.SQRT1_2*d,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}p+=Kl;case"rectRot":s=Math.cos(p)*d,a=Math.sin(p)*d,t.moveTo(n-s,i-a),t.lineTo(n+a,i-s),t.lineTo(n+s,i+a),t.lineTo(n-a,i+s),t.closePath();break;case"crossRot":p+=Kl;case"cross":s=Math.cos(p)*d,a=Math.sin(p)*d,t.moveTo(n-s,i-a),t.lineTo(n+s,i+a),t.moveTo(n+a,i-s),t.lineTo(n-a,i+s);break;case"star":s=Math.cos(p)*d,a=Math.sin(p)*d,t.moveTo(n-s,i-a),t.lineTo(n+s,i+a),t.moveTo(n+a,i-s),t.lineTo(n-a,i+s),p+=Kl,s=Math.cos(p)*d,a=Math.sin(p)*d,t.moveTo(n-s,i-a),t.lineTo(n+s,i+a),t.moveTo(n+a,i-s),t.lineTo(n-a,i+s);break;case"line":s=r?r/2:Math.cos(p)*d,a=Math.sin(p)*d,t.moveTo(n-s,i-a),t.lineTo(n+s,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(p)*d,i+Math.sin(p)*d);break}t.fill(),e.borderWidth>0&&t.stroke()}}function ou(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function mg(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function yg(t){t.restore()}function Tee(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Dee(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Ys(t,e,n,i,r,o={}){const s=Ct(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,$ee(t,o),l=0;l<s.length;++l)c=s[l],a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),st(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,i,o.maxWidth)),t.fillText(c,n,i,o.maxWidth),Ree(t,n,i,c,o),i+=r.lineHeight;t.restore()}function $ee(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),st(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Ree(t,e,n,i,r){if(r.strikethrough||r.underline){const o=t.measureText(i),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,u),t.lineTo(a,u),t.stroke()}}function su(t,e){const{x:n,y:i,w:r,h:o,radius:s}=e;t.arc(n+s.topLeft,i+s.topLeft,s.topLeft,-Ut,Bt,!0),t.lineTo(n,i+o-s.bottomLeft),t.arc(n+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,Bt,Ut,!0),t.lineTo(n+r-s.bottomRight,i+o),t.arc(n+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,Ut,0,!0),t.lineTo(n+r,i+s.topRight),t.arc(n+r-s.topRight,i+s.topRight,s.topRight,0,-Ut,!0),t.lineTo(n+s.topLeft,i)}const Eee=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Iee=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Lee(t,e){const n=(""+t).match(Eee);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Nee=t=>+t||0;function s_(t,e){const n={},i=Ze(e),r=i?Object.keys(e):e,o=Ze(t)?i?s=>qe(t[s],t[e[s]]):s=>t[s]:()=>t;for(const s of r)n[s]=Nee(o(s));return n}function lD(t){return s_(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Is(t){return s_(t,["topLeft","topRight","bottomLeft","bottomRight"])}function En(t){const e=lD(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function cn(t,e){t=t||{},e=e||et.font;let n=qe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=qe(t.style,e.style);i&&!(""+i).match(Iee)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:qe(t.family,e.family),lineHeight:Lee(qe(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:qe(t.weight,e.weight),string:""};return r.string=Aee(r),r}function cc(t,e,n,i){let r=!0,o,s,a;for(o=0,s=t.length;o<s;++o)if(a=t[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&Ct(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function Bee(t,e,n){const{min:i,max:r}=t,o=YT(e,(r-i)/2),s=(a,l)=>n&&a===0?0:a+l;return{min:s(i,-Math.abs(o)),max:s(r,o)}}function ns(t,e){return Object.assign(Object.create(t),e)}function a_(t,e=[""],n=t,i,r=()=>t[0]){Ni(i)||(i=hD("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:r,override:s=>a_([s,...t],e,n,i)};return new Proxy(o,{deleteProperty(s,a){return delete s[a],delete s._keys,delete t[0][a],!0},get(s,a){return uD(s,a,()=>Yee(a,e,t,s))},getOwnPropertyDescriptor(s,a){return Reflect.getOwnPropertyDescriptor(s._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(s,a){return $C(s).includes(a)},ownKeys(s){return $C(s)},set(s,a,l){const c=s._storage||(s._storage=r());return s[a]=c[a]=l,delete s._keys,!0}})}function fl(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:cD(t,i),setContext:o=>fl(t,o,n,i),override:o=>fl(t.override(o),e,n,i)};return new Proxy(r,{deleteProperty(o,s){return delete o[s],delete t[s],!0},get(o,s,a){return uD(o,s,()=>Hee(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(o,s,a){return t[s]=a,delete o[s],!0}})}function cD(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Wo(n)?n:()=>n,isIndexable:Wo(i)?i:()=>i}}const Fee=(t,e)=>t?t+Z1(e):e,l_=(t,e)=>Ze(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function uD(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function Hee(t,e,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=t;let a=i[e];return Wo(a)&&s.isScriptable(e)&&(a=Vee(e,a,t,n)),Ct(a)&&a.length&&(a=jee(e,a,t,s.isIndexable)),l_(e,a)&&(a=fl(a,r,o&&o[e],s)),a}function Vee(t,e,n,i){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(o,s||i),a.delete(t),l_(t,e)&&(e=c_(r._scopes,r,t,e)),e}function jee(t,e,n,i){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=n;if(Ni(o.index)&&i(t))e=e[o.index%e.length];else if(Ze(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const f=c_(c,r,t,u);e.push(fl(f,o,s&&s[t],a))}}return e}function fD(t,e,n){return Wo(t)?t(e,n):t}const zee=(t,e)=>t===!0?e:typeof t=="string"?zo(e,t):void 0;function Wee(t,e,n,i,r){for(const o of e){const s=zee(n,o);if(s){t.add(s);const a=fD(s._fallback,n,r);if(Ni(a)&&a!==n&&a!==i)return a}else if(s===!1&&Ni(i)&&n!==i)return null}return!1}function c_(t,e,n,i){const r=e._rootScopes,o=fD(e._fallback,n,i),s=[...t,...r],a=new Set;a.add(i);let l=DC(a,s,n,o||n,i);return l===null||Ni(o)&&o!==n&&(l=DC(a,s,o,l,i),l===null)?!1:a_(Array.from(a),[""],r,o,()=>Uee(e,n,i))}function DC(t,e,n,i,r){for(;n;)n=Wee(t,e,n,i,r);return n}function Uee(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Ct(r)&&Ze(n)?n:r}function Yee(t,e,n,i){let r;for(const o of e)if(r=hD(Fee(o,t),n),Ni(r))return l_(t,r)?c_(n,i,t,r):r}function hD(t,e){for(const n of e){if(!n)continue;const i=n[t];if(Ni(i))return i}}function $C(t){let e=t._keys;return e||(e=t._keys=qee(t._scopes)),e}function qee(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function dD(t,e,n,i){const{iScale:r}=t,{key:o="r"}=this._parsing,s=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],s[a]={r:r.parse(zo(u,o),c)};return s}const Kee=Number.EPSILON||1e-14,hl=(t,e)=>e<t.length&&!t[e].skip&&t[e],pD=t=>t==="x"?"y":"x";function Gee(t,e,n,i){const r=t.skip?e:t,o=e,s=n.skip?e:n,a=kv(o,r),l=kv(s,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=i*c,h=i*u;return{previous:{x:o.x-f*(s.x-r.x),y:o.y-f*(s.y-r.y)},next:{x:o.x+h*(s.x-r.x),y:o.y+h*(s.y-r.y)}}}function Xee(t,e,n){const i=t.length;let r,o,s,a,l,c=hl(t,0);for(let u=0;u<i-1;++u)if(l=c,c=hl(t,u+1),!(!l||!c)){if(Ic(e[u],0,Kee)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],o=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),n[u]=r*s*e[u],n[u+1]=o*s*e[u])}}function Jee(t,e,n="x"){const i=pD(n),r=t.length;let o,s,a,l=hl(t,0);for(let c=0;c<r;++c){if(s=a,a=l,l=hl(t,c+1),!a)continue;const u=a[n],f=a[i];s&&(o=(u-s[n])/3,a[`cp1${n}`]=u-o,a[`cp1${i}`]=f-o*e[c]),l&&(o=(l[n]-u)/3,a[`cp2${n}`]=u+o,a[`cp2${i}`]=f+o*e[c])}}function Qee(t,e="x"){const n=pD(e),i=t.length,r=Array(i).fill(0),o=Array(i);let s,a,l,c=hl(t,0);for(s=0;s<i;++s)if(a=l,l=c,c=hl(t,s+1),!!l){if(c){const u=c[e]-l[e];r[s]=u!==0?(c[n]-l[n])/u:0}o[s]=a?c?kr(r[s-1])!==kr(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}Xee(t,r,o),Jee(t,o,e)}function uf(t,e,n){return Math.max(Math.min(t,n),e)}function Zee(t,e){let n,i,r,o,s,a=ou(t[0],e);for(n=0,i=t.length;n<i;++n)s=o,o=a,a=n<i-1&&ou(t[n+1],e),o&&(r=t[n],s&&(r.cp1x=uf(r.cp1x,e.left,e.right),r.cp1y=uf(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=uf(r.cp2x,e.left,e.right),r.cp2y=uf(r.cp2y,e.top,e.bottom)))}function ete(t,e,n,i,r){let o,s,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Qee(t,r);else{let c=i?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],l=Gee(c,a,t[Math.min(o+1,s-(i?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&Zee(t,n)}function gD(){return typeof window<"u"&&typeof document<"u"}function u_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ap(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const vg=t=>window.getComputedStyle(t,null);function tte(t,e){return vg(t).getPropertyValue(e)}const nte=["top","right","bottom","left"];function Ls(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=nte[r];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const ite=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function rte(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:o}=i;let s=!1,a,l;if(ite(r,o,t.target))a=r,l=o;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function bs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=vg(n),o=r.boxSizing==="border-box",s=Ls(r,"padding"),a=Ls(r,"border","width"),{x:l,y:c,box:u}=rte(t,n),f=s.left+(u&&a.left),h=s.top+(u&&a.top);let{width:d,height:p}=e;return o&&(d-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-f)/d*n.width/i),y:Math.round((c-h)/p*n.height/i)}}function ote(t,e,n){let i,r;if(e===void 0||n===void 0){const o=u_(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const s=o.getBoundingClientRect(),a=vg(o),l=Ls(a,"border","width"),c=Ls(a,"padding");e=s.width-c.width-l.width,n=s.height-c.height-l.height,i=ap(a.maxWidth,o,"clientWidth"),r=ap(a.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||rp,maxHeight:r||rp}}const Ym=t=>Math.round(t*10)/10;function ste(t,e,n,i){const r=vg(t),o=Ls(r,"margin"),s=ap(r.maxWidth,t,"clientWidth")||rp,a=ap(r.maxHeight,t,"clientHeight")||rp,l=ote(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const f=Ls(r,"border","width"),h=Ls(r,"padding");c-=h.width+f.width,u-=h.height+f.height}return c=Math.max(0,c-o.width),u=Math.max(0,i?Math.floor(c/i):u-o.height),c=Ym(Math.min(c,s,l.maxWidth)),u=Ym(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Ym(c/2)),{width:c,height:u}}function RC(t,e,n){const i=e||1,r=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=r/i,t.width=o/i;const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||s.height!==r||s.width!==o?(t.currentDevicePixelRatio=i,s.height=r,s.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const ate=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function EC(t,e){const n=tte(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function _s(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function lte(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function cte(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},s=_s(t,r,n),a=_s(r,o,n),l=_s(o,e,n),c=_s(s,a,n),u=_s(a,l,n);return _s(c,u,n)}const IC=new Map;function ute(t,e){e=e||{};const n=t+JSON.stringify(e);let i=IC.get(n);return i||(i=new Intl.NumberFormat(t,e),IC.set(n,i)),i}function Ru(t,e,n){return ute(e,n).format(t)}const fte=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},hte=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function La(t,e,n){return t?fte(e,n):hte()}function mD(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function yD(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function vD(t){return t==="angle"?{between:ru,compare:QZ,normalize:ci}:{between:Kr,compare:(e,n)=>e-n,normalize:e=>e}}function LC({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function dte(t,e,n){const{property:i,start:r,end:o}=n,{between:s,normalize:a}=vD(i),l=e.length;let{start:c,end:u,loop:f}=t,h,d;if(f){for(c+=l,u+=l,h=0,d=l;h<d&&s(a(e[c%l][i]),r,o);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:t.style}}function bD(t,e,n){if(!n)return[t];const{property:i,start:r,end:o}=n,s=e.length,{compare:a,between:l,normalize:c}=vD(i),{start:u,end:f,loop:h,style:d}=dte(t,e,n),p=[];let g=!1,y=null,m,b,_;const w=()=>l(r,_,m)&&a(r,_)!==0,S=()=>a(o,m)===0||l(o,_,m),A=()=>g||w(),x=()=>!g||S();for(let k=u,P=u;k<=f;++k)b=e[k%s],!b.skip&&(m=c(b[i]),m!==_&&(g=l(m,r,o),y===null&&A()&&(y=a(m,r)===0?k:P),y!==null&&x()&&(p.push(LC({start:y,end:k,loop:h,count:s,style:d})),y=null),P=k,_=m));return y!==null&&p.push(LC({start:y,end:f,loop:h,count:s,style:d})),p}function _D(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const o=bD(i[r],t.points,e);o.length&&n.push(...o)}return n}function pte(t,e,n,i){let r=0,o=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}function gte(t,e,n,i){const r=t.length,o=[];let s=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,o.push({start:e%r,end:(l-1)%r,loop:i}),e=s=c.stop?l:null):(s=l,a.skip&&(e=l)),a=c}return s!==null&&o.push({start:e%r,end:s%r,loop:i}),o}function mte(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const o=!!t._loop,{start:s,end:a}=pte(n,r,o,i);if(i===!0)return NC(t,[{start:s,end:a,loop:o}],n,e);const l=a<s?a+r:a,c=!!t._fullLoop&&s===0&&a===r-1;return NC(t,gte(n,s,l,c),n,e)}function NC(t,e,n,i){return!i||!i.setContext||!n?e:yte(t,e,n,i)}function yte(t,e,n,i){const r=t._chart.getContext(),o=BC(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,l=n.length,c=[];let u=o,f=e[0].start,h=f;function d(p,g,y,m){const b=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=b;for(;n[g%l].skip;)g+=b;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:y,style:m}),u=m,f=g%l)}}for(const p of e){f=a?f:p.start;let g=n[f%l],y;for(h=f+1;h<=p.end;h++){const m=n[h%l];y=BC(i.setContext(ns(r,{type:"segment",p0:g,p1:m,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),vte(y,u)&&d(f,h-1,p.loop,u),g=m,u=y}f<h-1&&d(f,h-1,p.loop,u)}return c}function BC(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function vte(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class bte{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const o=n.listeners[r],s=n.duration;o.forEach(a=>a({chart:e,initial:n.initial,numSteps:s,currentStep:Math.min(i-n.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=QT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Hr=new bte;const FC="transparent",_te={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=PC(t||FC),r=i.valid&&PC(e||FC);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class wte{constructor(e,n,i,r){const o=n[i];r=cc([e.to,r,o,e.from]);const s=cc([e.from,o,r]);this._active=!0,this._fn=e.fn||_te[e.type||typeof s],this._easing=Lc[e.easing]||Lc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=cc([e.to,n,r,e.from]),this._from=cc([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to;let l;if(this._active=o!==a&&(s||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=o;return}l=n/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(o,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}const xte=["x","y","borderWidth","radius","tension"],Ste=["color","borderColor","backgroundColor"];et.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const kte=Object.keys(et.animation);et.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});et.set("animations",{colors:{type:"color",properties:Ste},numbers:{type:"number",properties:xte}});et.describe("animations",{_fallback:"animation"});et.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class wD{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ze(e))return;const n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!Ze(r))return;const o={};for(const s of kte)o[s]=r[s];(Ct(r.properties)&&r.properties||[i]).forEach(s=>{(s===i||!n.has(s))&&n.set(s,o)})})}_animateOptions(e,n){const i=n.options,r=Ote(e,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&Cte(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){const i=this._properties,r=[],o=e.$animations||(e.$animations={}),s=Object.keys(n),a=Date.now();let l;for(l=s.length-1;l>=0;--l){const c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let f=o[c];const h=i.get(c);if(f)if(h&&f.active()){f.update(h,u,a);continue}else f.cancel();if(!h||!h.duration){e[c]=u;continue}o[c]=f=new wte(h,e,c,u),r.push(f)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Hr.add(this._chart,i),!0}}function Cte(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const o=t[i[r]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function Ote(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function HC(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function Mte(t,e,n){if(n===!1)return!1;const i=HC(t,n),r=HC(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Ate(t){let e,n,i,r;return Ze(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function xD(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function VC(t,e,n,i={}){const r=t.keys,o=i.mode==="single";let s,a,l,c;if(e!==null){for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===n){if(i.all)continue;break}c=t.values[l],tn(c)&&(o||e===0||kr(e)===kr(c))&&(e+=c)}return e}}function Pte(t){const e=Object.keys(t),n=new Array(e.length);let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],n[i]={x:o,y:t[o]};return n}function jC(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Tte(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Dte(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function $te(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function zC(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const o=t[r.index];if(n&&o>0||!n&&o<0)return r.index}return null}function WC(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,c=s.axis,u=Tte(o,s,i),f=e.length;let h;for(let d=0;d<f;++d){const p=e[d],{[l]:g,[c]:y}=p,m=p._stacks||(p._stacks={});h=m[c]=$te(r,u,g),h[a]=y,h._top=zC(h,s,!0,i.type),h._bottom=zC(h,s,!1,i.type)}}function qm(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function Rte(t,e){return ns(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Ete(t,e,n){return ns(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Gl(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const o=r._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n]}}}const Km=t=>t==="reset"||t==="none",UC=(t,e)=>e?t:Object.assign({},t),Ite=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:xD(n,!0),values:null};class Zi{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=jC(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Gl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(f,h,d,p)=>f==="x"?h:f==="r"?p:d,o=n.xAxisID=qe(i.xAxisID,qm(e,"x")),s=n.yAxisID=qe(i.yAxisID,qm(e,"y")),a=n.rAxisID=qe(i.rAxisID,qm(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,o,s,a),u=n.vAxisID=r(l,s,o,a);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(s),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&xC(this._data,this),e._stacked&&Gl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Ze(n))this._data=Pte(n);else if(i!==n){if(i){xC(i,this);const r=this._cachedMeta;Gl(r),r._parsed=[]}n&&Object.isExtensible(n)&&nee(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=n._stacked;n._stacked=jC(n.vScale,n),n.stack!==i.stack&&(r=!0,Gl(n),n.stack=i.stack),this._resyncElements(e),(r||o!==n._stacked)&&WC(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:s}=i,a=o.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,f,h;if(this._parsing===!1)i._parsed=r,i._sorted=!0,h=r;else{Ct(r[e])?h=this.parseArrayData(i,r,e,n):Ze(r[e])?h=this.parseObjectData(i,r,e,n):h=this.parsePrimitiveData(i,r,e,n);const d=()=>f[a]===null||c&&f[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=f=h[u],l&&(d()&&(l=!1),c=f);i._sorted=l}s&&WC(this,h)}parsePrimitiveData(e,n,i,r){const{iScale:o,vScale:s}=e,a=o.axis,l=s.axis,c=o.getLabels(),u=o===s,f=new Array(r);let h,d,p;for(h=0,d=r;h<d;++h)p=h+i,f[h]={[a]:u||o.parse(c[p],p),[l]:s.parse(n[p],p)};return f}parseArrayData(e,n,i,r){const{xScale:o,yScale:s}=e,a=new Array(r);let l,c,u,f;for(l=0,c=r;l<c;++l)u=l+i,f=n[u],a[l]={x:o.parse(f[0],u),y:s.parse(f[1],u)};return a}parseObjectData(e,n,i,r){const{xScale:o,yScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,f,h,d;for(u=0,f=r;u<f;++u)h=u+i,d=n[h],c[u]={x:o.parse(zo(d,a),h),y:s.parse(zo(d,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,o=this._cachedMeta,s=n[e.axis],a={keys:xD(r,!0),values:n._stacks[e.axis]};return VC(a,s,o.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const o=i[n.axis];let s=o===null?NaN:o;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,s=VC(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,s=r.length,a=this._getOtherScale(e),l=Ite(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=Dte(a);let h,d;function p(){d=r[h];const g=d[a.axis];return!tn(d[e.axis])||u>g||f<g}for(h=0;h<s&&!(!p()&&(this.updateRangeFromParsed(c,e,d,l),o));++h);if(o){for(h=s-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(c,e,d,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,o,s;for(r=0,o=n.length;r<o;++r)s=n[r][e.axis],tn(s)&&i.push(s);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Ate(qe(this.options.clip,Mte(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],o=n.chartArea,s=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,o,a,l),u=a;u<a+l;++u){const f=r[u];f.hidden||(f.active&&c?s.push(f):f.draw(e,o))}for(u=0;u<s.length;++u)s[u].draw(e,o)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];o=s.$context||(s.$context=Ete(this.getContext(),e,s)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Rte(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",o=this._cachedDataOpts,s=e+"-"+n,a=o[s],l=this.enableOptionSharing&&Ni(i);if(a)return UC(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),f=r?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),d=Object.keys(et.elements[e]),p=()=>this.getContext(i,r),g=c.resolveNamedOptions(h,d,p,f);return g.$shared&&(g.$shared=l,o[s]=Object.freeze(UC(g,l))),g}_resolveAnimations(e,n,i){const r=this.chart,o=this._cachedDataOpts,s=`animation-${n}`,a=o[s];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),f);l=u.createResolver(h,this.getContext(e,i,n))}const c=new wD(r,l&&l.animations);return l&&l._cacheable&&(o[s]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Km(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,o=this.getSharedOptions(i),s=this.includeOptions(n,o)||o!==r;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:s}}updateElement(e,n,i,r){Km(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Km(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const o=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,o=n.length,s=Math.min(o,r);s&&this.parse(0,s),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,n,i=!0){const r=this._cachedMeta,o=r.data,s=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=s;a--)c[a]=c[a-n]};for(l(o),a=e;a<s;++a)o[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(o,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Gl(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Zi.defaults={};Zi.prototype.datasetElementType=null;Zi.prototype.dataElementType=null;function Lte(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,o=n.length;r<o;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=JT(i.sort((r,o)=>r-o))}return t._cache.$bar}function Nte(t){const e=t.iScale,n=Lte(e,t.type);let i=e._length,r,o,s,a;const l=()=>{s===32767||s===-32768||(Ni(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(r=0,o=n.length;r<o;++r)s=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,o=e.ticks.length;r<o;++r)s=e.getPixelForTick(r),l();return i}function Bte(t,e,n,i){const r=n.barThickness;let o,s;return st(r)?(o=e.min*n.categoryPercentage,s=n.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:e.pixels[t]-o/2}}function Fte(t,e,n,i){const r=e.pixels,o=r[t];let s=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;s===null&&(s=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-s);const c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:n.barPercentage,start:c}}function Hte(t,e,n,i){const r=n.parse(t[0],i),o=n.parse(t[1],i),s=Math.min(r,o),a=Math.max(r,o);let l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:o,min:s,max:a}}function SD(t,e,n,i){return Ct(t)?Hte(t,e,n,i):e[n.axis]=n.parse(t,i),e}function YC(t,e,n,i){const r=t.iScale,o=t.vScale,s=r.getLabels(),a=r===o,l=[];let c,u,f,h;for(c=n,u=n+i;c<u;++c)h=e[c],f={},f[r.axis]=a||r.parse(s[c],c),l.push(SD(h,f,o,c));return l}function Gm(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Vte(t,e,n){return t!==0?kr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function jte(t){let e,n,i,r,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:e,top:r,bottom:o}}function zte(t,e,n,i){let r=e.borderSkipped;const o={};if(!r){t.borderSkipped=o;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:a,reverse:l,top:c,bottom:u}=jte(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(o[qC(u,s,a,l)]=!0,r=c)),o[qC(r,s,a,l)]=!0,t.borderSkipped=o}function qC(t,e,n,i){return i?(t=Wte(t,e,n),t=KC(t,n,e)):t=KC(t,e,n),t}function Wte(t,e,n){return t===e?n:t===n?e:t}function KC(t,e,n){return t==="start"?e:t==="end"?n:t}function Ute(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class bg extends Zi{parsePrimitiveData(e,n,i,r){return YC(e,n,i,r)}parseArrayData(e,n,i,r){return YC(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:o,vScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,u=s.axis==="x"?a:l,f=[];let h,d,p,g;for(h=i,d=i+r;h<d;++h)g=n[h],p={},p[o.axis]=o.parse(zo(g,c),h),f.push(SD(zo(g,u),p,s,h));return f}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const o=i._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,o=this.getParsed(e),s=o._custom,a=Gm(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const o=r==="reset",{index:s,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,r);for(let d=n;d<n+i;d++){const p=this.getParsed(d),g=o||st(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),y=this._calculateBarIndexPixels(d,u),m=(p._stacks||{})[a.axis],b={horizontal:c,base:g.base,enableBorderRadius:!m||Gm(p._custom)||s===m._top||s===m._bottom,x:c?g.head:y.center,y:c?y.center:g.head,height:c?y.size:Math.abs(g.size),width:c?Math.abs(g.size):y.size};h&&(b.options=f||this.resolveDataElementOptions(d,e[d].active?"active":r));const _=b.options||e[d].options;zte(b,_,m,s),Ute(b,_,u.ratio),this.updateElement(e[d],d,b,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),o=i.options.stacked,s=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(st(u)||isNaN(u))return!0};for(const l of r)if(!(n!==void 0&&a(l))&&((o===!1||s.indexOf(l.stack)===-1||o===void 0&&l.stack===void 0)&&s.push(l.stack),l.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),o=n!==void 0?r.indexOf(n):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let o,s;for(o=0,s=n.data.length;o<s;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const a=e.barThickness;return{min:a||Nte(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i},options:{base:r,minBarLength:o}}=this,s=r||0,a=this.getParsed(e),l=a._custom,c=Gm(l);let u=a[n.axis],f=0,h=i?this.applyStack(n,a,i):u,d,p;h!==u&&(f=h-u,h=u),c&&(u=l.barStart,h=l.barEnd-l.barStart,u!==0&&kr(u)!==kr(l.barEnd)&&(f=0),f+=u);const g=!st(r)&&!c?r:f;let y=n.getPixelForValue(g);if(this.chart.getDataVisibility(e)?d=n.getPixelForValue(f+h):d=y,p=d-y,Math.abs(p)<o){p=Vte(p,n,s)*o,u===s&&(y-=p/2);const m=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),_=Math.min(m,b),w=Math.max(m,b);y=Math.max(Math.min(y,w),_),d=y+p}if(y===n.getPixelForValue(s)){const m=kr(p)*n.getLineWidthForValue(s)/2;y+=m,p-=m}return{size:p,base:y,head:d,center:d+p/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,o=r.skipNull,s=qe(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=o?this._getStackCount(e):n.stackCount,u=r.barThickness==="flex"?Fte(e,n,r,c):Bte(e,n,r,c),f=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);a=u.start+u.chunk*f+u.chunk/2,l=Math.min(s,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(s,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[n.axis]!==null&&i[o].draw(this._ctx)}}bg.id="bar";bg.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};bg.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class _g extends Zi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,r){const o=super.parsePrimitiveData(e,n,i,r);for(let s=0;s<o.length;s++)o[s]._custom=this.resolveDataElementOptions(s+i).radius;return o}parseArrayData(e,n,i,r){const o=super.parseArrayData(e,n,i,r);for(let s=0;s<o.length;s++){const a=n[i+s];o[s]._custom=qe(a[2],this.resolveDataElementOptions(s+i).radius)}return o}parseObjectData(e,n,i,r){const o=super.parseObjectData(e,n,i,r);for(let s=0;s<o.length;s++){const a=n[i+s];o[s]._custom=qe(a&&a.r&&+a.r,this.resolveDataElementOptions(s+i).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,{xScale:i,yScale:r}=n,o=this.getParsed(e),s=i.getLabelForValue(o.x),a=r.getLabelForValue(o.y),l=o._custom;return{label:n.label,value:"("+s+", "+a+(l?", "+l:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,r){const o=r==="reset",{iScale:s,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,r),u=s.axis,f=a.axis;for(let h=n;h<n+i;h++){const d=e[h],p=!o&&this.getParsed(h),g={},y=g[u]=o?s.getPixelForDecimal(.5):s.getPixelForValue(p[u]),m=g[f]=o?a.getBasePixel():a.getPixelForValue(p[f]);g.skip=isNaN(y)||isNaN(m),c&&(g.options=l||this.resolveDataElementOptions(h,d.active?"active":r),o&&(g.options.radius=0)),this.updateElement(d,h,g,r)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return n!=="active"&&(r.radius=0),r.radius+=qe(i&&i._custom,o),r}}_g.id="bubble";_g.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};_g.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function Yte(t,e,n){let i=1,r=1,o=0,s=0;if(e<yt){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),f=Math.cos(l),h=Math.sin(l),d=(_,w,S)=>ru(_,a,l,!0)?1:Math.max(w,w*n,S,S*n),p=(_,w,S)=>ru(_,a,l,!0)?-1:Math.min(w,w*n,S,S*n),g=d(0,c,f),y=d(Ut,u,h),m=p(Bt,c,f),b=p(Bt+Ut,u,h);i=(g-m)/2,r=(y-b)/2,o=-(g+m)/2,s=-(y+b)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}class Dl extends Zi{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=l=>+i[l];if(Ze(i[e])){const{key:l="value"}=this._parsing;o=c=>+zo(i[c],l)}let s,a;for(s=e,a=e+n;s<a;++s)r._parsed[s]=o(s)}}_getRotation(){return Gi(this.options.rotation-90)}_getCircumference(){return Gi(this.options.circumference)}_getRotationExtents(){let e=yt,n=-yt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),s=r._getCircumference();e=Math.min(e,o),n=Math.max(n,o+s)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,o=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-s)/2,0),l=Math.min(jZ(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:d,offsetX:p,offsetY:g}=Yte(f,u,l),y=(i.width-s)/h,m=(i.height-s)/d,b=Math.max(Math.min(y,m)/2,0),_=YT(this.options.radius,b),w=Math.max(_*l,0),S=(_-w)/this._getVisibleDatasetWeightTotal();this.offsetX=p*_,this.offsetY=g*_,r.total=this.calculateTotal(),this.outerRadius=_-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/yt)}updateElements(e,n,i,r){const o=r==="reset",s=this.chart,a=s.chartArea,c=s.options.animation,u=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=o&&c.animateScale,d=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(n,r);let m=this._getRotation(),b;for(b=0;b<n;++b)m+=this._circumference(b,o);for(b=n;b<n+i;++b){const _=this._circumference(b,o),w=e[b],S={x:u+this.offsetX,y:f+this.offsetY,startAngle:m,endAngle:m+_,circumference:_,outerRadius:p,innerRadius:d};y&&(S.options=g||this.resolveDataElementOptions(b,w.active?"active":r)),m+=_,this.updateElement(w,b,S,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?yt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=Ru(n._parsed[e],i.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,o,s,a,l;if(!e){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){s=i.getDatasetMeta(r),e=s.data,a=s.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(qe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Dl.id="doughnut";Dl.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Dl.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};Dl.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((i,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return Ct(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class wg extends Zi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=n,s=this.chart._animationsDisabled;let{start:a,count:l}=eD(n,r,s);this._drawStart=a,this._drawCount=l,tD(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!s,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const o=r==="reset",{iScale:s,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,r),h=s.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,y=ul(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||o||r==="none";let b=n>0&&this.getParsed(n-1);for(let _=n;_<n+i;++_){const w=e[_],S=this.getParsed(_),A=m?w:{},x=st(S[d]),k=A[h]=s.getPixelForValue(S[h],_),P=A[d]=o||x?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[d],_);A.skip=isNaN(k)||isNaN(P)||x,A.stop=_>0&&Math.abs(S[h]-b[h])>y,g&&(A.parsed=S,A.raw=c.data[_]),f&&(A.options=u||this.resolveDataElementOptions(_,w.active?"active":r)),m||this.updateElement(w,_,A,r),b=S}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}wg.id="line";wg.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};wg.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class xg extends Zi{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=Ru(n._parsed[e].r,i.options.locale);return{label:r[e]||"",value:o}}parseObjectData(e,n,i,r){return dD.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(r/2,0),s=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),a=(o-s)/e.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,r){const o=r==="reset",s=this.chart,l=s.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,f=c.yCenter,h=c.getIndexAngle(0)-.5*Bt;let d=h,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)d+=this._computeAngle(p,r,g);for(p=n;p<n+i;p++){const y=e[p];let m=d,b=d+this._computeAngle(p,r,g),_=s.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;d=b,o&&(l.animateScale&&(_=0),l.animateRotate&&(m=b=h));const w={x:u,y:f,innerRadius:0,outerRadius:_,startAngle:m,endAngle:b,options:this.resolveDataElementOptions(p,y.active?"active":r)};this.updateElement(y,p,w,r)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Gi(this.resolveDataElementOptions(e,n).angle||i):0}}xg.id="polarArea";xg.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};xg.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((i,r)=>{const s=t.getDatasetMeta(0).controller.getStyle(r);return{text:i,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class f_ extends Dl{}f_.id="pie";f_.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Sg extends Zi{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,r){return dD.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],o=n.iScale.getLabels();if(i.points=r,e!=="resize"){const s=this.resolveDatasetElementOptions(e);this.options.showLine||(s.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===r.length,options:s};this.updateElement(i,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const o=this._cachedMeta.rScale,s=r==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=o.getPointPositionForValue(a,this.getParsed(a).r),f=s?o.xCenter:u.x,h=s?o.yCenter:u.y,d={x:f,y:h,angle:u.angle,skip:isNaN(f)||isNaN(h),options:c};this.updateElement(l,a,d,r)}}}Sg.id="radar";Sg.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Sg.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};let er=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ul(this.x)&&ul(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};er.defaults={};er.defaultRoutes=void 0;const kD={values(t){return Ct(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,o=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),o=qte(t,n)}const s=Ai(Math.abs(o)),a=Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ru(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=t/Math.pow(10,Math.floor(Ai(t)));return i===1||i===2||i===5?kD.numeric.call(this,t,e,n):""}};function qte(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var kg={formatters:kD};et.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});et.route("scale.ticks","color","","color");et.route("scale.grid","color","","borderColor");et.route("scale.grid","borderColor","","borderColor");et.route("scale.title","color","","color");et.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});et.describe("scales",{_fallback:"scale"});et.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function Kte(t,e){const n=t.options.ticks,i=n.maxTicksLimit||Gte(t),r=n.major.enabled?Jte(e):[],o=r.length,s=r[0],a=r[o-1],l=[];if(o>i)return Qte(e,l,r,o/i),l;const c=Xte(r,e,i);if(o>0){let u,f;const h=o>1?Math.round((a-s)/(o-1)):null;for(ff(e,l,c,st(h)?0:s-h,s),u=0,f=o-1;u<f;u++)ff(e,l,c,r[u],r[u+1]);return ff(e,l,c,a,st(h)?e.length:a+h),l}return ff(e,l,c),l}function Gte(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function Xte(t,e,n){const i=Zte(t),r=e.length/n;if(!i)return Math.max(r,1);const o=XZ(i);for(let s=0,a=o.length-1;s<a;s++){const l=o[s];if(l>r)return l}return Math.max(r,1)}function Jte(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function Qte(t,e,n,i){let r=0,o=n[0],s;for(i=Math.ceil(i),s=0;s<t.length;s++)s===o&&(e.push(t[s]),r++,o=n[r*i])}function ff(t,e,n,i,r){const o=qe(i,0),s=Math.min(qe(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=o;u<0;)a++,u=Math.round(o+a*n);for(c=Math.max(o,0);c<s;c++)c===u&&(e.push(t[c]),a++,u=Math.round(o+a*n))}function Zte(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const ene=t=>t==="left"?"right":t==="right"?"left":t,GC=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function XC(t,e){const n=[],i=t.length/e,r=t.length;let o=0;for(;o<r;o+=i)n.push(t[Math.floor(o)]);return n}function tne(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),o=t._startPixel,s=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-o,s-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<o-a||l>s+a)))return l}function nne(t,e){dt(t,n=>{const i=n.gc,r=i.length/2;let o;if(r>e){for(o=0;o<r;++o)delete n.data[i[o]];i.splice(0,r)}})}function Xl(t){return t.drawTicks?t.tickLength:0}function JC(t,e){if(!t.display)return 0;const n=cn(t.font,e),i=En(t.padding);return(Ct(t.text)?t.text.length:1)*n.lineHeight+i.height}function ine(t,e){return ns(t,{scale:e,type:"scale"})}function rne(t,e,n){return ns(t,{tick:n,index:e,type:"tick"})}function one(t,e,n){let i=n_(t);return(n&&e!=="right"||!n&&e==="right")&&(i=ene(i)),i}function sne(t,e,n,i){const{top:r,left:o,bottom:s,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let f=0,h,d,p;const g=s-r,y=a-o;if(t.isHorizontal()){if(d=Cn(i,o,a),Ze(n)){const m=Object.keys(n)[0],b=n[m];p=u[m].getPixelForValue(b)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=GC(t,n,e);h=a-o}else{if(Ze(n)){const m=Object.keys(n)[0],b=n[m];d=u[m].getPixelForValue(b)-y+e}else n==="center"?d=(c.left+c.right)/2-y+e:d=GC(t,n,e);p=Cn(i,s,r),f=n==="left"?-Ut:Ut}return{titleX:d,titleY:p,maxWidth:h,rotation:f}}class sa extends er{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=ki(e,Number.POSITIVE_INFINITY),n=ki(n,Number.NEGATIVE_INFINITY),i=ki(i,Number.POSITIVE_INFINITY),r=ki(r,Number.NEGATIVE_INFINITY),{min:ki(e,i),max:ki(n,r),minDefined:tn(e),maxDefined:tn(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),s;if(r&&o)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,s.min)),o||(i=Math.max(i,s.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:ki(n,ki(i,n)),max:ki(i,ki(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Bee(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?XC(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=Kte(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xt(this.options.afterUpdate,[this])}beforeSetDimensions(){xt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=xt(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){xt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=this.ticks.length,r=n.minRotation||0,o=n.maxRotation;let s=r,a,l,c;if(!this._isVisible()||!n.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),f=u.widest.width,h=u.highest.height,d=pn(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/i:d/(i-1),f+6>a&&(a=d/(i-(e.offset?.5:1)),l=this.maxHeight-Xl(e.grid)-n.padding-JC(e.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),s=e_(Math.min(Math.asin(pn((u.highest.height+6)/a,-1,1)),Math.asin(pn(l/c,-1,1))-Math.asin(pn(h/c,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){xt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const l=JC(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Xl(o)+l):(e.height=this.maxHeight,e.width=Xl(o)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:f,highest:h}=this._getLabelSizes(),d=i.padding*2,p=Gi(this.labelRotation),g=Math.cos(p),y=Math.sin(p);if(a){const m=i.mirror?0:y*f.width+g*h.height;e.height=Math.min(this.maxHeight,e.height+m+d)}else{const m=i.mirror?0:g*f.width+y*h.height;e.width=Math.min(this.maxWidth,e.width+m+d)}this._calculatePadding(c,u,y,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,d=0;l?c?(h=r*e.width,d=i*n.height):(h=i*e.height,d=r*n.width):o==="start"?d=n.width:o==="end"?h=e.width:o!=="inner"&&(h=e.width/2,d=n.width/2),this.paddingLeft=Math.max((h-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-f+s)*this.width/(this.width-f),0)}else{let u=n.height/2,f=e.height/2;o==="start"?(u=0,f=e.height):o==="end"&&(u=n.height,f=0),this.paddingTop=u+s,this.paddingBottom=f+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)st(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=XC(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,n){const{ctx:i,_longestTextCache:r}=this,o=[],s=[];let a=0,l=0,c,u,f,h,d,p,g,y,m,b,_;for(c=0;c<n;++c){if(h=e[c].label,d=this._resolveTickFontOptions(c),i.font=p=d.string,g=r[p]=r[p]||{data:{},gc:[]},y=d.lineHeight,m=b=0,!st(h)&&!Ct(h))m=sp(i,g.data,g.gc,m,h),b=y;else if(Ct(h))for(u=0,f=h.length;u<f;++u)_=h[u],!st(_)&&!Ct(_)&&(m=sp(i,g.data,g.gc,m,_),b+=y);o.push(m),s.push(b),a=Math.max(m,a),l=Math.max(b,l)}nne(r,n);const w=o.indexOf(a),S=s.indexOf(l),A=x=>({width:o[x]||0,height:s[x]||0});return{first:A(0),last:A(n-1),widest:A(w),highest:A(S),widths:o,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return ZZ(this._alignToPixels?hs(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=rne(this.getContext(),e,i))}return this.$context||(this.$context=ine(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Gi(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:o,position:s}=r,a=o.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),f=Xl(o),h=[],d=o.setContext(this.getContext()),p=d.drawBorder?d.borderWidth:0,g=p/2,y=function(F){return hs(i,F,p)};let m,b,_,w,S,A,x,k,P,E,I,B;if(s==="top")m=y(this.bottom),A=this.bottom-f,k=m-g,E=y(e.top)+g,B=e.bottom;else if(s==="bottom")m=y(this.top),E=e.top,B=y(e.bottom)-g,A=m+g,k=this.top+f;else if(s==="left")m=y(this.right),S=this.right-f,x=m-g,P=y(e.left)+g,I=e.right;else if(s==="right")m=y(this.left),P=e.left,I=y(e.right)-g,S=m+g,x=this.left+f;else if(n==="x"){if(s==="center")m=y((e.top+e.bottom)/2+.5);else if(Ze(s)){const F=Object.keys(s)[0],z=s[F];m=y(this.chart.scales[F].getPixelForValue(z))}E=e.top,B=e.bottom,A=m+g,k=A+f}else if(n==="y"){if(s==="center")m=y((e.left+e.right)/2);else if(Ze(s)){const F=Object.keys(s)[0],z=s[F];m=y(this.chart.scales[F].getPixelForValue(z))}S=m-g,x=S-f,P=e.left,I=e.right}const J=qe(r.ticks.maxTicksLimit,u),ee=Math.max(1,Math.ceil(u/J));for(b=0;b<u;b+=ee){const F=o.setContext(this.getContext(b)),z=F.lineWidth,v=F.color,$=F.borderDash||[],W=F.borderDashOffset,Y=F.tickWidth,Q=F.tickColor,ce=F.tickBorderDash||[],X=F.tickBorderDashOffset;_=tne(this,b,a),_!==void 0&&(w=hs(i,_,z),l?S=x=P=I=w:A=k=E=B=w,h.push({tx1:S,ty1:A,tx2:x,ty2:k,x1:P,y1:E,x2:I,y2:B,width:z,color:v,borderDash:$,borderDashOffset:W,tickWidth:Y,tickColor:Q,tickBorderDash:ce,tickBorderDashOffset:X}))}return this._ticksLength=u,this._borderValue=m,h}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:o}=i,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=o,h=Xl(i.grid),d=h+u,p=f?-u:d,g=-Gi(this.labelRotation),y=[];let m,b,_,w,S,A,x,k,P,E,I,B,J="middle";if(r==="top")A=this.bottom-p,x=this._getXAxisLabelAlignment();else if(r==="bottom")A=this.top+p,x=this._getXAxisLabelAlignment();else if(r==="left"){const F=this._getYAxisLabelAlignment(h);x=F.textAlign,S=F.x}else if(r==="right"){const F=this._getYAxisLabelAlignment(h);x=F.textAlign,S=F.x}else if(n==="x"){if(r==="center")A=(e.top+e.bottom)/2+d;else if(Ze(r)){const F=Object.keys(r)[0],z=r[F];A=this.chart.scales[F].getPixelForValue(z)+d}x=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")S=(e.left+e.right)/2-d;else if(Ze(r)){const F=Object.keys(r)[0],z=r[F];S=this.chart.scales[F].getPixelForValue(z)}x=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?J="top":l==="end"&&(J="bottom"));const ee=this._getLabelSizes();for(m=0,b=a.length;m<b;++m){_=a[m],w=_.label;const F=o.setContext(this.getContext(m));k=this.getPixelForTick(m)+o.labelOffset,P=this._resolveTickFontOptions(m),E=P.lineHeight,I=Ct(w)?w.length:1;const z=I/2,v=F.color,$=F.textStrokeColor,W=F.textStrokeWidth;let Y=x;s?(S=k,x==="inner"&&(m===b-1?Y=this.options.reverse?"left":"right":m===0?Y=this.options.reverse?"right":"left":Y="center"),r==="top"?c==="near"||g!==0?B=-I*E+E/2:c==="center"?B=-ee.highest.height/2-z*E+E:B=-ee.highest.height+E/2:c==="near"||g!==0?B=E/2:c==="center"?B=ee.highest.height/2-z*E:B=ee.highest.height-I*E,f&&(B*=-1)):(A=k,B=(1-I)*E/2);let Q;if(F.showLabelBackdrop){const ce=En(F.backdropPadding),X=ee.heights[m],L=ee.widths[m];let O=A+B-ce.top,N=S-ce.left;switch(J){case"middle":O-=X/2;break;case"bottom":O-=X;break}switch(x){case"center":N-=L/2;break;case"right":N-=L;break}Q={left:N,top:O,width:L+ce.width,height:X+ce.height,color:F.backdropColor}}y.push({rotation:g,label:w,font:P,color:v,strokeColor:$,strokeWidth:W,textOffset:B,textAlign:Y,textBaseline:J,translation:[S,A],backdrop:Q})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Gi(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,l=s.widest.width;let c,u;return n==="left"?r?(u=this.right+o,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+o,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:o,height:s}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,o,s),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,s;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(o=0,s=r.length;o<s;++o){const l=r[o];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{grid:i}}=this,r=i.setContext(this.getContext()),o=i.drawBorder?r.borderWidth:0;if(!o)return;const s=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,f;this.isHorizontal()?(l=hs(e,this.left,o)-o/2,c=hs(e,this.right,s)+s/2,u=f=a):(u=hs(e,this.top,o)-o/2,f=hs(e,this.bottom,s)+s/2,l=c=a),n.save(),n.lineWidth=r.borderWidth,n.strokeStyle=r.borderColor,n.beginPath(),n.moveTo(l,u),n.lineTo(c,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&mg(i,r);const o=this._labelItems||(this._labelItems=this._computeLabelItems(e));let s,a;for(s=0,a=o.length;s<a;++s){const l=o[s],c=l.font,u=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let f=l.textOffset;Ys(i,u,0,f,c,l)}r&&yg(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const o=cn(i.font),s=En(i.padding),a=i.align;let l=o.lineHeight/2;n==="bottom"||n==="center"||Ze(n)?(l+=s.bottom,Ct(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=s.top;const{titleX:c,titleY:u,maxWidth:f,rotation:h}=sne(this,l,n,a);Ys(e,i.text,0,0,o,{color:i.color,maxWidth:f,rotation:h,textAlign:one(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=qe(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==sa.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,s;for(o=0,s=n.length;o<s;++o){const a=n[o];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return cn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class hf{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;cne(n)&&(i=this.register(n));const r=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,ane(e,s,i),this.override&&et.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in et[r]&&(delete et[r][i],this.override&&delete Us[i])}}function ane(t,e,n){const i=iu(Object.create(null),[n?et.get(n):{},et.get(e),t.defaults]);et.set(e,i),t.defaultRoutes&&lne(e,t.defaultRoutes),t.descriptors&&et.describe(e,t.descriptors)}function lne(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),o=[t].concat(i).join("."),s=e[n].split("."),a=s.pop(),l=s.join(".");et.route(o,r,l,a)})}function cne(t){return"id"in t&&"defaults"in t}class une{constructor(){this.controllers=new hf(Zi,"datasets",!0),this.elements=new hf(er,"elements"),this.plugins=new hf(Object,"plugins"),this.scales=new hf(sa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):dt(r,s=>{const a=i||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,n,i){const r=Z1(e);xt(i["before"+r],[],i),n[e](i),xt(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var yr=new une;class Cg extends Zi{update(e){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:o,count:s}=eD(n,i,r);if(this._drawStart=o,this._drawCount=s,tD(n)&&(o=0,s=i.length),this.options.showLine){const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},e)}this.updateElements(i,o,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=yr.getElement("line")),super.addElements()}updateElements(e,n,i,r){const o=r==="reset",{iScale:s,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,r),f=this.getSharedOptions(u),h=this.includeOptions(r,f),d=s.axis,p=a.axis,{spanGaps:g,segment:y}=this.options,m=ul(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||r==="none";let _=n>0&&this.getParsed(n-1);for(let w=n;w<n+i;++w){const S=e[w],A=this.getParsed(w),x=b?S:{},k=st(A[p]),P=x[d]=s.getPixelForValue(A[d],w),E=x[p]=o||k?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,A,l):A[p],w);x.skip=isNaN(P)||isNaN(E)||k,x.stop=w>0&&Math.abs(A[d]-_[d])>m,y&&(x.parsed=A,x.raw=c.data[w]),h&&(x.options=f||this.resolveDataElementOptions(w,S.active?"active":r)),b||this.updateElement(S,w,x,r),_=A}this.updateSharedOptions(f,r,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const o=n[0].size(this.resolveDataElementOptions(0)),s=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,o,s)/2}}Cg.id="scatter";Cg.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};Cg.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var fne=Object.freeze({__proto__:null,BarController:bg,BubbleController:_g,DoughnutController:Dl,LineController:wg,PolarAreaController:xg,PieController:f_,RadarController:Sg,ScatterController:Cg});function ds(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Av{constructor(e){this.options=e||{}}init(e){}formats(){return ds()}parse(e,n){return ds()}format(e,n){return ds()}add(e,n,i){return ds()}diff(e,n,i){return ds()}startOf(e,n,i){return ds()}endOf(e,n){return ds()}}Av.override=function(t){Object.assign(Av.prototype,t)};var hne={_date:Av};function dne(t,e,n,i){const{controller:r,data:o,_sorted:s}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&s&&o.length){const l=a._reversePixels?eee:Gr;if(i){if(r._sharedOptions){const c=o[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const f=l(o,e,n-u),h=l(o,e,n+u);return{lo:f.lo,hi:h.hi}}}}else return l(o,e,n)}return{lo:0,hi:o.length-1}}function Eu(t,e,n,i,r){const o=t.getSortedVisibleDatasetMetas(),s=n[e];for(let a=0,l=o.length;a<l;++a){const{index:c,data:u}=o[a],{lo:f,hi:h}=dne(o[a],e,s,r);for(let d=f;d<=h;++d){const p=u[d];p.skip||i(p,c,d)}}}function pne(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const o=e?Math.abs(i.x-r.x):0,s=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function Xm(t,e,n,i,r){const o=[];return!r&&!t.isPointInArea(e)||Eu(t,n,e,function(a,l,c){!r&&!ou(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function gne(t,e,n,i){let r=[];function o(s,a,l){const{startAngle:c,endAngle:u}=s.getProps(["startAngle","endAngle"],i),{angle:f}=GT(s,{x:e.x,y:e.y});ru(f,c,u)&&r.push({element:s,datasetIndex:a,index:l})}return Eu(t,n,e,o),r}function mne(t,e,n,i,r,o){let s=[];const a=pne(n);let l=Number.POSITIVE_INFINITY;function c(u,f,h){const d=u.inRange(e.x,e.y,r);if(i&&!d)return;const p=u.getCenterPoint(r);if(!(!!o||t.isPointInArea(p))&&!d)return;const y=a(e,p);y<l?(s=[{element:u,datasetIndex:f,index:h}],l=y):y===l&&s.push({element:u,datasetIndex:f,index:h})}return Eu(t,n,e,c),s}function Jm(t,e,n,i,r,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?gne(t,e,n,r):mne(t,e,n,i,r,o)}function QC(t,e,n,i,r){const o=[],s=n==="x"?"inXRange":"inYRange";let a=!1;return Eu(t,n,e,(l,c,u)=>{l[s](e[n],r)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:o}var yne={evaluateInteractionItems:Eu,modes:{index(t,e,n,i){const r=bs(e,t),o=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?Xm(t,r,o,i,s):Jm(t,r,o,!1,i,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const r=bs(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;let a=n.intersect?Xm(t,r,o,i,s):Jm(t,r,o,!1,i,s);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const r=bs(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return Xm(t,r,o,i,s)},nearest(t,e,n,i){const r=bs(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return Jm(t,r,o,n.intersect,i,s)},x(t,e,n,i){const r=bs(e,t);return QC(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=bs(e,t);return QC(t,r,"y",n.intersect,i)}}};const CD=["left","top","right","bottom"];function Jl(t,e){return t.filter(n=>n.pos===e)}function ZC(t,e){return t.filter(n=>CD.indexOf(n.pos)===-1&&n.box.axis===e)}function Ql(t,e){return t.sort((n,i)=>{const r=e?i:n,o=e?n:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function vne(t){const e=[];let n,i,r,o,s,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:o,options:{stack:s,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e}function bne(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:o}=n;if(!i||!CD.includes(r))continue;const s=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function _ne(t,e){const n=bne(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function wne(t){const e=vne(t),n=Ql(e.filter(c=>c.box.fullSize),!0),i=Ql(Jl(e,"left"),!0),r=Ql(Jl(e,"right")),o=Ql(Jl(e,"top"),!0),s=Ql(Jl(e,"bottom")),a=ZC(e,"x"),l=ZC(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:Jl(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}function eO(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function OD(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function xne(t,e,n,i){const{pos:r,box:o}=n,s=t.maxPadding;if(!Ze(r)){n.size&&(t[r]-=n.size);const f=i[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?o.height:o.width),n.size=f.size/f.count,t[r]+=n.size}o.getPadding&&OD(s,o.getPadding());const a=Math.max(0,e.outerWidth-eO(s,t,"left","right")),l=Math.max(0,e.outerHeight-eO(s,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Sne(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function kne(t,e){const n=e.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(e[s],n[s])}),o}return i(t?["left","right"]:["top","bottom"])}function uc(t,e,n,i){const r=[];let o,s,a,l,c,u;for(o=0,s=t.length,c=0;o<s;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,kne(a.horizontal,e));const{same:f,other:h}=xne(e,n,a,i);c|=f&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&uc(r,e,n,i)||u}function df(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function tO(t,e,n,i){const r=n.padding;let{x:o,y:s}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const f=e.w*u,h=c.size||l.height;Ni(c.start)&&(s=c.start),l.fullSize?df(l,r.left,s,n.outerWidth-r.right-r.left,h):df(l,e.left+c.placed,s,f,h),c.start=s,c.placed+=f,s=l.bottom}else{const f=e.h*u,h=c.size||l.width;Ni(c.start)&&(o=c.start),l.fullSize?df(l,o,r.top,h,n.outerHeight-r.bottom-r.top):df(l,o,e.top+c.placed,h,f),c.start=o,c.placed+=f,o=l.right}}e.x=o,e.y=s}et.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var $n={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=En(t.options.layout.padding),o=Math.max(e-r.width,0),s=Math.max(n-r.height,0),a=wne(t.boxes),l=a.vertical,c=a.horizontal;dt(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,y)=>y.box.options&&y.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),h=Object.assign({},r);OD(h,En(i));const d=Object.assign({maxPadding:h,w:o,h:s,x:r.left,y:r.top},r),p=_ne(l.concat(c),f);uc(a.fullSize,d,f,p),uc(l,d,f,p),uc(c,d,f,p)&&uc(l,d,f,p),Sne(d),tO(a.leftAndTop,d,f,p),d.x+=d.w,d.y+=d.h,tO(a.rightAndBottom,d,f,p),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},dt(a.chartArea,g=>{const y=g.box;Object.assign(y,t.chartArea),y.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class MD{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class Cne extends MD{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const $h="$chartjs",One={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nO=t=>t===null||t==="";function Mne(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[$h]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",nO(r)){const o=EC(t,"width");o!==void 0&&(t.width=o)}if(nO(i))if(t.style.height==="")t.height=t.width/(e||2);else{const o=EC(t,"height");o!==void 0&&(t.height=o)}return t}const AD=ate?{passive:!0}:!1;function Ane(t,e,n){t.addEventListener(e,n,AD)}function Pne(t,e,n){t.canvas.removeEventListener(e,n,AD)}function Tne(t,e){const n=One[t.type]||t.type,{x:i,y:r}=bs(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function lp(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Dne(t,e,n){const i=t.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||lp(a.addedNodes,i),s=s&&!lp(a.removedNodes,i);s&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function $ne(t,e,n){const i=t.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||lp(a.removedNodes,i),s=s&&!lp(a.addedNodes,i);s&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const au=new Map;let iO=0;function PD(){const t=window.devicePixelRatio;t!==iO&&(iO=t,au.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Rne(t,e){au.size||window.addEventListener("resize",PD),au.set(t,e)}function Ene(t){au.delete(t),au.size||window.removeEventListener("resize",PD)}function Ine(t,e,n){const i=t.canvas,r=i&&u_(i);if(!r)return;const o=ZT((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),s=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return s.observe(r),Rne(t,o),s}function Qm(t,e,n){n&&n.disconnect(),e==="resize"&&Ene(t)}function Lne(t,e,n){const i=t.canvas,r=ZT(o=>{t.ctx!==null&&n(Tne(o,t))},t,o=>{const s=o[0];return[s,s.offsetX,s.offsetY]});return Ane(i,e,r),r}class Nne extends MD{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Mne(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[$h])return!1;const i=n[$h].initial;["height","width"].forEach(o=>{const s=i[o];st(s)?n.removeAttribute(o):n.setAttribute(o,s)});const r=i.style||{};return Object.keys(r).forEach(o=>{n.style[o]=r[o]}),n.width=n.width,delete n[$h],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),s={attach:Dne,detach:$ne,resize:Ine}[n]||Lne;r[n]=s(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Qm,detach:Qm,resize:Qm}[n]||Pne)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return ste(e,n,i,r)}isAttached(e){const n=u_(e);return!!(n&&n.isConnected)}}function Bne(t){return!gD()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Cne:Nne}class Fne{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,n,i,r){r=r||{};for(const o of e){const s=o.plugin,a=s[i],l=[n,r,o.options];if(xt(a,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){st(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=qe(i.options&&i.options.plugins,{}),o=Hne(i);return r===!1&&!n?[]:jne(e,o,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function Hne(t){const e={},n=[],i=Object.keys(yr.plugins.items);for(let o=0;o<i.length;o++)n.push(yr.getPlugin(i[o]));const r=t.plugins||[];for(let o=0;o<r.length;o++){const s=r[o];n.indexOf(s)===-1&&(n.push(s),e[s.id]=!0)}return{plugins:n,localIds:e}}function Vne(t,e){return!e&&t===!1?null:t===!0?{}:t}function jne(t,{plugins:e,localIds:n},i,r){const o=[],s=t.getContext();for(const a of e){const l=a.id,c=Vne(i[l],r);c!==null&&o.push({plugin:a,options:zne(t.config,{plugin:a,local:n[l]},c,s)})}return o}function zne(t,{plugin:e,local:n},i,r){const o=t.pluginScopeKeys(e),s=t.getOptionScopes(i,o);return n&&e.defaults&&s.push(e.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pv(t,e){const n=et.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Wne(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Une(t,e){return t===e?"_index_":"_value_"}function Yne(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Tv(t,e){return t==="x"||t==="y"?t:e.axis||Yne(e.position)||t.charAt(0).toLowerCase()}function qne(t,e){const n=Us[t.type]||{scales:{}},i=e.scales||{},r=Pv(t.type,e),o=Object.create(null),s=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Ze(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Tv(a,l),u=Une(c,r),f=n.scales||{};o[c]=o[c]||a,s[a]=Ec(Object.create(null),[{axis:c},l,f[c],f[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||Pv(l,e),f=(Us[l]||{}).scales||{};Object.keys(f).forEach(h=>{const d=Wne(h,c),p=a[d+"AxisID"]||o[d]||d;s[p]=s[p]||Object.create(null),Ec(s[p],[{axis:d},i[p],f[h]])})}),Object.keys(s).forEach(a=>{const l=s[a];Ec(l,[et.scales[l.type],et.scale])}),s}function TD(t){const e=t.options||(t.options={});e.plugins=qe(e.plugins,{}),e.scales=qne(t,e)}function DD(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Kne(t){return t=t||{},t.data=DD(t.data),TD(t),t}const rO=new Map,$D=new Set;function pf(t,e){let n=rO.get(t);return n||(n=e(),rO.set(t,n),$D.add(n)),n}const Zl=(t,e,n)=>{const i=zo(e,n);i!==void 0&&t.add(i)};class Gne{constructor(e){this._config=Kne(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=DD(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),TD(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return pf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return pf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return pf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return pf(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:o}=this,s=this._cachedScopes(e,i),a=s.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(f=>Zl(l,e,f))),u.forEach(f=>Zl(l,r,f)),u.forEach(f=>Zl(l,Us[o]||{},f)),u.forEach(f=>Zl(l,et,f)),u.forEach(f=>Zl(l,Ov,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),$D.has(n)&&s.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Us[n]||{},et.datasets[n]||{},{type:n},et,Ov]}resolveNamedOptions(e,n,i,r=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=oO(this._resolverCache,e,r);let l=s;if(Jne(s,n)){o.$shared=!1,i=Wo(i)?i():i;const c=this.createResolver(e,i,a);l=fl(s,i,c)}for(const c of n)o[c]=l[c];return o}createResolver(e,n,i=[""],r){const{resolver:o}=oO(this._resolverCache,e,i);return Ze(n)?fl(o,n,void 0,r):o}}function oO(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let o=i.get(r);return o||(o={resolver:a_(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,o)),o}const Xne=t=>Ze(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||Wo(t[n]),!1);function Jne(t,e){const{isScriptable:n,isIndexable:i}=cD(t);for(const r of e){const o=n(r),s=i(r),a=(s||o)&&t[r];if(o&&(Wo(a)||Xne(a))||s&&Ct(a))return!0}return!1}var Qne="3.9.1";const Zne=["top","bottom","left","right","chartArea"];function sO(t,e){return t==="top"||t==="bottom"||Zne.indexOf(t)===-1&&e==="x"}function aO(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function lO(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),xt(n&&n.onComplete,[t],e)}function eie(t){const e=t.chart,n=e.options.animation;xt(n&&n.onProgress,[t],e)}function RD(t){return gD()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const cp={},ED=t=>{const e=RD(t);return Object.values(cp).filter(n=>n.canvas===e).pop()};function tie(t,e,n){const i=Object.keys(t);for(const r of i){const o=+r;if(o>=e){const s=t[r];delete t[r],(n>0||o>e)&&(t[o+n]=s)}}}function nie(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}class Og{constructor(e,n){const i=this.config=new Gne(n),r=RD(e),o=ED(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Bne(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,s.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=VZ(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Fne,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=iee(f=>this.update(f),s.resizeDelay||0),this._dataChanges=[],cp[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Hr.listen(this,"complete",lO),Hr.listen(this,"progress",eie),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:o}=this;return st(e)?n&&o?o:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():RC(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return TC(this.canvas,this.ctx),this}stop(){return Hr.stop(this),this}resize(e,n){Hr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,n,o),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,RC(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),xt(i.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};dt(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((s,a)=>(s[a]=!1,s),{});let o=[];n&&(o=o.concat(Object.keys(n).map(s=>{const a=n[s],l=Tv(s,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),dt(o,s=>{const a=s.options,l=a.id,c=Tv(l,a),u=qe(a.type,s.dtype);(a.position===void 0||sO(a.position,c)!==sO(s.dposition))&&(a.position=s.dposition),r[l]=!0;let f=null;if(l in i&&i[l].type===u)f=i[l];else{const h=yr.getScale(u);f=new h({id:l,type:u,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(a,e)}),dt(r,(s,a)=>{s||delete i[a]}),dt(i,s=>{$n.configure(this,s,s.options),$n.addBox(this,s)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,o)=>r.index-o.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(aO("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const o=n[i];let s=this.getDatasetMeta(i);const a=o.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(i),s=this.getDatasetMeta(i)),s.type=a,s.indexAxis=o.indexAxis||Pv(a,this.options),s.order=o.order||0,s.index=i,s.label=""+o.label,s.visible=this.isDatasetVisible(i),s.controller)s.controller.updateIndex(i),s.controller.linkScales();else{const l=yr.getController(a),{datasetElementType:c,dataElementType:u}=et.datasets[a];Object.assign(l.prototype,{dataElementType:yr.getElement(u),datasetElementType:c&&yr.getElement(c)}),s.controller=new l(this,i),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){dt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:f}=this.getDatasetMeta(c),h=!r&&o.indexOf(f)===-1;f.buildOrUpdateElements(h),s=Math.max(+f.getMaxOverflow(),s)}s=this._minPadding=i.layout.autoPadding?s:0,this._updateLayout(s),r||dt(o,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(aO("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){dt(this.scales,e=>{$n.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!vC(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of n){const s=i==="_removeElements"?-o:o;tie(e,r,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(e.filter(s=>s[0]===o).map((s,a)=>a+","+s.splice(1).join(","))),r=i(0);for(let o=1;o<n;o++)if(!vC(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$n.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],dt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Wo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Hr.has(this)?this.attached&&!Hr.running(this)&&Hr.start(this):(this.draw(),lO({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,o;for(r=0,o=n.length;r<o;++r){const s=n[r];(!e||s.visible)&&i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,o=this.chartArea,s={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&mg(n,{left:i.left===!1?0:o.left-i.left,right:i.right===!1?this.width:o.right+i.right,top:i.top===!1?0:o.top-i.top,bottom:i.bottom===!1?this.height:o.bottom+i.bottom}),e.controller.draw(),r&&yg(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return ou(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const o=yne.modes[n];return typeof o=="function"?o(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(o=>o&&o._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ns(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",o=this.getDatasetMeta(e),s=o.controller._resolveAnimations(void 0,r);Ni(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),s.update(o,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Hr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),TC(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete cp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(o,s)=>{n.addEventListener(this,o,s),e[o]=s},r=(o,s,a)=>{o.offsetX=s,o.offsetY=a,this._eventHandler(o)};dt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let s;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",o),i("detach",s)};s=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():s()}unbindEvents(){dt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},dt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let o,s,a,l;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){s=e[a];const c=s&&this.getDatasetMeta(s.datasetIndex).controller;c&&c[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:o,index:s})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[s],index:s}});!np(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}_updateHoverStyles(e,n,i){const r=this.options.hover,o=(l,c)=>l.filter(u=>!c.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),s=o(n,e),a=i?e:o(e,n);s.length&&this.updateHoverStyle(s,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:o}=this,s=n,a=this._getActiveElements(e,r,i,s),l=qZ(e),c=nie(e,this._lastEvent,i,l);i&&(this._lastEvent=null,xt(o.onHover,[e,a,this],this),l&&xt(o.onClick,[e,a,this],this));const u=!np(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}}const cO=()=>dt(Og.instances,t=>t._plugins.invalidate()),mo=!0;Object.defineProperties(Og,{defaults:{enumerable:mo,value:et},instances:{enumerable:mo,value:cp},overrides:{enumerable:mo,value:Us},registry:{enumerable:mo,value:yr},version:{enumerable:mo,value:Qne},getChart:{enumerable:mo,value:ED},register:{enumerable:mo,value:(...t)=>{yr.add(...t),cO()}},unregister:{enumerable:mo,value:(...t)=>{yr.remove(...t),cO()}}});function ID(t,e,n){const{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(o,s,a,i-c,n+c),l>r?(c=r/l,t.arc(o,s,l,n+c,i-c,!0)):t.arc(o,s,r,n+Ut,i-Ut),t.closePath(),t.clip()}function iie(t){return s_(t,["outerStart","outerEnd","innerStart","innerEnd"])}function rie(t,e,n,i){const r=iie(t.options.borderRadius),o=(n-e)/2,s=Math.min(o,i*e/2),a=l=>{const c=(n-Math.min(o,l))*i/2;return pn(l,0,Math.min(o,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:pn(r.innerStart,0,s),innerEnd:pn(r.innerEnd,0,s)}}function wa(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Dv(t,e,n,i,r,o){const{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,f=Math.max(e.outerRadius+i+n-c,0),h=u>0?u+i+n+c:0;let d=0;const p=r-l;if(i){const F=u>0?u-i:0,z=f>0?f-i:0,v=(F+z)/2,$=v!==0?p*v/(v+i):p;d=(p-$)/2}const g=Math.max(.001,p*f-n/Bt)/f,y=(p-g)/2,m=l+y+d,b=r-y-d,{outerStart:_,outerEnd:w,innerStart:S,innerEnd:A}=rie(e,h,f,b-m),x=f-_,k=f-w,P=m+_/x,E=b-w/k,I=h+S,B=h+A,J=m+S/I,ee=b-A/B;if(t.beginPath(),o){if(t.arc(s,a,f,P,E),w>0){const v=wa(k,E,s,a);t.arc(v.x,v.y,w,E,b+Ut)}const F=wa(B,b,s,a);if(t.lineTo(F.x,F.y),A>0){const v=wa(B,ee,s,a);t.arc(v.x,v.y,A,b+Ut,ee+Math.PI)}if(t.arc(s,a,h,b-A/h,m+S/h,!0),S>0){const v=wa(I,J,s,a);t.arc(v.x,v.y,S,J+Math.PI,m-Ut)}const z=wa(x,m,s,a);if(t.lineTo(z.x,z.y),_>0){const v=wa(x,P,s,a);t.arc(v.x,v.y,_,m-Ut,P)}}else{t.moveTo(s,a);const F=Math.cos(P)*f+s,z=Math.sin(P)*f+a;t.lineTo(F,z);const v=Math.cos(E)*f+s,$=Math.sin(E)*f+a;t.lineTo(v,$)}t.closePath()}function oie(t,e,n,i,r){const{fullCircles:o,startAngle:s,circumference:a}=e;let l=e.endAngle;if(o){Dv(t,e,n,i,s+yt,r);for(let c=0;c<o;++c)t.fill();isNaN(a)||(l=s+a%yt,a%yt===0&&(l+=yt))}return Dv(t,e,n,i,l,r),t.fill(),l}function sie(t,e,n){const{x:i,y:r,startAngle:o,pixelMargin:s,fullCircles:a}=e,l=Math.max(e.outerRadius-s,0),c=e.innerRadius+s;let u;for(n&&ID(t,e,o+yt),t.beginPath(),t.arc(i,r,c,o+yt,o,!0),u=0;u<a;++u)t.stroke();for(t.beginPath(),t.arc(i,r,l,o,o+yt),u=0;u<a;++u)t.stroke()}function aie(t,e,n,i,r,o){const{options:s}=e,{borderWidth:a,borderJoinStyle:l}=s,c=s.borderAlign==="inner";a&&(c?(t.lineWidth=a*2,t.lineJoin=l||"round"):(t.lineWidth=a,t.lineJoin=l||"bevel"),e.fullCircles&&sie(t,e,c),c&&ID(t,e,r),Dv(t,e,n,i,r,o),t.stroke())}class Mg extends er{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.getProps(["x","y"],i),{angle:o,distance:s}=GT(r,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=this.options.spacing/2,p=qe(f,l-a)>=yt||ru(o,a,l),g=Kr(s,c+h,u+h);return p&&g}getCenterPoint(e){const{x:n,y:i,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:c}=this.options,u=(r+o)/2,f=(s+a+c+l)/2;return{x:n+Math.cos(u)*f,y:i+Math.sin(u)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,r=(n.offset||0)/2,o=(n.spacing||0)/2,s=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>yt?Math.floor(i/yt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=0;if(r){a=r/2;const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*a,Math.sin(c)*a),this.circumference>=Bt&&(a=r)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor;const l=oie(e,this,a,o,s);aie(e,this,a,o,l,s),e.restore()}}Mg.id="arc";Mg.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};Mg.defaultRoutes={backgroundColor:"backgroundColor"};function LD(t,e,n=e){t.lineCap=qe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(qe(n.borderDash,e.borderDash)),t.lineDashOffset=qe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=qe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=qe(n.borderWidth,e.borderWidth),t.strokeStyle=qe(n.borderColor,e.borderColor)}function lie(t,e,n){t.lineTo(n.x,n.y)}function cie(t){return t.stepped?Tee:t.tension||t.cubicInterpolationMode==="monotone"?Dee:lie}function ND(t,e,n={}){const i=t.length,{start:r=0,end:o=i-1}=n,{start:s,end:a}=e,l=Math.max(r,s),c=Math.min(o,a),u=r<s&&o<s||r>a&&o>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function uie(t,e,n,i){const{points:r,options:o}=e,{count:s,start:a,loop:l,ilen:c}=ND(r,n,i),u=cie(o);let{move:f=!0,reverse:h}=i||{},d,p,g;for(d=0;d<=c;++d)p=r[(a+(h?c-d:d))%s],!p.skip&&(f?(t.moveTo(p.x,p.y),f=!1):u(t,g,p,h,o.stepped),g=p);return l&&(p=r[(a+(h?c:0))%s],u(t,g,p,h,o.stepped)),!!l}function fie(t,e,n,i){const r=e.points,{count:o,start:s,ilen:a}=ND(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,f=0,h,d,p,g,y,m;const b=w=>(s+(c?a-w:w))%o,_=()=>{g!==y&&(t.lineTo(u,y),t.lineTo(u,g),t.lineTo(u,m))};for(l&&(d=r[b(0)],t.moveTo(d.x,d.y)),h=0;h<=a;++h){if(d=r[b(h)],d.skip)continue;const w=d.x,S=d.y,A=w|0;A===p?(S<g?g=S:S>y&&(y=S),u=(f*u+w)/++f):(_(),t.lineTo(w,S),p=A,f=0,g=y=S),m=S}_()}function $v(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?fie:uie}function hie(t){return t.stepped?lte:t.tension||t.cubicInterpolationMode==="monotone"?cte:_s}function die(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),LD(t,e.options),t.stroke(r)}function pie(t,e,n,i){const{segments:r,options:o}=e,s=$v(e);for(const a of r)LD(t,o,a.style),t.beginPath(),s(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const gie=typeof Path2D=="function";function mie(t,e,n,i){gie&&!e.options.segment?die(t,e,n,i):pie(t,e,n,i)}class is extends er{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;ete(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=mte(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],o=this.points,s=_D(this,{property:n,start:r,end:r});if(!s.length)return;const a=[],l=hie(i);let c,u;for(c=0,u=s.length;c<u;++c){const{start:f,end:h}=s[c],d=o[f],p=o[h];if(d===p){a.push(d);continue}const g=Math.abs((r-d[n])/(p[n]-d[n])),y=l(d,p,g,i.stepped);y[n]=e[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,n,i){return $v(this)(e,this,n,i)}path(e,n,i){const r=this.segments,o=$v(this);let s=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)s&=o(e,this,a,{start:n,end:n+i-1});return!!s}draw(e,n,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),mie(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}is.id="line";is.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};is.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};is.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function uO(t,e,n,i){const r=t.options,{[n]:o}=t.getProps([n],i);return Math.abs(e-o)<r.radius+r.hitRadius}class Ag extends er{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.options,{x:o,y:s}=this.getProps(["x","y"],i);return Math.pow(e-o,2)+Math.pow(n-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return uO(this,e,"x",n)}inYRange(e,n){return uO(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!ou(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Mv(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}Ag.id="point";Ag.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};Ag.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function BD(t,e){const{x:n,y:i,base:r,width:o,height:s}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,f;return t.horizontal?(f=s/2,a=Math.min(n,r),l=Math.max(n,r),c=i-f,u=i+f):(f=o/2,a=n-f,l=n+f,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Co(t,e,n,i){return t?0:pn(e,n,i)}function yie(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,o=lD(i);return{t:Co(r.top,o.top,0,n),r:Co(r.right,o.right,0,e),b:Co(r.bottom,o.bottom,0,n),l:Co(r.left,o.left,0,e)}}function vie(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=Is(r),s=Math.min(e,n),a=t.borderSkipped,l=i||Ze(r);return{topLeft:Co(!l||a.top||a.left,o.topLeft,0,s),topRight:Co(!l||a.top||a.right,o.topRight,0,s),bottomLeft:Co(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Co(!l||a.bottom||a.right,o.bottomRight,0,s)}}function bie(t){const e=BD(t),n=e.right-e.left,i=e.bottom-e.top,r=yie(t,n/2,i/2),o=vie(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Zm(t,e,n,i){const r=e===null,o=n===null,a=t&&!(r&&o)&&BD(t,i);return a&&(r||Kr(e,a.left,a.right))&&(o||Kr(n,a.top,a.bottom))}function _ie(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function wie(t,e){t.rect(e.x,e.y,e.w,e.h)}function ey(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,s=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+o,h:t.h+s,radius:t.radius}}class Pg extends er{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:s}=bie(this),a=_ie(s.radius)?su:wie;e.save(),(s.w!==o.w||s.h!==o.h)&&(e.beginPath(),a(e,ey(s,n,o)),e.clip(),a(e,ey(o,-n,s)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,ey(o,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Zm(this,e,n,i)}inXRange(e,n){return Zm(this,e,null,n)}inYRange(e,n){return Zm(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+r)/2:n,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Pg.id="bar";Pg.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Pg.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var xie=Object.freeze({__proto__:null,ArcElement:Mg,LineElement:is,PointElement:Ag,BarElement:Pg});function Sie(t,e,n,i,r){const o=r.samples||i;if(o>=n)return t.slice(e,e+n);const s=[],a=(n-2)/(o-2);let l=0;const c=e+n-1;let u=e,f,h,d,p,g;for(s[l++]=t[u],f=0;f<o-2;f++){let y=0,m=0,b;const _=Math.floor((f+1)*a)+1+e,w=Math.min(Math.floor((f+2)*a)+1,n)+e,S=w-_;for(b=_;b<w;b++)y+=t[b].x,m+=t[b].y;y/=S,m/=S;const A=Math.floor(f*a)+1+e,x=Math.min(Math.floor((f+1)*a)+1,n)+e,{x:k,y:P}=t[u];for(d=p=-1,b=A;b<x;b++)p=.5*Math.abs((k-y)*(t[b].y-P)-(k-t[b].x)*(m-P)),p>d&&(d=p,h=t[b],g=b);s[l++]=h,u=g}return s[l++]=t[c],s}function kie(t,e,n,i){let r=0,o=0,s,a,l,c,u,f,h,d,p,g;const y=[],m=e+n-1,b=t[e].x,w=t[m].x-b;for(s=e;s<e+n;++s){a=t[s],l=(a.x-b)/w*i,c=a.y;const S=l|0;if(S===u)c<p?(p=c,f=s):c>g&&(g=c,h=s),r=(o*r+a.x)/++o;else{const A=s-1;if(!st(f)&&!st(h)){const x=Math.min(f,h),k=Math.max(f,h);x!==d&&x!==A&&y.push({...t[x],x:r}),k!==d&&k!==A&&y.push({...t[k],x:r})}s>0&&A!==d&&y.push(t[A]),y.push(a),u=S,o=0,p=g=c,f=h=d=s}}return y}function FD(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function fO(t){t.data.datasets.forEach(e=>{FD(e)})}function Cie(t,e){const n=e.length;let i=0,r;const{iScale:o}=t,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(i=pn(Gr(e,o.axis,s).lo,0,n-1)),c?r=pn(Gr(e,o.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var Oie={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){fO(t);return}const i=t.width;t.data.datasets.forEach((r,o)=>{const{_data:s,indexAxis:a}=r,l=t.getDatasetMeta(o),c=s||r.data;if(cc([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:f,count:h}=Cie(l,c);const d=n.threshold||4*i;if(h<=d){FD(r);return}st(s)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=Sie(c,f,h,i,n);break;case"min-max":p=kie(c,f,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=p})},destroy(t){fO(t)}};function Mie(t,e,n){const i=t.segments,r=t.points,o=e.points,s=[];for(const a of i){let{start:l,end:c}=a;c=h_(l,c,r);const u=Rv(n,r[l],r[c],a.loop);if(!e.segments){s.push({source:a,target:u,start:r[l],end:r[c]});continue}const f=_D(e,u);for(const h of f){const d=Rv(n,o[h.start],o[h.end],h.loop),p=bD(a,r,d);for(const g of p)s.push({source:g,target:h,start:{[n]:hO(u,d,"start",Math.max)},end:{[n]:hO(u,d,"end",Math.min)}})}}return s}function Rv(t,e,n,i){if(i)return;let r=e[t],o=n[t];return t==="angle"&&(r=ci(r),o=ci(o)),{property:t,start:r,end:o}}function Aie(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,o=[];return e.segments.forEach(({start:s,end:a})=>{a=h_(s,a,r);const l=r[s],c=r[a];i!==null?(o.push({x:l.x,y:i}),o.push({x:c.x,y:i})):n!==null&&(o.push({x:n,y:l.y}),o.push({x:n,y:c.y}))}),o}function h_(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function hO(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function HD(t,e){let n=[],i=!1;return Ct(t)?(i=!0,n=t):n=Aie(t,e),n.length?new is({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function dO(t){return t&&t.fill!==!1}function Pie(t,e,n){let r=t[e].fill;const o=[e];let s;if(!n)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!tn(r))return r;if(s=t[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function Tie(t,e,n){const i=Eie(t);if(Ze(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return tn(r)&&Math.floor(r)===r?Die(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Die(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function $ie(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ze(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Rie(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:Ze(t)?i=t.value:i=e.getBaseValue(),i}function Eie(t){const e=t.options,n=e.fill;let i=qe(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Iie(t){const{scale:e,index:n,line:i}=t,r=[],o=i.segments,s=i.points,a=Lie(e,n);a.push(HD({x:null,y:e.bottom},i));for(let l=0;l<o.length;l++){const c=o[l];for(let u=c.start;u<=c.end;u++)Nie(r,s[u],a)}return new is({points:r,options:{}})}function Lie(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function Nie(t,e,n){const i=[];for(let r=0;r<n.length;r++){const o=n[r],{first:s,last:a,point:l}=Bie(o,e,"x");if(!(!l||s&&a)){if(s)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function Bie(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],o=t.segments,s=t.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const u=o[c],f=s[u.start][n],h=s[u.end][n];if(Kr(r,f,h)){a=r===f,l=r===h;break}}return{first:a,last:l,point:i}}class VD{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:o,radius:s}=this;return n=n||{start:0,end:yt},e.arc(r,o,s,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,o=e.angle;return{x:n+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function Fie(t){const{chart:e,fill:n,line:i}=t;if(tn(n))return Hie(e,n);if(n==="stack")return Iie(t);if(n==="shape")return!0;const r=Vie(t);return r instanceof VD?r:HD(r,i)}function Hie(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function Vie(t){return(t.scale||{}).getPointPositionForValue?zie(t):jie(t)}function jie(t){const{scale:e={},fill:n}=t,i=$ie(n,e);if(tn(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function zie(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,o=i.reverse?e.max:e.min,s=Rie(n,e,o),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,o);return new VD({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,s));return a}function ty(t,e,n){const i=Fie(e),{line:r,scale:o,axis:s}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:f=c}=l||{};i&&r.points.length&&(mg(t,n),Wie(t,{line:r,target:i,above:u,below:f,area:n,scale:o,axis:s}),yg(t))}function Wie(t,e){const{line:n,target:i,above:r,below:o,area:s,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&o!==r&&(pO(t,i,s.top),gO(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),pO(t,i,s.bottom)),gO(t,{line:n,target:i,color:o,scale:a,property:l}),t.restore()}function pO(t,e,n){const{segments:i,points:r}=e;let o=!0,s=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],f=r[h_(l,c,r)];o?(t.moveTo(u.x,u.y),o=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(f.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function gO(t,e){const{line:n,target:i,property:r,color:o,scale:s}=e,a=Mie(n,i,r);for(const{source:l,target:c,start:u,end:f}of a){const{style:{backgroundColor:h=o}={}}=l,d=i!==!0;t.save(),t.fillStyle=h,Uie(t,s,d&&Rv(r,u,f)),t.beginPath();const p=!!n.pathSegment(t,l);let g;if(d){p?t.closePath():mO(t,i,f,r);const y=!!i.pathSegment(t,c,{move:p,reverse:!0});g=p&&y,g||mO(t,i,u,r)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function Uie(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:o,start:s,end:a}=n||{};o==="x"&&(t.beginPath(),t.rect(s,i,a-s,r-i),t.clip())}function mO(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var Yie={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let o,s,a,l;for(s=0;s<i;++s)o=t.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof is&&(l={visible:t.isDatasetVisible(s),index:s,fill:Tie(a,s,i),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<i;++s)l=r[s],!(!l||l.fill===!1)&&(l.fill=Pie(r,s,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let s=r.length-1;s>=0;--s){const a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&ty(t.ctx,a,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;dO(o)&&ty(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!dO(i)||n.drawTime!=="beforeDatasetDraw"||ty(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const yO=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},qie=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class vO extends er{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=xt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=cn(i.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=yO(i,o);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(s,o,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let f=e;o.textAlign="left",o.textBaseline="middle";let h=-1,d=-u;return this.legendItems.forEach((p,g)=>{const y=i+n/2+o.measureText(p.text).width;(g===0||c[c.length-1]+y+2*a>s)&&(f+=u,c[c.length-(g>0?0:1)]=0,d+=u,h++),l[g]={left:0,top:d,row:h,width:y,height:r},c[c.length-1]+=y+a}),f}_fitCols(e,n,i,r){const{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-e;let f=a,h=0,d=0,p=0,g=0;return this.legendItems.forEach((y,m)=>{const b=i+n/2+o.measureText(y.text).width;m>0&&d+r+2*a>u&&(f+=h+a,c.push({width:h,height:d}),p+=h+a,g++,h=d=0),l[m]={left:p,top:d,col:g,width:b,height:r},h=Math.max(h,b),d+=r+a}),f+=h,c.push({width:h,height:d}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:o}}=this,s=La(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Cn(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Cn(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+r}else{let a=0,l=Cn(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Cn(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;mg(e,this),this._draw(),yg(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:o,labels:s}=e,a=et.color,l=La(e.rtl,this.left,this.width),c=cn(s.font),{color:u,padding:f}=s,h=c.size,d=h/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:g,boxHeight:y,itemHeight:m}=yO(s,h),b=function(x,k,P){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;r.save();const E=qe(P.lineWidth,1);if(r.fillStyle=qe(P.fillStyle,a),r.lineCap=qe(P.lineCap,"butt"),r.lineDashOffset=qe(P.lineDashOffset,0),r.lineJoin=qe(P.lineJoin,"miter"),r.lineWidth=E,r.strokeStyle=qe(P.strokeStyle,a),r.setLineDash(qe(P.lineDash,[])),s.usePointStyle){const I={radius:y*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:E},B=l.xPlus(x,g/2),J=k+d;aD(r,I,B,J,s.pointStyleWidth&&g)}else{const I=k+Math.max((h-y)/2,0),B=l.leftForLtr(x,g),J=Is(P.borderRadius);r.beginPath(),Object.values(J).some(ee=>ee!==0)?su(r,{x:B,y:I,w:g,h:y,radius:J}):r.rect(B,I,g,y),r.fill(),E!==0&&r.stroke()}r.restore()},_=function(x,k,P){Ys(r,P.text,x,k+m/2,c,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?p={x:Cn(o,this.left+f,this.right-i[0]),y:this.top+f+S,line:0}:p={x:this.left+f,y:Cn(o,this.top+S+f,this.bottom-n[0].height),line:0},mD(this.ctx,e.textDirection);const A=m+f;this.legendItems.forEach((x,k)=>{r.strokeStyle=x.fontColor||u,r.fillStyle=x.fontColor||u;const P=r.measureText(x.text).width,E=l.textAlign(x.textAlign||(x.textAlign=s.textAlign)),I=g+d+P;let B=p.x,J=p.y;l.setWidth(this.width),w?k>0&&B+I+f>this.right&&(J=p.y+=A,p.line++,B=p.x=Cn(o,this.left+f,this.right-i[p.line])):k>0&&J+A>this.bottom&&(B=p.x=B+n[p.line].width+f,p.line++,J=p.y=Cn(o,this.top+S+f,this.bottom-n[p.line].height));const ee=l.x(B);b(ee,J,x),B=ree(E,B+g+d,w?B+I:this.right,e.rtl),_(l.x(B),J,x),w?p.x+=I+f:p.y+=A}),yD(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=cn(n.font),r=En(n.padding);if(!n.display)return;const o=La(e.rtl,this.left,this.width),s=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,f=Cn(e.align,f,this.right-h);else{const p=this.columnSizes.reduce((g,y)=>Math.max(g,y.height),0);u=c+Cn(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const d=Cn(a,f,f+h);s.textAlign=o.textAlign(n_(a)),s.textBaseline="middle",s.strokeStyle=n.color,s.fillStyle=n.color,s.font=i.string,Ys(s,n.text,d,u,i)}_computeTitleHeight(){const e=this.options.title,n=cn(e.font),i=En(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,o;if(Kr(e,this.left,this.right)&&Kr(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Kr(e,r.left,r.left+r.width)&&Kr(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!Kie(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=qie(r,i);r&&!o&&xt(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&xt(n.onHover,[e,i,this],this)}else i&&xt(n.onClick,[e,i,this],this)}}function Kie(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Gie={id:"legend",_element:vO,start(t,e,n){const i=t.legend=new vO({ctx:t.ctx,options:n,chart:t});$n.configure(t,i,n),$n.addBox(t,i)},stop(t){$n.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;$n.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o}}=t.legend.options;return t._getSortedDatasetMetas().map(s=>{const a=s.controller.getStyle(n?0:void 0),l=En(a.borderWidth);return{text:e[s.index].label,fillStyle:a.backgroundColor,fontColor:o,hidden:!s.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:i||a.pointStyle,rotation:a.rotation,textAlign:r||a.textAlign,borderRadius:0,datasetIndex:s.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class d_ extends er{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Ct(i.text)?i.text.length:1;this._padding=En(i.padding);const o=r*cn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:o,options:s}=this,a=s.align;let l=0,c,u,f;return this.isHorizontal()?(u=Cn(a,i,o),f=n+e,c=o-i):(s.position==="left"?(u=i+e,f=Cn(a,r,n),l=Bt*-.5):(u=o-e,f=Cn(a,n,r),l=Bt*.5),c=r-n),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=cn(n.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Ys(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:n_(n.align),textBaseline:"middle",translation:[s,a]})}}function Xie(t,e){const n=new d_({ctx:t.ctx,options:e,chart:t});$n.configure(t,n,e),$n.addBox(t,n),t.titleBlock=n}var Jie={id:"title",_element:d_,start(t,e,n){Xie(t,n)},stop(t){const e=t.titleBlock;$n.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;$n.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gf=new WeakMap;var Qie={id:"subtitle",start(t,e,n){const i=new d_({ctx:t.ctx,options:n,chart:t});$n.configure(t,i,n),$n.addBox(t,i),gf.set(t,i)},stop(t){$n.removeBox(t,gf.get(t)),gf.delete(t)},beforeUpdate(t,e,n){const i=gf.get(t);$n.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bc={average(t){if(!t.length)return!1;let e,n,i=0,r=0,o=0;for(e=0,n=t.length;e<n;++e){const s=t[e].element;if(s&&s.hasValue()){const a=s.tooltipPosition();i+=a.x,r+=a.y,++o}}return{x:i/o,y:r/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=t.length;o<s;++o){const l=t[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=kv(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function ar(t,e){return e&&(Ct(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Zie(t,e){const{element:n,datasetIndex:i,index:r}=e,o=t.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:t,label:s,parsed:o.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function bO(t,e){const n=t.chart.ctx,{body:i,footer:r,title:o}=t,{boxWidth:s,boxHeight:a}=e,l=cn(e.bodyFont),c=cn(e.titleFont),u=cn(e.footerFont),f=o.length,h=r.length,d=i.length,p=En(e.padding);let g=p.height,y=0,m=i.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,f&&(g+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),m){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=d*w+(m-d)*l.lineHeight+(m-1)*e.bodySpacing}h&&(g+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let b=0;const _=function(w){y=Math.max(y,n.measureText(w).width+b)};return n.save(),n.font=c.string,dt(t.title,_),n.font=l.string,dt(t.beforeBody.concat(t.afterBody),_),b=e.displayColors?s+2+e.boxPadding:0,dt(i,w=>{dt(w.before,_),dt(w.lines,_),dt(w.after,_)}),b=0,n.font=u.string,dt(t.footer,_),n.restore(),y+=p.width,{width:y,height:g}}function ere(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function tre(t,e,n,i){const{x:r,width:o}=i,s=n.caretSize+n.caretPadding;if(t==="left"&&r+o+s>e.width||t==="right"&&r-o-s<0)return!0}function nre(t,e,n,i){const{x:r,width:o}=n,{width:s,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=o/2?c="left":r>=s-o/2&&(c="right"),tre(c,t,e,n)&&(c="center"),c}function _O(t,e,n){const i=n.yAlign||e.yAlign||ere(t,n);return{xAlign:n.xAlign||e.xAlign||nre(t,e,n,i),yAlign:i}}function ire(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function rre(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function wO(t,e,n,i){const{caretSize:r,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:l}=n,c=r+o,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:d}=Is(s);let p=ire(e,a);const g=rre(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+r:a==="right"&&(p+=Math.max(f,d)+r),{x:pn(p,0,i.width-e.width),y:pn(g,0,i.height-e.height)}}function mf(t,e,n){const i=En(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function xO(t){return ar([],Vr(t))}function ore(t,e,n){return ns(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function SO(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class Ev extends er{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,o=new wD(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=ore(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=i.beforeTitle.apply(this,[e]),o=i.title.apply(this,[e]),s=i.afterTitle.apply(this,[e]);let a=[];return a=ar(a,Vr(r)),a=ar(a,Vr(o)),a=ar(a,Vr(s)),a}getBeforeBody(e,n){return xO(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const{callbacks:i}=n,r=[];return dt(e,o=>{const s={before:[],lines:[],after:[]},a=SO(i,o);ar(s.before,Vr(a.beforeLabel.call(this,o))),ar(s.lines,a.label.call(this,o)),ar(s.after,Vr(a.afterLabel.call(this,o))),r.push(s)}),r}getAfterBody(e,n){return xO(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const{callbacks:i}=n,r=i.beforeFooter.apply(this,[e]),o=i.footer.apply(this,[e]),s=i.afterFooter.apply(this,[e]);let a=[];return a=ar(a,Vr(r)),a=ar(a,Vr(o)),a=ar(a,Vr(s)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],o=[],s=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Zie(this.chart,n[l]));return e.filter&&(a=a.filter((u,f,h)=>e.filter(u,f,h,i))),e.itemSort&&(a=a.sort((u,f)=>e.itemSort(u,f,i))),dt(a,u=>{const f=SO(e.callbacks,u);r.push(f.labelColor.call(this,u)),o.push(f.labelPointStyle.call(this,u)),s.push(f.labelTextColor.call(this,u))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=s,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let o,s=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const a=Bc[i.position].call(this,r,this._eventPosition);s=this._createItems(i),this.title=this.getTitle(s,i),this.beforeBody=this.getBeforeBody(s,i),this.body=this.getBody(s,i),this.afterBody=this.getAfterBody(s,i),this.footer=this.getFooter(s,i);const l=this._size=bO(this,i),c=Object.assign({},a,l),u=_O(this.chart,i,c),f=wO(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=s,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const o=this.getCaretPosition(e,i,r);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:o}=this,{caretSize:s,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:f}=Is(a),{x:h,y:d}=e,{width:p,height:g}=n;let y,m,b,_,w,S;return o==="center"?(w=d+g/2,r==="left"?(y=h,m=y-s,_=w+s,S=w-s):(y=h+p,m=y+s,_=w-s,S=w+s),b=y):(r==="left"?m=h+Math.max(l,u)+s:r==="right"?m=h+p-Math.max(c,f)-s:m=this.caretX,o==="top"?(_=d,w=_-s,y=m-s,b=m+s):(_=d+g,w=_+s,y=m+s,b=m-s),S=_),{x1:y,x2:m,x3:b,y1:_,y2:w,y3:S}}drawTitle(e,n,i){const r=this.title,o=r.length;let s,a,l;if(o){const c=La(i.rtl,this.x,this.width);for(e.x=mf(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",s=cn(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=s.string,l=0;l<o;++l)n.fillText(r[l],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,l+1===o&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,o){const s=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:u}=o,f=cn(o.bodyFont),h=mf(this,"left",o),d=r.x(h),p=l<f.lineHeight?(f.lineHeight-l)/2:0,g=n.y+p;if(o.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=r.leftForLtr(d,c)+c/2,b=g+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Mv(e,y,m,b),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,Mv(e,y,m,b)}else{e.lineWidth=Ze(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const y=r.leftForLtr(d,c-u),m=r.leftForLtr(r.xPlus(d,1),c-u-2),b=Is(s.borderRadius);Object.values(b).some(_=>_!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,su(e,{x:y,y:g,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),su(e,{x:m,y:g+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(y,g,c,l),e.strokeRect(y,g,c,l),e.fillStyle=s.backgroundColor,e.fillRect(m,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:o,bodyAlign:s,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,f=cn(i.bodyFont);let h=f.lineHeight,d=0;const p=La(i.rtl,this.x,this.width),g=function(k){n.fillText(k,p.x(e.x+d),e.y+h/2),e.y+=h+o},y=p.textAlign(s);let m,b,_,w,S,A,x;for(n.textAlign=s,n.textBaseline="middle",n.font=f.string,e.x=mf(this,y,i),n.fillStyle=i.bodyColor,dt(this.beforeBody,g),d=a&&y!=="right"?s==="center"?c/2+u:c+2+u:0,w=0,A=r.length;w<A;++w){for(m=r[w],b=this.labelTextColors[w],n.fillStyle=b,dt(m.before,g),_=m.lines,a&&_.length&&(this._drawColorBox(n,e,w,p,i),h=Math.max(f.lineHeight,l)),S=0,x=_.length;S<x;++S)g(_[S]),h=f.lineHeight;dt(m.after,g)}d=0,h=f.lineHeight,dt(this.afterBody,g),e.y-=o}drawFooter(e,n,i){const r=this.footer,o=r.length;let s,a;if(o){const l=La(i.rtl,this.x,this.width);for(e.x=mf(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",s=cn(i.footerFont),n.fillStyle=i.footerColor,n.font=s.string,a=0;a<o;++a)n.fillText(r[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:o,yAlign:s}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:f,topRight:h,bottomLeft:d,bottomRight:p}=Is(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+f,l),s==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),s==="center"&&o==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),s==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+d,l+u),n.quadraticCurveTo(a,l+u,a,l+u-d),s==="center"&&o==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const s=Bc[e.position].call(this,this._active,this._eventPosition);if(!s)return;const a=this._size=bO(this,e),l=Object.assign({},s,this._size),c=_O(n,e,l),u=wO(e,l,c,n);(r._to!==u.x||o._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const s=En(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,r,n),mD(e,n.textDirection),o.y+=s.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),yD(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!np(i,r),s=this._positionChanged(r,n);(o||s)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],s=this._getActiveElements(e,o,n,i),a=this._positionChanged(s,e),l=n||!np(s,o)||a;return l&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return n;const s=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&s.reverse(),s}_positionChanged(e,n){const{caretX:i,caretY:r,options:o}=this,s=Bc[o.position].call(this,e,n);return s!==!1&&(i!==s.x||r!==s.y)}}Ev.positioners=Bc;var sre={id:"tooltip",_element:Ev,positioners:Bc,afterInit(t,e,n){n&&(t.tooltip=new Ev({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",n)===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Fr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Fr,beforeBody:Fr,beforeLabel:Fr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return st(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Fr,afterBody:Fr,beforeFooter:Fr,footer:Fr,afterFooter:Fr}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},are=Object.freeze({__proto__:null,Decimation:Oie,Filler:Yie,Legend:Gie,SubTitle:Qie,Title:Jie,Tooltip:sre});const lre=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function cre(t,e,n,i){const r=t.indexOf(e);if(r===-1)return lre(t,e,n,i);const o=t.lastIndexOf(e);return r!==o?n:r}const ure=(t,e)=>t===null?null:pn(Math.round(t),0,e);class up extends sa{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:o}of n)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(st(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:cre(i,e,qe(n,e),this._addedLabels),ure(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let s=e;s<=n;s++)r.push({value:s});return r}getLabelForValue(e){const n=this.getLabels();return e>=0&&e<n.length?n[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}up.id="category";up.defaults={ticks:{callback:up.prototype.getLabelForValue}};function fre(t,e){const n=[],{bounds:r,step:o,min:s,max:a,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:h}=t,d=o||1,p=u-1,{min:g,max:y}=e,m=!st(s),b=!st(a),_=!st(c),w=(y-g)/(f+1);let S=_C((y-g)/p/d)*d,A,x,k,P;if(S<1e-14&&!m&&!b)return[{value:g},{value:y}];P=Math.ceil(y/S)-Math.floor(g/S),P>p&&(S=_C(P*S/p/d)*d),st(l)||(A=Math.pow(10,l),S=Math.ceil(S*A)/A),r==="ticks"?(x=Math.floor(g/S)*S,k=Math.ceil(y/S)*S):(x=g,k=y),m&&b&&o&&JZ((a-s)/o,S/1e3)?(P=Math.round(Math.min((a-s)/S,u)),S=(a-s)/P,x=s,k=a):_?(x=m?s:x,k=b?a:k,P=c-1,S=(k-x)/P):(P=(k-x)/S,Ic(P,Math.round(P),S/1e3)?P=Math.round(P):P=Math.ceil(P));const E=Math.max(wC(S),wC(x));A=Math.pow(10,st(l)?E:l),x=Math.round(x*A)/A,k=Math.round(k*A)/A;let I=0;for(m&&(h&&x!==s?(n.push({value:s}),x<s&&I++,Ic(Math.round((x+I*S)*A)/A,s,kO(s,w,t))&&I++):x<s&&I++);I<P;++I)n.push({value:Math.round((x+I*S)*A)/A});return b&&h&&k!==a?n.length&&Ic(n[n.length-1].value,a,kO(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!b||k===a)&&n.push({value:k}),n}function kO(t,e,{horizontal:n,minRotation:i}){const r=Gi(i),o=(n?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+t).length;return Math.min(e/o,s)}class fp extends sa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return st(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const s=l=>r=n?r:l,a=l=>o=i?o:l;if(e){const l=kr(r),c=kr(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(r===o){let l=1;(o>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(o*.05)),a(o+l),e||s(r-l)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,s=fre(r,o);return e.bounds==="ticks"&&KT(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Ru(e,this.chart.options.locale,this.options.ticks.format)}}class p_ extends fp{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=tn(e)?e:0,this.max=tn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Gi(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}p_.id="linear";p_.defaults={ticks:{callback:kg.formatters.numeric}};function CO(t){return t/Math.pow(10,Math.floor(Ai(t)))===1}function hre(t,e){const n=Math.floor(Ai(e.max)),i=Math.ceil(e.max/Math.pow(10,n)),r=[];let o=ki(t.min,Math.pow(10,Math.floor(Ai(e.min)))),s=Math.floor(Ai(o)),a=Math.floor(o/Math.pow(10,s)),l=s<0?Math.pow(10,Math.abs(s)):1;do r.push({value:o,major:CO(o)}),++a,a===10&&(a=1,++s,l=s>=0?1:l),o=Math.round(a*Math.pow(10,s)*l)/l;while(s<n||s===n&&a<i);const c=ki(t.max,o);return r.push({value:c,major:CO(o)}),r}class g_ extends sa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=fp.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return tn(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=tn(e)?Math.max(0,e):null,this.max=tn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const o=l=>i=e?i:l,s=l=>r=n?r:l,a=(l,c)=>Math.pow(10,Math.floor(Ai(l))+c);i===r&&(i<=0?(o(1),s(10)):(o(a(i,-1)),s(a(r,1)))),i<=0&&o(a(r,-1)),r<=0&&s(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&o(a(i,-1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=hre(n,this);return e.bounds==="ticks"&&KT(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Ru(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ai(e),this._valueRange=Ai(this.max)-Ai(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ai(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}g_.id="logarithmic";g_.defaults={ticks:{callback:kg.formatters.logarithmic,major:{enabled:!0}}};function Iv(t){const e=t.ticks;if(e.display&&t.display){const n=En(e.backdropPadding);return qe(e.font&&e.font.size,et.font.size)+n.height}return 0}function dre(t,e,n){return n=Ct(n)?n:[n],{w:Pee(t,e.string,n),h:n.length*e.lineHeight}}function OO(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function pre(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],o=t._pointLabels.length,s=t.options.pointLabels,a=s.centerPointLabels?Bt/o:0;for(let l=0;l<o;l++){const c=s.setContext(t.getPointLabelContext(l));r[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+r[l],a),f=cn(c.font),h=dre(t.ctx,f,t._pointLabels[l]);i[l]=h;const d=ci(t.getIndexAngle(l)+a),p=Math.round(e_(d)),g=OO(p,u.x,h.w,0,180),y=OO(p,u.y,h.h,90,270);gre(n,e,d,g,y)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=mre(t,i,r)}function gre(t,e,n,i,r){const o=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/o,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/s,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function mre(t,e,n){const i=[],r=t._pointLabels.length,o=t.options,s=Iv(o)/2,a=t.drawingArea,l=o.pointLabels.centerPointLabels?Bt/r:0;for(let c=0;c<r;c++){const u=t.getPointPosition(c,a+s+n[c],l),f=Math.round(e_(ci(u.angle+Ut))),h=e[c],d=bre(u.y,h.h,f),p=yre(f),g=vre(u.x,h.w,p);i.push({x:u.x,y:d,textAlign:p,left:g,top:d,right:g+h.w,bottom:d+h.h})}return i}function yre(t){return t===0||t===180?"center":t<180?"left":"right"}function vre(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function bre(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function _re(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const o=i.setContext(t.getPointLabelContext(r)),s=cn(o.font),{x:a,y:l,textAlign:c,left:u,top:f,right:h,bottom:d}=t._pointLabelItems[r],{backdropColor:p}=o;if(!st(p)){const g=Is(o.borderRadius),y=En(o.backdropPadding);n.fillStyle=p;const m=u-y.left,b=f-y.top,_=h-u+y.width,w=d-f+y.height;Object.values(g).some(S=>S!==0)?(n.beginPath(),su(n,{x:m,y:b,w:_,h:w,radius:g}),n.fill()):n.fillRect(m,b,_,w)}Ys(n,t._pointLabels[r],a,l+s.lineHeight/2,s,{color:o.color,textAlign:c,textBaseline:"middle"})}}function jD(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,yt);else{let o=t.getPointPosition(0,e);r.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=t.getPointPosition(s,e),r.lineTo(o.x,o.y)}}function wre(t,e,n,i){const r=t.ctx,o=e.circular,{color:s,lineWidth:a}=e;!o&&!i||!s||!a||n<0||(r.save(),r.strokeStyle=s,r.lineWidth=a,r.setLineDash(e.borderDash),r.lineDashOffset=e.borderDashOffset,r.beginPath(),jD(t,n,o,i),r.closePath(),r.stroke(),r.restore())}function xre(t,e,n){return ns(t,{label:n,index:e,type:"pointLabel"})}class Iu extends fp{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=En(Iv(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=tn(e)&&!isNaN(e)?e:0,this.max=tn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Iv(this.options))}generateTickLabels(e){fp.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=xt(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?pre(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=yt/(this._pointLabels.length||1),i=this.options.startAngle||0;return ci(e*n+Gi(i))}getDistanceFromCenterForValue(e){if(st(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(st(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return xre(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-Ut+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:o}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),jD(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r}=n,o=this._pointLabels.length;let s,a,l;if(n.pointLabels.display&&_re(this,o),r.display&&this.ticks.forEach((c,u)=>{if(u!==0){a=this.getDistanceFromCenterForValue(c.value);const f=r.setContext(this.getContext(u-1));wre(this,f,a,o)}}),i.display){for(e.save(),s=o-1;s>=0;s--){const c=i.setContext(this.getPointLabelContext(s)),{color:u,lineWidth:f}=c;!f||!u||(e.lineWidth=f,e.strokeStyle=u,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(s,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=cn(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,s=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const f=En(c.backdropPadding);e.fillRect(-s/2-f.left,-o-u.size/2-f.top,s+f.width,u.size+f.height)}Ys(e,a.label,0,-o,u,{color:c.color})}),e.restore()}drawTitle(){}}Iu.id="radialLinear";Iu.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:kg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};Iu.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Iu.descriptors={angleLines:{_fallback:"grid"}};const Tg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zn=Object.keys(Tg);function Sre(t,e){return t-e}function MO(t,e){if(st(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:o}=t._parseOpts;let s=e;return typeof i=="function"&&(s=i(s)),tn(s)||(s=typeof i=="string"?n.parse(s,i):n.parse(s)),s===null?null:(r&&(s=r==="week"&&(ul(o)||o===!0)?n.startOf(s,"isoWeek",o):n.startOf(s,r)),+s)}function AO(t,e,n,i){const r=Zn.length;for(let o=Zn.indexOf(t);o<r-1;++o){const s=Tg[Zn[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((n-e)/(a*s.size))<=i)return Zn[o]}return Zn[r-1]}function kre(t,e,n,i,r){for(let o=Zn.length-1;o>=Zn.indexOf(n);o--){const s=Zn[o];if(Tg[s].common&&t._adapter.diff(r,i,s)>=e-1)return s}return Zn[n?Zn.indexOf(n):0]}function Cre(t){for(let e=Zn.indexOf(t)+1,n=Zn.length;e<n;++e)if(Tg[Zn[e]].common)return Zn[e]}function PO(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=t_(n,e),o=n[i]>=e?n[i]:n[r];t[o]=!0}}function Ore(t,e,n,i){const r=t._adapter,o=+r.startOf(e[0].value,i),s=e[e.length-1].value;let a,l;for(a=o;a<=s;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function TO(t,e,n){const i=[],r={},o=e.length;let s,a;for(s=0;s<o;++s)a=e[s],r[a]=s,i.push({value:a,major:!1});return o===0||!n?i:Ore(t,i,r,n)}class Lu extends sa{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const i=e.time||(e.time={}),r=this._adapter=new hne._date(e.adapters.date);r.init(n),Ec(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:MO(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:s,maxDefined:a}=this.getUserBounds();function l(c){!s&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!s||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=tn(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),o=tn(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,s=this.max,a=tee(r,o,s);return this._unit=n.unit||(i.autoSkip?AO(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):kre(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Cre(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),TO(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let n=0,i=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;n=pn(n,0,s),i=pn(i,0,s),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,o=r.time,s=o.unit||AO(o.minUnit,n,i,this._getLabelCapacity(n)),a=qe(o.stepSize,1),l=s==="week"?o.isoWeekday:!1,c=ul(l)||l===!0,u={};let f=n,h,d;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":s),e.diff(i,n,s)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+s);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(h=f,d=0;h<i;h=+e.add(h,a,s),d++)PO(u,h,p);return(h===i||r.bounds==="ticks"||d===1)&&PO(u,h,p),Object.keys(u).sort((g,y)=>g-y).map(g=>+g)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}_tickFormatFunction(e,n,i,r){const o=this.options,s=o.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&s[a],u=l&&s[l],f=i[n],h=l&&u&&f&&f.major,d=this._adapter.format(e,r||(h?u:c)),p=o.ticks.callback;return p?xt(p,[d,n,i],this):d}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Gi(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(r),s=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*o+a*s,h:i*s+a*o}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,o=this._tickFormatFunction(e,0,TO(this,[e],this._majorUnit),r),s=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(MO(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return JT(e.sort(Sre))}}Lu.id="time";Lu.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function yf(t,e,n){let i=0,r=t.length-1,o,s,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Gr(t,"pos",e)),{pos:o,time:a}=t[i],{pos:s,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Gr(t,"time",e)),{time:o,pos:a}=t[i],{time:s,pos:l}=t[r]);const c=s-o;return c?a+(l-a)*(e-o)/c:a}class m_ extends Lu{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=yf(n,this.min),this._tableRange=yf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],o=[];let s,a,l,c,u;for(s=0,a=e.length;s<a;++s)c=e[s],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(s=0,a=r.length;s<a;++s)u=r[s+1],l=r[s-1],c=r[s],Math.round((u+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(yf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return yf(this._table,i*this._tableRange+this._minPos,!0)}}m_.id="timeseries";m_.defaults=Lu.defaults;var Mre=Object.freeze({__proto__:null,CategoryScale:up,LinearScale:p_,LogarithmicScale:g_,RadialLinearScale:Iu,TimeScale:Lu,TimeSeriesScale:m_});const Are=[fne,xie,are,Mre];var Pre=Object.defineProperty,Tre=Object.defineProperties,Dre=Object.getOwnPropertyDescriptors,DO=Object.getOwnPropertySymbols,$re=Object.prototype.hasOwnProperty,Rre=Object.prototype.propertyIsEnumerable,$O=(t,e,n)=>e in t?Pre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ere=(t,e)=>{for(var n in e||(e={}))$re.call(e,n)&&$O(t,n,e[n]);if(DO)for(var n of DO(e))Rre.call(e,n)&&$O(t,n,e[n]);return t},Ire=(t,e)=>Tre(t,Dre(e));function Lre(t){return(t.match(/[a-zA-Z0-9]+/g)||[]).map(e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`).join("")}var rs=(t,e)=>{const n={chartData:{type:Object,required:!0},options:{type:Object,required:!1},chartId:{default:t,type:String},width:{default:400,type:Number},height:{default:400,type:Number},cssClasses:{type:String,default:""},styles:{type:Object},plugins:{type:Array,default:()=>[]},onLabelsUpdate:{type:Function},onChartUpdate:{type:Function},onChartDestroy:{type:Function},onChartRender:{type:Function}},i=Lre(t);return $e({name:i,props:n,emits:{"labels:update":()=>!0,"chart:update":r=>!0,"chart:destroy":()=>!0,"chart:render":r=>!0},setup(r,{emit:o,expose:s}){const a=te(null),l=`${r.chartId}`;let c=Bb(null);mt(()=>r.chartData,u,{deep:!0}),mt(()=>r.options,y=>{c.value&&y&&(c.value.options=Yl(y),p())},{deep:!0});function u(y){if(c.value){let m=c.value;nC(y.labels,c.value.data.labels)||(m.data.labels=y.labels,h()),nC(y.datasets,c.value.data.datasets)||y.datasets.forEach((b,_)=>{var w,S;if(CG(b))m.data.datasets=[];else{const A=Yl(m.data),x=Object.keys((S=(w=A.datasets)==null?void 0:w[_])!=null?S:{}),k=Object.keys(b);x.filter(E=>E!=="_meta"&&k.indexOf(E)===-1).forEach(E=>{m.data.datasets[_]&&delete m.data.datasets[_][E]});for(const E in b){const I=Yl(b[E]);m.data.datasets[_]||(m.data.datasets[_]={}),b.hasOwnProperty(E)&&I!=null&&m&&(m.data.datasets[_][E]=I)}}}),p()}else c.value&&g(),f()}function f(){a.value?(c.value=new Og(a.value,{data:Yl(r.chartData),type:e,options:Yl(r.options),plugins:r.plugins}),d()):console.error(`Error on component ${i}, canvas cannot be rendered. Check if the render appends server-side`)}function h(){o("labels:update"),r.onLabelsUpdate&&r.onLabelsUpdate()}function d(){c.value&&(o("chart:render",c.value),r.onChartRender&&r.onChartRender(c.value))}function p(){c.value&&(c.value.update(),o("chart:update",c.value),r.onChartUpdate&&r.onChartUpdate(c.value))}function g(){c.value&&c.value.destroy(),o("chart:destroy"),r.onChartDestroy&&r.onChartDestroy()}return sn(f),Hb(()=>{c.value&&c.value.destroy()}),s({canvasRef:a,renderChart:f,chartInstance:c,canvasId:l,update:p}),()=>Gc("div",{style:Ire(Ere({maxWidth:"100%"},r.styles),{position:"relative"}),class:r.cssClasses},[Gc("canvas",{style:{maxWidth:"100%",maxHeight:"100%"},id:l,width:r.width,height:r.height,ref:a})])}})};rs("bar-chart","bar");rs("doughnut-chart","doughnut");var Nre=rs("line-chart","line");rs("pie-chart","pie");rs("polar-chart","polarArea");rs("radar-chart","radar");rs("bubble-chart","bubble");rs("scatter-chart","scatter");const Bre=$e({__name:"TimelineChart",props:{data:null},setup(t){const e=t;return Og.register(...Are),(n,i)=>(M(),ye(C(Nre),{"chart-data":e.data},null,8,["chart-data"]))}});async function Fre(t){return await lo("/v1/device/events",t)}const RO={list:Fre},Hre={class:"mt-3 w-full"},Vre=Ub('<option value="past-1-day">Past Day</option><option value="today">Today</option><option value="past-3-days">Past 3 Days</option><option value="past-7-days">Past 7 Days</option><option value="this-week">This Week</option><option value="past-30-days">Past 30 Days</option><option value="this-month">This Month</option>',7),jre=[Vre],zre=Ub('<option value="no-filter">No Filter</option><option value="five-minutes">5 Minutes</option><option value="ten-minutes">10 Minutes</option><option value="half-hour">Half Hour</option><option value="one-hour">1 Hour</option><option value="three-hours">3 Hours</option><option value="four-hours">4 Hours</option><option value="six-hours">6 Hours</option><option value="twelve-hours">12 Hours</option><option value="one-day">1 Day</option>',10),Wre=[zre],Ure={key:0},Yre={key:1},qre=$e({__name:"EventHistory",props:{device:null,showStale:{type:Boolean}},setup(t){const e=t,n=te([]),i=te("past-1-day"),r=te("half-hour"),o=m=>{const b=new Date;return b.setHours(b.getHours()-m*24),b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),b.toISOString()},s=(m,b)=>{m.setSeconds(0),m.setMilliseconds(0);let _=0,w;switch(b){case"no-filter":break;case"five-minutes":for(w=0;w<=12;w++)Math.abs(w*5-m.getMinutes())<Math.abs(w*5-_)&&(_=w*5);_==60?(m.setMinutes(0),m.setHours(m.getHours()+1)):m.setMinutes(_);break;case"ten-minutes":for(w=0;w<=6;w++)Math.abs(w*10-m.getMinutes())<Math.abs(w*10-_)&&(_=w*10);_==60?(m.setMinutes(0),m.setHours(m.getHours()+1)):m.setMinutes(_);break;case"half-hour":for(w=0;w<=2;w++)Math.abs(w*30-m.getMinutes())<Math.abs(w*30-_)&&(_=w*30);_==60?(m.setMinutes(0),m.setHours(m.getHours()+1)):m.setMinutes(_);break;case"one-hour":for(w=0;w<=24;w++)Math.abs(w-m.getHours())<Math.abs(w-_)&&(_=w);_==24?(m.setHours(m.getTime()+24),m.setHours(0)):(m.setHours(_),m.setMinutes(0));break;case"three-hours":for(w=0;w<=8;w++)Math.abs(w*3-m.getHours())<Math.abs(w*3-_)&&(_=w*3);_==24?(m.setHours(m.getTime()+24),m.setHours(0)):(m.setHours(_),m.setMinutes(0));break;case"four-hours":for(w=0;w<=6;w++)Math.abs(w*4-m.getHours())<Math.abs(w*4-_)&&(_=w*4);_==24?(m.setHours(m.getTime()+24),m.setHours(0)):(m.setHours(_),m.setMinutes(0));break;case"six-hours":for(w=0;w<=4;w++)Math.abs(w*6-m.getHours())<Math.abs(w*6-_)&&(_=w*6);_==24?(m.setHours(m.getTime()+24),m.setHours(0)):(m.setHours(_),m.setMinutes(0));break;case"twelve-hours":for(w=0;w<=2;w++)Math.abs(w*12-m.getHours())<Math.abs(w*12-_)&&(_=w*12);_==24?(m.setHours(m.getTime()+24),m.setHours(0)):(m.setHours(_),m.setMinutes(0));break;case"one-day":m.setHours(m.getHours()+12),m.setHours(0),m.setMinutes(0);break;default:throw new Error("unknown interval: "+b)}return m},a=Z(()=>{const m={};for(const w of n.value){const S=s(new Date(w.createdAt),r.value).getTime(),A=JSON.stringify(w.metadatas);m[S]||(m[S]={}),m[S][A]||(m[S][A]={createdAt:S,metadatas:w.metadatas,measurements:{},stats:{}});for(const[x,k]of Object.entries(w.measurements))m[S][A].measurements[x]||(m[S][A].measurements[x]=[]),m[S][A].measurements[x].push(k);for(const[x,k]of Object.entries(w.stat))m[S][A].stats[x]||(m[S][A].stats[x]=[]),m[S][A].stats[x].push(k)}const b={};for(const[w,S]of Object.entries(m)){const A={createdAt:0,metadatas:[],measurements:{},stat:{}};for(const x of Object.values(S)){A.createdAt||(A.createdAt=x.createdAt),A.metadatas.length===0&&(A.metadatas=x.metadatas);for(const[k,P]of Object.entries(x.measurements))A.measurements[k]=y(P.reduce((E,I)=>E+I/P.length,0));for(const[k,P]of Object.entries(x.stats)){if(typeof P[0]=="string"||P[0]===null){A.stat[k]=P[0];continue}A.stat[k]=y(P.reduce((E,I)=>E+I/P.length,0))}}b[w]=A}const _=Object.values(b);return _.sort((w,S)=>w.createdAt-S.createdAt),_});sn(async()=>{n.value=await RO.list({deviceId:e.device.id,since:o(1)})}),mt(i,async m=>{let b;const _=new Date;switch(m){case"past-1-day":b=o(1);break;case"today":b=o(0);break;case"past-3-days":b=o(3);break;case"past-7-days":b=o(7);break;case"past-30-days":b=o(30);break;case"this-week":b=o(_.getDay());break;case"this-month":b=o(_.getDate());break;default:throw new Error("unknown since: "+m)}if(!b)throw new Error("failed to get time");n.value=await RO.list({deviceId:e.device.id,since:b})});const l=te(a.value?Object.values(a.value).every(m=>m.metadatas.length===0):!0),c=m=>{var b,_;return(_=(b=e.device.compiler)==null?void 0:b.sensors.find(w=>w.measurements.find(S=>S.name===m)))==null?void 0:_.color},u=m=>{var b,_;return(_=(b=e.device.compiler)==null?void 0:b.sensors.find(w=>w.measurements.find(S=>S.name===m)))==null?void 0:_.alias},f=()=>l.value?"#"+Math.floor(Math.random()*16777215).toString(16):"#666666",h=Z(()=>{const m={};for(const b of Object.values(a.value)){if(b.metadatas.length!==0)for(const _ of b.metadatas){if(m[_.variableName])continue;const w=u(_.name);if(!e.showStale&&!w)continue;const S=w?`${w} - ${_.name}`:_.name;m[_.variableName]={ty:_.ty,name:S,stat:!1,color:c(_.name)??_.color}}else{if(!e.showStale)continue;for(const _ of Object.keys(b.measurements))m[_]||(m[_]={ty:lt.Unknown,name:_,stat:!1,color:null})}m.freeDram={ty:lt.Heap,name:"Free DRAM",stat:!0,color:"#fff176"},b.stat.freeIram&&(m.freeIram={ty:lt.Heap,name:"Free IRAM",stat:!0,color:"#4cb050"}),m.freeStack={ty:lt.Stack,name:"Free STACK",stat:!0,color:"#64b5f6"},m.biggestDramBlock={ty:lt.Heap,name:"Biggest DRAM Block",stat:!0,color:"#ffab91"},b.stat.biggestIramBlock&&(m.biggestIramBlock={ty:lt.Heap,name:"Biggest IRAM Block",stat:!0,color:"#008781"})}return m}),d=m=>{const b={x:{axis:"x",type:"linear",display:!0,ticks:{callback:w=>new Date(w).toLocaleString()}}};for(const w of Object.values(h.value))w.ty===m&&(b[w.ty]={axis:"y",type:"linear",display:!0,position:"left",ticks:{callback:S=>{switch(w.ty){case lt.Percentage:S=`${S}%`;break;case lt.RawAnalogRead:break;case lt.FloatCelsius:S=`${S}C`;break;case lt.Heap:S=`${S}B`;break;case lt.Stack:S=`${S}B`;break}return S}}});let _="Events";switch(m){case lt.Percentage:_="Percentage";break;case lt.RawAnalogRead:_="Analog Read (0-1024)";break;case lt.FloatCelsius:_="Temperature";break;case lt.Heap:_="Heap";break;case lt.Stack:_="Stack";break}return{responsive:!0,interaction:{mode:"index",intersect:!1},stacked:!1,plugins:{title:{display:!0,text:_},tooltip:{callbacks:{title:w=>new Date(parseInt(w[0].label.replaceAll(".",""))).toLocaleString(),label:w=>{let S=`${w.formattedValue}`;const A=w.dataset.label,x=Object.values(h.value).find(k=>k.name===A);switch(x==null?void 0:x.ty){case lt.Percentage:S+="%";break;case lt.RawAnalogRead:break;case lt.FloatCelsius:S+="C";break;case lt.Heap:S+="B";break;case lt.Stack:S+="B";break}return`${(x==null?void 0:x.name)??A}: ${S}`}}}},scales:b}},p=m=>{const b=[],_=a.value;for(const[w,S]of Object.entries(h.value))S.ty===m&&(S.stat?b.push({label:S.name,yAxisID:S.ty,data:_,backgroundColor:S.color?S.color:f(),parsing:{xAxisKey:"createdAt",yAxisKey:`stat.${w}`}}):b.push({label:S.name,yAxisID:S.ty,data:_,backgroundColor:S.color?S.color:f(),parsing:{xAxisKey:"createdAt",yAxisKey:`measurements.${w}`}}));return{datasets:b}},g=Z(()=>{const m=new Set(Object.values(a.value).flatMap(_=>Object.values(_.metadatas)).map(_=>_.ty));m.add(lt.Unknown),m.add(lt.Heap),m.add(lt.Stack);const b=[];for(const _ of m){const w=p(_);w.datasets.length!==0&&b.push([w,d(_)])}return b});function y(m){var _;const b=Math.max((((_=m.toString().split(".")[1])==null?void 0:_.length)??1)-1,0);return m.toFixed(Math.min(b,2))}return(m,b)=>(M(),D("span",Hre,[$t(j("select",{"onUpdate:modelValue":b[0]||(b[0]=_=>i.value=_)},jre,512),[[So,i.value]]),$t(j("select",{"onUpdate:modelValue":b[1]||(b[1]=_=>r.value=_),class:"ml-2"},Wre,512),[[So,r.value]]),Object.keys(C(a)).length?(M(),D(de,{key:0},[(M(!0),D(de,null,He(C(g),([_,w])=>(M(),ye(Bre,{data:_,options:w,class:"w-full mt-5 px-40",key:JSON.stringify(_)},null,8,["data","options"]))),128)),l.value&&e.showStale&&Object.keys(C(a)).length?(M(),D("h3",Ure," Warning: Unable to infer types, chart will be hard to read ")):U("",!0),l.value&&e.showStale&&Object.keys(C(a)).length?(M(),D("h4",Yre," Properly configure the device, adding a target and the appropriate sensors to view more detailed charts ")):U("",!0)],64)):U("",!0)]))}});async function Kre(t){return await lo("/v1/device",t)}async function Gre(t){await la("/v1/device/name",t)}const Xre={find:Kre,setName:Gre},Jre={class:"w-full flex justify-center"},Qre={class:"flex flex-row w-full"},Zre={key:0,class:"flex flex-col items-center"},eoe={class:"flex mt-5"},toe={key:0},noe={class:"text-sm"},ioe=["title"],roe={key:2,class:"text-sm"},ooe={class:"flex flex-col"},soe=$e({__name:"IopDevice",props:{organizationId:null,collectionId:null,deviceId:null},setup(t){const e=t,n=te(!1),i=kl(),r=oa();r.FETCH_ORGANIZATIONS();const o=Z(()=>{var d;return((d=r.organizations)==null?void 0:d.find(p=>e.organizationId?p.id===e.organizationId:`${p.id}`===i.params.organizationId))??null}),s=Z(()=>{var d;return((d=o.value)==null?void 0:d.collections.find(p=>e.collectionId?p.id===e.collectionId:`${p.id}`===i.params.collectionId))??null}),a=Z(()=>{var d;return((d=s.value)==null?void 0:d.devices.find(p=>e.deviceId?p.id===e.deviceId:`${p.id}`===i.params.deviceId))??null}),l=te([]),c=te([]),u=te(null);mt(a,async d=>{d&&(l.value=await xB.list({limit:200,deviceId:d.id}),c.value=await RP.list({deviceId:d.id}),u.value||(u.value=d.name),document.title=d.name??d.mac)});const f=async()=>{!a.value||!u.value||u.value===a.value.name||await Xre.setName({deviceId:a.value.id,name:u.value})},h=()=>{r.FETCH_ORGANIZATIONS()};return(d,p)=>{var g,y,m,b;return M(),D("div",Jre,[j("div",Qre,[C(s)?(M(),D("div",Zre,[Ae(VP,{modelValue:u.value,"onUpdate:modelValue":p[0]||(p[0]=_=>u.value=_),title:`Device's MAC address: ${(g=C(a))==null?void 0:g.mac}`,onBlur:p[1]||(p[1]=_=>f()),onToggleEdit:p[2]||(p[2]=_=>n.value=_)},null,8,["modelValue","title"]),j("span",eoe,[C(a)&&C(o)?(M(),ye(UT,{key:0,"organization-id":C(o).id,collection:C(s),deviceId:C(a).id,editing:n.value,onRefresh:h,class:"mr-7"},{description:Fe(()=>{var _;return[C(a).firmware.hash===((_=C(s).compiler)==null?void 0:_.latestFirmware.hash)?(M(),D("p",toe,[j("span",noe," Firmware's MD5: "+ve(C(a).firmware.hash),1)])):C(s).compiler?(M(),D("p",{key:1,title:`Current Firmware MD5: ${C(a).firmware.hash}
Update's Firmware MD5: ${C(s).compiler.latestFirmware.hash}`,class:"text-center"}," Update Available ",8,ioe)):(M(),D("p",roe,"Firmware's MD5: "+ve(C(a).firmware.hash),1))]}),_:1},8,["organization-id","collection","deviceId","editing"])):U("",!0),j("span",ooe,[(m=(y=C(a))==null?void 0:y.lastEvent)!=null&&m.measurements?(M(),ye(HZ,{key:0,editing:n.value,device:C(a),class:"mb-5"},null,8,["editing","device"])):U("",!0),l.value.length>0?(M(),ye(FP,{key:1,logs:l.value,class:"box log-panel"},null,8,["logs"])):U("",!0)])]),c.value.length>0&&C(a)?(M(),ye(HP,{key:0,panics:c.value,"device-id":C(a).id},null,8,["panics","device-id"])):U("",!0),C(a)?(M(),ye(qre,{key:1,device:C(a),"collection-id":C(s).id,"show-stale":(((b=C(s).compiler)==null?void 0:b.sensors.length)??0)==0},null,8,["device","collection-id","show-stale"])):U("",!0)])):U("",!0)])])}}}),zD=$r(soe,[["__scopeId","data-v-81e97e37"]]);async function aoe(t){await la("/v1/collection/name",t)}const loe={setName:aoe},coe={class:"flex flex-col items-center w-full"},uoe={key:0,class:"devices flex pt-4"},foe=$e({__name:"IopCollection",props:{organizationId:null,collectionId:null},setup(t){const e=t,n=oa();n.FETCH_ORGANIZATIONS();const i=te(!1),r=kl(),o=te(null),s=Z(()=>{var c;return((c=n.organizations)==null?void 0:c.find(u=>e.organizationId?u.id===e.organizationId:`${u.id}`===r.params.organizationId))??null}),a=Z(()=>{var c;return((c=s.value)==null?void 0:c.collections.find(u=>e.collectionId?u.id===e.collectionId:`${u.id}`===r.params.collectionId))??null});mt(a,c=>{c&&(o.value||(o.value=c.name))});const l=async()=>{!a.value||!o.value||o.value===a.value.name||await loe.setName({collectionId:a.value.id,name:o.value})};return(c,u)=>{const f=kt("router-link");return M(),D("div",coe,[C(a)&&C(a).devices.length>1?(M(),D(de,{key:0},[Ae(VP,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=h=>o.value=h),onBlur:u[1]||(u[1]=h=>l()),onToggleEdit:u[2]||(u[2]=h=>i.value=h)},null,8,["modelValue"]),C(a)?(M(),D("div",uoe,[(M(!0),D(de,null,He(C(a).devices,h=>(M(),D("div",{key:h.id,class:"ml-4 box"},[Ae(f,{to:`/organization/${t.organizationId}/collection/${C(a).id}/device/${h.id}`},{default:Fe(()=>[Ae(BP,{device:h},null,8,["device"])]),_:2},1032,["to"])]))),128))])):U("",!0),C(a)&&C(s)?(M(),ye(UT,{key:1,"organization-id":C(s).id,collection:C(a),editing:i.value,class:"mr-7 mt-5"},null,8,["organization-id","collection","editing"])):U("",!0)],64)):C(s)&&C(a)&&C(a).devices[0]?(M(),ye(zD,{key:1,"organization-id":C(s).id,"collection-id":C(a).id,"device-id":C(a).devices[0].id,class:"pl-10"},null,8,["organization-id","collection-id","device-id"])):U("",!0)])}}}),WD=$r(foe,[["__scopeId","data-v-599eabfe"]]),y_=t=>(Hi("data-v-0e133bd9"),t=t(),Vi(),t),hoe={class:"flex flex-col items-center"},doe={key:0,class:"text-5xl text-center"},poe={key:1,class:"flex flex-row justify-evenly w-full p-20 flex-wrap grid-cols-3 grid items-center"},goe={class:"mt-3"},moe=["title"],yoe={key:1,class:"flex flex-col"},voe={key:0},boe={key:1},_oe={key:2,class:"pt-5 w-full"},woe={key:3,class:"flex flex-col nothing justify-center"},xoe=y_(()=>j("div",{class:"text-center"},"Nothing registered.",-1)),Soe=y_(()=>j("div",{class:"text-center"},"Signup through the captive portal opened by the device",-1)),koe=[xoe,Soe],Coe={key:4},Ooe=y_(()=>j("div",{class:"text-center w-100"},"Loading...",-1)),Moe=[Ooe],Aoe=$e({__name:"IopOrganization",setup(t){const{organizationId:e}=kl().params,n=oa();n.FETCH_ORGANIZATIONS();const i=Z(()=>{var s;return((s=n.organizations)==null?void 0:s.find(a=>`${a.id}`===e))??null}),r=te({}),o=te({});return(s,a)=>{var c;const l=kt("router-link");return M(),D("div",hoe,[(c=C(i))!=null&&c.name&&C(i).collections.length>1?(M(),D("p",doe,ve(C(i).name),1)):U("",!0),C(i)&&C(i).collections.length>1?(M(),D("div",poe,[(M(!0),D(de,null,He(C(i).collections,u=>(M(),D("div",{key:u.id,class:"flex flex-row flex-wrap border m-1"},[u.devices.length===1?(M(!0),D(de,{key:0},He([...u.devices.slice(0,1)],f=>(M(),D("span",{key:f.id,class:"w-full p-3"},[Ae(l,{to:`/organization/${C(e)}/collection/${u.id}/device/${f.id}`},{default:Fe(()=>[Ae(BP,{device:f,"organization-id":C(i).id,"collection-id":u.id,title:`MAC address: ${f.mac}`},null,8,["device","organization-id","collection-id","title"]),o.value[f.id]?(M(),ye(HP,{key:0,panics:o.value[f.id],"device-id":f.id,"organization-id":C(i).id,"collection-id":u.id},null,8,["panics","device-id","organization-id","collection-id"])):U("",!0),r.value[f.id]?(M(),ye(FP,{key:1,logs:r.value[f.id]},null,8,["logs"])):U("",!0),j("div",goe,[f.compiler&&f.firmware.hash!==f.compiler.latestFirmware.hash?(M(),D("p",{key:0,title:`Current Firmware MD5: ${f.firmware.hash}
Update's Firmware MD5: ${f.compiler.latestFirmware.hash}`}," Update Available ",8,moe)):U("",!0)])]),_:2},1032,["to"])]))),128)):(M(),D("div",yoe,[Ae(l,{to:`/organization/${C(i).id}/collection/${u.id}`,class:"w-full"},{default:Fe(()=>[u.devices.length>1?(M(),D("h4",voe,ve(u.name),1)):U("",!0),u.devices.length>1&&u.description?(M(),D("p",boe,ve(u.description),1)):U("",!0),j("span",null,ve(u.devices.length)+" Device"+ve(u.devices.length===1?"":"s"),1)]),_:2},1032,["to"])]))]))),128))])):C(i)&&C(i).collections[0]?(M(),D("div",_oe,[Ae(WD,{"organization-id":C(i).id,"collection-id":C(i).collections[0].id},null,8,["organization-id","collection-id"])])):C(i)?(M(),D("span",woe,koe)):(M(),D("span",Coe,Moe))])}}}),Poe=$r(Aoe,[["__scopeId","data-v-0e133bd9"]]),Toe=$e({__name:"OrganizationView",setup(t){return(e,n)=>(M(),ye(Poe))}}),Doe=$e({__name:"CollectionView",setup(t){return(e,n)=>(M(),ye(WD))}}),$oe=$e({__name:"DeviceView",setup(t){return(e,n)=>(M(),ye(zD))}}),v_=t=>(Hi("data-v-2c30f794"),t=t(),Vi(),t),Roe={key:0,class:"login flex w-full flex-row items-center"},Eoe={class:"w-full flex flex-col items-center p"},Ioe={class:"text-center flex flex-row p-5"},Loe=v_(()=>j("button",null,"Signup",-1)),Noe={class:"items-center flex flex-col w-full"},Boe=v_(()=>j("label",{for:"email"},"Email:",-1)),Foe={class:"pt-1"},Hoe=v_(()=>j("label",{for:"password"},"Password:",-1)),Voe=$e({__name:"IopLogin",setup(t){const e=Ug(),n=te({email:"",password:""});e.isAuthenticated&&Qi.push({path:"/"});const i=async()=>{const r=await G_.login({email:n.value.email,password:n.value.password});localStorage.setItem("token",r),window.dispatchEvent(new Event("storage")),Qi.push({path:"/"})};return(r,o)=>C(e).isAuthenticated?U("",!0):(M(),D("div",Roe,[j("div",Eoe,[j("span",Ioe,[Yt("If you don't have an account, "),Ae(C(DP),{to:"/signup"},{default:Fe(()=>[Loe]),_:1}),Yt(" here")]),j("div",Noe,[j("form",{class:"border border-black rounded-sm p-5 flex flex-col",onSubmit:o[3]||(o[3]=hi(()=>{},["prevent"]))},[j("div",null,[Boe,$t(j("input",{class:"float-right ml-2",type:"text",name:"email","onUpdate:modelValue":o[0]||(o[0]=s=>n.value.email=s)},null,512),[[qi,n.value.email]])]),j("div",Foe,[Hoe,$t(j("input",{class:"float-right ml-2",type:"password",name:"password","onUpdate:modelValue":o[1]||(o[1]=s=>n.value.password=s)},null,512),[[qi,n.value.password]])]),j("button",{class:"mt-2",onClick:o[2]||(o[2]=s=>i())},"Login")],32)])])]))}}),joe=$r(Voe,[["__scopeId","data-v-2c30f794"]]),EO=$e({__name:"LoginView",setup(t){return(e,n)=>(M(),ye(joe))}}),Nu=t=>(Hi("data-v-2af3a068"),t=t(),Vi(),t),zoe={key:0,class:"signup flex w-full flex-row items-center"},Woe={class:"w-full flex flex-col items-center p"},Uoe={class:"text-center flex flex-row p-5"},Yoe=Nu(()=>j("button",null,"Login",-1)),qoe={class:"items-center flex flex-col w-full"},Koe=Nu(()=>j("label",{for:"organization-name"},"Organization Name:",-1)),Goe={class:"pt-1"},Xoe=Nu(()=>j("label",{for:"email"},"Email:",-1)),Joe={class:"pt-1"},Qoe=Nu(()=>j("label",{for:"username"},"Username:",-1)),Zoe={class:"pt-1"},ese=Nu(()=>j("label",{for:"password"},"Password:",-1)),tse=$e({__name:"IopSignup",setup(t){const e=Ug(),n=te({email:"",username:"",password:"",organizationName:""});e.isAuthenticated&&Qi.push({path:"/"});const i=async()=>{const r=await G_.signup({email:n.value.email,username:n.value.username,password:n.value.password,organizationName:n.value.organizationName});localStorage.setItem("token",r),window.dispatchEvent(new Event("storage")),Qi.push({path:"/"})};return(r,o)=>{const s=kt("RouterLink");return C(e).isAuthenticated?U("",!0):(M(),D("div",zoe,[j("div",Woe,[j("span",Uoe,[Yt("If you already have an account, "),Ae(s,{to:"/login"},{default:Fe(()=>[Yoe]),_:1}),Yt(" here")]),j("div",qoe,[j("form",{class:"border border-black rounded-sm p-5 flex flex-col",onSubmit:o[5]||(o[5]=hi(()=>{},["prevent"]))},[j("div",null,[Koe,$t(j("input",{class:"float-right ml-2",type:"text",name:"organization-name","onUpdate:modelValue":o[0]||(o[0]=a=>n.value.organizationName=a)},null,512),[[qi,n.value.organizationName]])]),j("div",Goe,[Xoe,$t(j("input",{class:"float-right ml-2",type:"text",name:"email","onUpdate:modelValue":o[1]||(o[1]=a=>n.value.email=a)},null,512),[[qi,n.value.email]])]),j("div",Joe,[Qoe,$t(j("input",{class:"float-right ml-2",type:"text",name:"username","onUpdate:modelValue":o[2]||(o[2]=a=>n.value.username=a)},null,512),[[qi,n.value.username]])]),j("div",Zoe,[ese,$t(j("input",{class:"float-right ml-2",type:"password",name:"password","onUpdate:modelValue":o[3]||(o[3]=a=>n.value.password=a)},null,512),[[qi,n.value.password]])]),j("button",{class:"mt-2",onClick:o[4]||(o[4]=a=>i())},"Signup")],32)])])]))}}}),nse=$r(tse,[["__scopeId","data-v-2af3a068"]]),ise=$e({__name:"SignupView",setup(t){return(e,n)=>(M(),ye(nse))}});class ct{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,i){let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(n,this.length,r,1),pr.from(r,this.length-(n-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){let i=[];return this.decompose(e,n,i,0),pr.from(i,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new Fc(this),o=new Fc(e);for(let s=n,a=n;;){if(r.next(s),o.next(s),s=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new Fc(this,e)}iterRange(e,n=this.length){return new UD(this,e,n)}iterLines(e,n){let i;if(e==null)i=this.iter();else{n==null&&(n=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new YD(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?ct.empty:e.length<=32?new Qt(e):pr.from(Qt.split(e,[]))}}class Qt extends ct{constructor(e,n=rse(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,i,r){for(let o=0;;o++){let s=this.text[o],a=r+s.length;if((n?i:a)>=e)return new ose(r,a,i,s);r=a+1,i++}}decompose(e,n,i,r){let o=e<=0&&n>=this.length?this:new Qt(IO(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(r&1){let s=i.pop(),a=Rh(o.text,s.text.slice(),0,o.length);if(a.length<=32)i.push(new Qt(a,s.length+o.length));else{let l=a.length>>1;i.push(new Qt(a.slice(0,l)),new Qt(a.slice(l)))}}else i.push(o)}replace(e,n,i){if(!(i instanceof Qt))return super.replace(e,n,i);let r=Rh(this.text,Rh(i.text,IO(this.text,0,e)),n),o=this.length+i.length-(n-e);return r.length<=32?new Qt(r,o):pr.from(Qt.split(r,[]),o)}sliceString(e,n=this.length,i=`
`){let r="";for(let o=0,s=0;o<=n&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&n>o&&(r+=a.slice(Math.max(0,e-o),n-o)),o=l+1}return r}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let i=[],r=-1;for(let o of e)i.push(o),r+=o.length+1,i.length==32&&(n.push(new Qt(i,r)),i=[],r=-1);return r>-1&&n.push(new Qt(i,r)),n}}class pr extends ct{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,n,i,r){for(let o=0;;o++){let s=this.children[o],a=r+s.length,l=i+s.lines-1;if((n?l:a)>=e)return s.lineInner(e,n,i,r);r=a+1,i=l+1}}decompose(e,n,i,r){for(let o=0,s=0;s<=n&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(e<=l&&n>=s){let c=r&((s<=e?1:0)|(l>=n?2:0));s>=e&&l<=n&&!c?i.push(a):a.decompose(e-s,n-s,i,c)}s=l+1}}replace(e,n,i){if(i.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.length;if(e>=o&&n<=a){let l=s.replace(e-o,n-o,i),c=this.lines-s.lines+l.lines;if(l.lines<c>>5-1&&l.lines>c>>5+1){let u=this.children.slice();return u[r]=l,new pr(u,this.length-(n-e)+i.length)}return super.replace(o,a,l)}o=a+1}return super.replace(e,n,i)}sliceString(e,n=this.length,i=`
`){let r="";for(let o=0,s=0;o<this.children.length&&s<=n;o++){let a=this.children[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&n>s&&(r+=a.sliceString(e-s,n-s,i)),s=l+1}return r}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof pr))return 0;let i=0,[r,o,s,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=n,o+=n){if(r==s||o==a)return i;let l=this.children[r],c=e.children[o];if(l!=c)return i+l.scanIdentical(c,n);i+=l.length+1}}static from(e,n=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let d of e)i+=d.lines;if(i<32){let d=[];for(let p of e)p.flatten(d);return new Qt(d,n)}let r=Math.max(32,i>>5),o=r<<1,s=r>>1,a=[],l=0,c=-1,u=[];function f(d){let p;if(d.lines>o&&d instanceof pr)for(let g of d.children)f(g);else d.lines>s&&(l>s||!l)?(h(),a.push(d)):d instanceof Qt&&l&&(p=u[u.length-1])instanceof Qt&&d.lines+p.lines<=32?(l+=d.lines,c+=d.length+1,u[u.length-1]=new Qt(p.text.concat(d.text),p.length+1+d.length)):(l+d.lines>r&&h(),l+=d.lines,c+=d.length+1,u.push(d))}function h(){l!=0&&(a.push(u.length==1?u[0]:pr.from(u,c)),c=-1,l=u.length=0)}for(let d of e)f(d);return h(),a.length==1?a[0]:new pr(a,n)}}ct.empty=new Qt([""],0);function rse(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Rh(t,e,n=0,i=1e9){for(let r=0,o=0,s=!0;o<t.length&&r<=i;o++){let a=t[o],l=r+a.length;l>=n&&(l>i&&(a=a.slice(0,i-r)),r<n&&(a=a.slice(n-r)),s?(e[e.length-1]+=a,s=!1):e.push(a)),r=l+1}return e}function IO(t,e,n){return Rh(t,[""],e,n)}class Fc{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Qt?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],o=this.offsets[i],s=o>>1,a=r instanceof Qt?r.text.length:r.children.length;if(s==(n>0?a:0)){if(i==0)return this.done=!0,this.value="",this;n>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[i]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof Qt){let l=r.text[s+(n<0?-1:0)];if(this.offsets[i]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[s+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=n):(n<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Qt?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class UD{constructor(e,n,i){this.value="",this.done=!1,this.cursor=new Fc(e,n>i?-1:1),this.pos=n>i?e.length:0,this.from=Math.min(n,i),this.to=Math.max(n,i)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let i=n<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*n,this.value=r.length<=i?r:n<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class YD{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:i,value:r}=this.inner.next(e);return n?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ct.prototype[Symbol.iterator]=function(){return this.iter()},Fc.prototype[Symbol.iterator]=UD.prototype[Symbol.iterator]=YD.prototype[Symbol.iterator]=function(){return this});class ose{constructor(e,n,i,r){this.from=e,this.to=n,this.number=i,this.text=r}get length(){return this.to-this.from}}let Na="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Na.length;t++)Na[t]+=Na[t-1];function sse(t){for(let e=1;e<Na.length;e+=2)if(Na[e]>t)return Na[e-1]<=t;return!1}function LO(t){return t>=127462&&t<=127487}const NO=8205;function Un(t,e,n=!0,i=!0){return(n?qD:ase)(t,e,i)}function qD(t,e,n){if(e==t.length)return e;e&&KD(t.charCodeAt(e))&&GD(t.charCodeAt(e-1))&&e--;let i=yn(t,e);for(e+=Pi(i);e<t.length;){let r=yn(t,e);if(i==NO||r==NO||n&&sse(r))e+=Pi(r),i=r;else if(LO(r)){let o=0,s=e-2;for(;s>=0&&LO(yn(t,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function ase(t,e,n){for(;e>0;){let i=qD(t,e-2,n);if(i<e)return i;e--}return 0}function KD(t){return t>=56320&&t<57344}function GD(t){return t>=55296&&t<56320}function yn(t,e){let n=t.charCodeAt(e);if(!GD(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return KD(i)?(n-55296<<10)+(i-56320)+65536:n}function b_(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Pi(t){return t<65536?1:2}const Lv=/\r\n?|\n/;var zn=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(zn||(zn={}));class Cr{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n+1];e+=i<0?this.sections[n]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,i=0,r=0;n<this.sections.length;){let o=this.sections[n++],s=this.sections[n++];s<0?(e(i,r,o),r+=o):r+=s,i+=o}}iterChangedRanges(e,n=!1){Nv(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];r<0?e.push(i,r):e.push(r,i)}return new Cr(e)}composeDesc(e){return this.empty?e:e.empty?this:XD(this,e)}mapDesc(e,n=!1){return e.empty?this:Bv(this,e,n)}mapPos(e,n=-1,i=zn.Simple){let r=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=r+a;if(l<0){if(c>e)return o+(e-r);o+=a}else{if(i!=zn.Simple&&c>=e&&(i==zn.TrackDel&&r<e&&c>e||i==zn.TrackBefore&&r<e||i==zn.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==r||n<0?o:o+l;o+=l}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return o}touchesRange(e,n=e){for(let i=0,r=0;i<this.sections.length&&r<=n;){let o=this.sections[i++],s=this.sections[i++],a=r+o;if(s>=0&&r<=n&&a>=e)return r<e&&a>n?"cover":!0;r=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let i=this.sections[n++],r=this.sections[n++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Cr(e)}static create(e){return new Cr(e)}}class an extends Cr{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Nv(this,(n,i,r,o,s)=>e=e.replace(r,r+(i-n),s),!1),e}mapDesc(e,n=!1){return Bv(this,e,n,!0)}invert(e){let n=this.sections.slice(),i=[];for(let r=0,o=0;r<n.length;r+=2){let s=n[r],a=n[r+1];if(a>=0){n[r]=a,n[r+1]=s;let l=r>>1;for(;i.length<l;)i.push(ct.empty);i.push(s?e.slice(o,o+s):ct.empty)}o+=s}return new an(n,i)}compose(e){return this.empty?e:e.empty?this:XD(this,e,!0)}map(e,n=!1){return e.empty?this:Bv(this,e,n,!0)}iterChanges(e,n=!1){Nv(this,e,n)}get desc(){return Cr.create(this.sections)}filter(e){let n=[],i=[],r=[],o=new lu(this);e:for(let s=0,a=0;;){let l=s==e.length?1e9:e[s++];for(;a<l||a==l&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,l-a);On(r,u,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;On(n,u,f),f>0&&Oo(i,n,o.text),o.forward(u),a+=u}let c=e[s++];for(;a<c;){if(o.done)break e;let u=Math.min(o.len,c-a);On(n,u,-1),On(r,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),a+=u}}return{changes:new an(n,i),filtered:Cr.create(r)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n],r=this.sections[n+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,i){let r=[],o=[],s=0,a=null;function l(u=!1){if(!u&&!r.length)return;s<n&&On(r,n-s,-1);let f=new an(r,o);a=a?a.compose(f.map(a)):f,r=[],o=[],s=0}function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof an){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:f,to:h=f,insert:d}=u;if(f>h||f<0||h>n)throw new RangeError(`Invalid change range ${f} to ${h} (in doc of length ${n})`);let p=d?typeof d=="string"?ct.of(d.split(i||Lv)):d:ct.empty,g=p.length;if(f==h&&g==0)return;f<s&&l(),f>s&&On(r,f-s,-1),On(r,h-f,g),Oo(o,r,p),s=h}}return c(e),l(!a),a}static empty(e){return new an(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],i=[];for(let r=0;r<e.length;r++){let o=e[r];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;i.length<r;)i.push(ct.empty);i[r]=ct.of(o.slice(1)),n.push(o[0],i[r].length)}}}return new an(n,i)}static createSet(e,n){return new an(e,n)}}function On(t,e,n,i=!1){if(e==0&&n<=0)return;let r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:e==0&&t[r]==0?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}function Oo(t,e,n){if(n.length==0)return;let i=e.length-2>>1;if(i<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<i;)t.push(ct.empty);t.push(n)}}function Nv(t,e,n){let i=t.inserted;for(let r=0,o=0,s=0;s<t.sections.length;){let a=t.sections[s++],l=t.sections[s++];if(l<0)r+=a,o+=a;else{let c=r,u=o,f=ct.empty;for(;c+=a,u+=l,l&&i&&(f=f.append(i[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)a=t.sections[s++],l=t.sections[s++];e(r,c,o,u,f),r=c,o=u}}}function Bv(t,e,n,i=!1){let r=[],o=i?[]:null,s=new lu(t),a=new lu(e);for(let l=-1;;)if(s.ins==-1&&a.ins==-1){let c=Math.min(s.len,a.len);On(r,c,-1),s.forward(c),a.forward(c)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!n))){let c=a.len;for(On(r,a.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&l<s.i&&s.len<=u&&(On(r,0,s.ins),o&&Oo(o,r,s.text),l=s.i),s.forward(u),c-=u}a.next()}else if(s.ins>=0){let c=0,u=s.len;for(;u;)if(a.ins==-1){let f=Math.min(u,a.len);c+=f,u-=f,a.forward(f)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;On(r,c,l<s.i?s.ins:0),o&&l<s.i&&Oo(o,r,s.text),l=s.i,s.forward(s.len-u)}else{if(s.done&&a.done)return o?an.createSet(r,o):Cr.create(r);throw new Error("Mismatched change set lengths")}}function XD(t,e,n=!1){let i=[],r=n?[]:null,o=new lu(t),s=new lu(e);for(let a=!1;;){if(o.done&&s.done)return r?an.createSet(i,r):Cr.create(i);if(o.ins==0)On(i,o.len,0,a),o.next();else if(s.len==0&&!s.done)On(i,0,s.ins,a),r&&Oo(r,i,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,s.len),c=i.length;if(o.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;On(i,l,u,a),r&&u&&Oo(r,i,s.text)}else s.ins==-1?(On(i,o.off?0:o.len,l,a),r&&Oo(r,i,o.textBit(l))):(On(i,o.off?0:o.len,s.off?0:s.ins,a),r&&!s.off&&Oo(r,i,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||i.length>c),o.forward2(l),s.forward(l)}}}}class lu{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?ct.empty:e[n]}textBit(e){let{inserted:n}=this.set,i=this.i-2>>1;return i>=n.length&&!e?ct.empty:n[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ps{constructor(e,n,i){this.from=e,this.to=n,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,n=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,n):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Ps(i,r,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return ie.range(e,n);let i=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return ie.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ie.range(e.anchor,e.head)}static create(e,n,i){return new Ps(e,n,i)}}class ie{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:ie.create(this.ranges.map(i=>i.map(e,n)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ie([this.main],0)}addRange(e,n=!0){return ie.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let i=this.ranges.slice();return i[n]=e,ie.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ie(e.ranges.map(n=>Ps.fromJSON(n)),e.main)}static single(e,n=e){return new ie([ie.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let o=e[r];if(o.empty?o.from<=i:o.from<i)return ie.normalized(e.slice(),n);i=o.to}return new ie(e,n)}static cursor(e,n=0,i,r){return Ps.create(e,e,(n==0?0:n<0?4:8)|(i==null?3:Math.min(2,i))|(r??33554431)<<5)}static range(e,n,i,r){let o=(i??33554431)<<5|(r==null?3:Math.min(2,r));return n<e?Ps.create(n,e,24|o):Ps.create(e,n,(n>e?4:0)|o)}static normalized(e,n=0){let i=e[n];e.sort((r,o)=>r.from-o.from),n=e.indexOf(i);for(let r=1;r<e.length;r++){let o=e[r],s=e[r-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);r<=n&&n--,e.splice(--r,2,o.anchor>o.head?ie.range(l,a):ie.range(a,l))}}return new ie(e,n)}}function JD(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let __=0;class De{constructor(e,n,i,r,o){this.combine=e,this.compareInput=n,this.compare=i,this.isStatic=r,this.id=__++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}static define(e={}){return new De(e.combine||(n=>n),e.compareInput||((n,i)=>n===i),e.compare||(e.combine?(n,i)=>n===i:w_),!!e.static,e.enables)}of(e){return new Eh([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Eh(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Eh(e,this,2,n)}from(e,n){return n||(n=i=>i),this.compute([e],i=>n(i.field(e)))}}function w_(t,e){return t==e||t.length==e.length&&t.every((n,i)=>n===e[i])}class Eh{constructor(e,n,i,r){this.dependencies=e,this.facet=n,this.type=i,this.value=r,this.id=__++}dynamicSlot(e){var n;let i=this.value,r=this.facet.compareInput,o=this.id,s=e[o]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:((n=e[f.id])!==null&&n!==void 0?n:1)&1||u.push(e[f.id]);return{create(f){return f.values[s]=i(f),1},update(f,h){if(l&&h.docChanged||c&&(h.docChanged||h.selection)||Fv(f,u)){let d=i(f);if(a?!BO(d,f.values[s],r):!r(d,f.values[s]))return f.values[s]=d,1}return 0},reconfigure:(f,h)=>{let d,p=h.config.address[o];if(p!=null){let g=dp(h,p);if(this.dependencies.every(y=>y instanceof De?h.facet(y)===f.facet(y):y instanceof xn?h.field(y,!1)==f.field(y,!1):!0)||(a?BO(d=i(f),g,r):r(d=i(f),g)))return f.values[s]=g,0}else d=i(f);return f.values[s]=d,1}}}}function BO(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function Fv(t,e){let n=!1;for(let i of e)Hc(t,i)&1&&(n=!0);return n}function lse(t,e,n){let i=n.map(l=>t[l.id]),r=n.map(l=>l.type),o=i.filter(l=>!(l&1)),s=t[e.id]>>1;function a(l){let c=[];for(let u=0;u<i.length;u++){let f=dp(l,i[u]);if(r[u]==2)for(let h of f)c.push(h);else c.push(f)}return e.combine(c)}return{create(l){for(let c of i)Hc(l,c);return l.values[s]=a(l),1},update(l,c){if(!Fv(l,o))return 0;let u=a(l);return e.compare(u,l.values[s])?0:(l.values[s]=u,1)},reconfigure(l,c){let u=Fv(l,i),f=c.config.facets[e.id],h=c.facet(e);if(f&&!u&&w_(n,f))return l.values[s]=h,0;let d=a(l);return e.compare(d,h)?(l.values[s]=h,0):(l.values[s]=d,1)}}}const FO=De.define({static:!0});class xn{constructor(e,n,i,r,o){this.id=e,this.createF=n,this.updateF=i,this.compareF=r,this.spec=o,this.provides=void 0}static define(e){let n=new xn(__++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(FO).find(i=>i.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:i=>(i.values[n]=this.create(i),1),update:(i,r)=>{let o=i.values[n],s=this.updateF(o,r);return this.compareF(o,s)?0:(i.values[n]=s,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[n]=r.field(this),0):(i.values[n]=this.create(i),1)}}init(e){return[this,FO.of({field:this,create:e})]}get extension(){return this}}const Cs={lowest:4,low:3,default:2,high:1,highest:0};function ec(t){return e=>new QD(e,t)}const $l={highest:ec(Cs.highest),high:ec(Cs.high),default:ec(Cs.default),low:ec(Cs.low),lowest:ec(Cs.lowest)};class QD{constructor(e,n){this.inner=e,this.prec=n}}class dl{of(e){return new Hv(this,e)}reconfigure(e){return dl.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Hv{constructor(e,n){this.compartment=e,this.inner=n}}class hp{constructor(e,n,i,r,o,s){for(this.base=e,this.compartments=n,this.dynamicSlots=i,this.address=r,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,i){let r=[],o=Object.create(null),s=new Map;for(let h of cse(e,n,s))h instanceof xn?r.push(h):(o[h.facet.id]||(o[h.facet.id]=[])).push(h);let a=Object.create(null),l=[],c=[];for(let h of r)a[h.id]=c.length<<1,c.push(d=>h.slot(d));let u=i==null?void 0:i.config.facets;for(let h in o){let d=o[h],p=d[0].facet,g=u&&u[h]||[];if(d.every(y=>y.type==0))if(a[p.id]=l.length<<1|1,w_(g,d))l.push(i.facet(p));else{let y=p.combine(d.map(m=>m.value));l.push(i&&p.compare(y,i.facet(p))?i.facet(p):y)}else{for(let y of d)y.type==0?(a[y.id]=l.length<<1|1,l.push(y.value)):(a[y.id]=c.length<<1,c.push(m=>y.dynamicSlot(m)));a[p.id]=c.length<<1,c.push(y=>lse(y,p,d))}}let f=c.map(h=>h(a));return new hp(e,s,f,a,l,o)}}function cse(t,e,n){let i=[[],[],[],[],[]],r=new Map;function o(s,a){let l=r.get(s);if(l!=null){if(l<=a)return;let c=i[l].indexOf(s);c>-1&&i[l].splice(c,1),s instanceof Hv&&n.delete(s.compartment)}if(r.set(s,a),Array.isArray(s))for(let c of s)o(c,a);else if(s instanceof Hv){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;n.set(s.compartment,c),o(c,a)}else if(s instanceof QD)o(s.inner,s.prec);else if(s instanceof xn)i[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof Eh)i[a].push(s),s.facet.extensions&&o(s.facet.extensions,Cs.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,a)}}return o(t,Cs.default),i.reduce((s,a)=>s.concat(a))}function Hc(t,e){if(e&1)return 2;let n=e>>1,i=t.status[n];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;t.status[n]=4;let r=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|r}function dp(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const ZD=De.define(),e$=De.define({combine:t=>t.some(e=>e),static:!0}),t$=De.define({combine:t=>t.length?t[0]:void 0,static:!0}),n$=De.define(),i$=De.define(),r$=De.define(),o$=De.define({combine:t=>t.length?t[0]:!1});class ao{constructor(e,n){this.type=e,this.value=n}static define(){return new use}}class use{of(e){return new ao(this,e)}}class fse{constructor(e){this.map=e}of(e){return new Ke(this,e)}}class Ke{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Ke(this.type,n)}is(e){return this.type==e}static define(e={}){return new fse(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let i=[];for(let r of e){let o=r.map(n);o&&i.push(o)}return i}}Ke.reconfigure=Ke.define();Ke.appendConfig=Ke.define();class un{constructor(e,n,i,r,o,s){this.startState=e,this.changes=n,this.selection=i,this.effects=r,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,i&&JD(i,n.newLength),o.some(a=>a.type==un.time)||(this.annotations=o.concat(un.time.of(Date.now())))}static create(e,n,i,r,o,s){return new un(e,n,i,r,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(un.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}un.time=ao.define();un.userEvent=ao.define();un.addToHistory=ao.define();un.remote=ao.define();function hse(t,e){let n=[];for(let i=0,r=0;;){let o,s;if(i<t.length&&(r==e.length||e[r]>=t[i]))o=t[i++],s=t[i++];else if(r<e.length)o=e[r++],s=e[r++];else return n;!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function s$(t,e,n){var i;let r,o,s;return n?(r=e.changes,o=an.empty(e.changes.length),s=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(r)),{changes:s,selection:e.selection?e.selection.map(o):(i=t.selection)===null||i===void 0?void 0:i.map(r),effects:Ke.mapEffects(t.effects,r).concat(Ke.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Vv(t,e,n){let i=e.selection,r=Ba(e.annotations);return e.userEvent&&(r=r.concat(un.userEvent.of(e.userEvent))),{changes:e.changes instanceof an?e.changes:an.of(e.changes||[],n,t.facet(t$)),selection:i&&(i instanceof ie?i:ie.single(i.anchor,i.head)),effects:Ba(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function a$(t,e,n){let i=Vv(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let s=!!e[o].sequential;i=s$(i,Vv(t,e[o],s?i.changes.newLength:t.doc.length),s)}let r=un.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return pse(n?dse(r):r)}function dse(t){let e=t.startState,n=!0;for(let r of e.facet(n$)){let o=r(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:hse(n,o))}if(n!==!0){let r,o;if(n===!1)o=t.changes.invertedDesc,r=an.empty(e.doc.length);else{let s=t.changes.filter(n);r=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}t=un.create(e,r,t.selection&&t.selection.map(o),Ke.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let i=e.facet(i$);for(let r=i.length-1;r>=0;r--){let o=i[r](t);o instanceof un?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof un?t=o[0]:t=a$(e,Ba(o),!1)}return t}function pse(t){let e=t.startState,n=e.facet(r$),i=t;for(let r=n.length-1;r>=0;r--){let o=n[r](t);o&&Object.keys(o).length&&(i=s$(i,Vv(e,o,t.changes.newLength),!0))}return i==t?t:un.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}const gse=[];function Ba(t){return t==null?gse:Array.isArray(t)?t:[t]}var Nt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Nt||(Nt={}));const mse=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let jv;try{jv=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function yse(t){if(jv)return jv.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||mse.test(n)))return!0}return!1}function vse(t){return e=>{if(!/\S/.test(e))return Nt.Space;if(yse(e))return Nt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Nt.Word;return Nt.Other}}class it{constructor(e,n,i,r,o,s){this.config=e,this.doc=n,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Hc(this,a<<1);this.computeSlot=null}field(e,n=!0){let i=this.config.address[e.id];if(i==null){if(n)throw new RangeError("Field is not present in this state");return}return Hc(this,i),dp(this,i)}update(...e){return a$(this,e,!0)}applyTransaction(e){let n=this.config,{base:i,compartments:r}=n;for(let s of e.effects)s.is(dl.reconfigure)?(n&&(r=new Map,n.compartments.forEach((a,l)=>r.set(l,a)),n=null),r.set(s.value.compartment,s.value.extension)):s.is(Ke.reconfigure)?(n=null,i=s.value):s.is(Ke.appendConfig)&&(n=null,i=Ba(i).concat(s.value));let o;n?o=e.startState.values.slice():(n=hp.resolve(i,r,this),o=new it(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values),new it(n,e.newDoc,e.newSelection,o,(s,a)=>a.update(s,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:ie.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,i=e(n.ranges[0]),r=this.changes(i.changes),o=[i.range],s=Ba(i.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),u=c.map(r);for(let h=0;h<a;h++)o[h]=o[h].map(u);let f=r.mapDesc(c,!0);o.push(l.range.map(f)),r=r.compose(u),s=Ke.mapEffects(s,u).concat(Ke.mapEffects(Ba(l.effects),f))}return{changes:r,selection:ie.create(o,n.mainIndex),effects:s}}changes(e=[]){return e instanceof an?e:an.of(e,this.doc.length,this.facet(it.lineSeparator))}toText(e){return ct.of(e.split(this.facet(it.lineSeparator)||Lv))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Hc(this,n),dp(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof xn&&this.config.address[r.id]!=null&&(n[i]=r.spec.toJSON(this.field(e[i]),this))}return n}static fromJSON(e,n={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let o in i)if(Object.prototype.hasOwnProperty.call(e,o)){let s=i[o],a=e[o];r.push(s.init(l=>s.spec.fromJSON(a,l)))}}return it.create({doc:e.doc,selection:ie.fromJSON(e.selection),extensions:n.extensions?r.concat([n.extensions]):r})}static create(e={}){let n=hp.resolve(e.extensions||[],new Map),i=e.doc instanceof ct?e.doc:ct.of((e.doc||"").split(n.staticFacet(it.lineSeparator)||Lv)),r=e.selection?e.selection instanceof ie?e.selection:ie.single(e.selection.anchor,e.selection.head):ie.single(0);return JD(r,i.length),n.staticFacet(e$)||(r=r.asSingle()),new it(n,i,r,n.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(it.tabSize)}get lineBreak(){return this.facet(it.lineSeparator)||`
`}get readOnly(){return this.facet(o$)}phrase(e,...n){for(let i of this.facet(it.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let o=+(r||1);return!o||o>n.length?i:n[o-1]})),e}languageDataAt(e,n,i=-1){let r=[];for(let o of this.facet(ZD))for(let s of o(this,n,i))Object.prototype.hasOwnProperty.call(s,e)&&r.push(s[e]);return r}charCategorizer(e){return vse(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:i,length:r}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-i,a=e-i;for(;s>0;){let l=Un(n,s,!1);if(o(n.slice(l,s))!=Nt.Word)break;s=l}for(;a<r;){let l=Un(n,a);if(o(n.slice(a,l))!=Nt.Word)break;a=l}return s==a?null:ie.range(s+i,a+i)}}it.allowMultipleSelections=e$;it.tabSize=De.define({combine:t=>t.length?t[0]:4});it.lineSeparator=t$;it.readOnly=o$;it.phrases=De.define({compare(t,e){let n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every(r=>t[r]==e[r])}});it.languageData=ZD;it.changeFilter=n$;it.transactionFilter=i$;it.transactionExtender=r$;dl.reconfigure=Ke.define();function Er(t,e,n={}){let i={};for(let r of t)for(let o of Object.keys(r)){let s=r[o],a=i[o];if(a===void 0)i[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(n,o))i[o]=n[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class qs{eq(e){return this==e}range(e,n=e){return zv.create(e,n,this)}}qs.prototype.startSide=qs.prototype.endSide=0;qs.prototype.point=!1;qs.prototype.mapMode=zn.TrackDel;let zv=class l${constructor(e,n,i){this.from=e,this.to=n,this.value=i}static create(e,n,i){return new l$(e,n,i)}};function Wv(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class x_{constructor(e,n,i,r){this.from=e,this.to=n,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,n,i,r=0){let o=i?this.to:this.from;for(let s=r,a=o.length;;){if(s==a)return s;let l=s+a>>1,c=o[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-n;if(l==s)return c>=0?s:a;c>=0?a=l:s=l+1}}between(e,n,i,r){for(let o=this.findIndex(n,-1e9,!0),s=this.findIndex(i,1e9,!1,o);o<s;o++)if(r(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let i=[],r=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,f=this.to[l]+e,h,d;if(u==f){let p=n.mapPos(u,c.startSide,c.mapMode);if(p==null||(h=d=p,c.startSide!=c.endSide&&(d=n.mapPos(u,c.endSide),d<h)))continue}else if(h=n.mapPos(u,c.startSide),d=n.mapPos(f,c.endSide),h>d||h==d&&c.startSide>0&&c.endSide<=0)continue;(d-h||c.endSide-c.startSide)<0||(s<0&&(s=h),c.point&&(a=Math.max(a,d-h)),i.push(c),r.push(h-s),o.push(d-s))}return{mapped:i.length?new x_(r,o,i,a):null,pos:s}}}class pt{constructor(e,n,i,r){this.chunkPos=e,this.chunk=n,this.nextLayer=i,this.maxPoint=r}static create(e,n,i,r){return new pt(e,n,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:i=!1,filterFrom:r=0,filterTo:o=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(i&&(n=n.slice().sort(Wv)),this.isEmpty)return n.length?pt.of(n):this;let a=new c$(this,null,-1).goto(0),l=0,c=[],u=new Uo;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let f=n[l++];u.addInner(f.from,f.to,f.value)||c.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!s||r>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||r>a.to||o<a.from||s(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(zv.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?pt.empty:this.nextLayer.update({add:c,filter:s,filterFrom:r,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],i=[],r=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s],c=e.touchesRange(a,a+l.length);if(c===!1)r=Math.max(r,l.maxPoint),n.push(l),i.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:f}=l.map(a,e);u&&(r=Math.max(r,u.maxPoint),n.push(u),i.push(f))}}let o=this.nextLayer.map(e);return n.length==0?o:new pt(i,n,o||pt.empty,r)}between(e,n,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],s=this.chunk[r];if(n>=o&&e<=o+s.length&&s.between(o,e-o,n-o,i)===!1)return}this.nextLayer.between(e,n,i)}}iter(e=0){return cu.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return cu.from(e).goto(n)}static compare(e,n,i,r,o=-1){let s=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),a=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),l=HO(s,a,i),c=new tc(s,l,o),u=new tc(a,l,o);i.iterGaps((f,h,d)=>VO(c,f,u,h,d,r)),i.empty&&i.length==0&&VO(c,0,u,0,0,r)}static eq(e,n,i=0,r){r==null&&(r=1e9-1);let o=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),s=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=HO(o,s),l=new tc(o,a,0).goto(i),c=new tc(s,a,0).goto(i);for(;;){if(l.to!=c.to||!Uv(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>r)return!0;l.next(),c.next()}}static spans(e,n,i,r,o=-1){let s=new tc(e,null,o).goto(n),a=n,l=s.openStart;for(;;){let c=Math.min(s.to,i);if(s.point){let u=s.activeForPoint(s.to),f=s.pointFrom<n?u.length+1:Math.min(u.length,l);r.point(a,c,s.point,u,f,s.pointRank),l=Math.min(s.openEnd(c),u.length)}else c>a&&(r.span(a,c,s.active,l),l=s.openEnd(c));if(s.to>i)return l+(s.point&&s.to>i?1:0);a=s.to,s.next()}}static of(e,n=!1){let i=new Uo;for(let r of e instanceof zv?[e]:n?bse(e):e)i.add(r.from,r.to,r.value);return i.finish()}}pt.empty=new pt([],[],null,-1);function bse(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if(Wv(e,i)>0)return t.slice().sort(Wv);e=i}return t}pt.empty.nextLayer=pt.empty;class Uo{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new x_(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,n,i){this.addInner(e,n,i)||(this.nextLayer||(this.nextLayer=new Uo)).add(e,n,i)}addInner(e,n,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=n,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let i=n.value.length-1;return this.last=n.value[i],this.lastFrom=n.from[i]+e,this.lastTo=n.to[i]+e,!0}finish(){return this.finishInner(pt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=pt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function HO(t,e,n){let i=new Map;for(let o of t)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&i.set(o.chunk[s],o.chunkPos[s]);let r=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let a=i.get(o.chunk[s]);a!=null&&(n?n.mapPos(a):a)==o.chunkPos[s]&&!(n!=null&&n.touchesRange(a,a+o.chunk[s].length))&&r.add(o.chunk[s])}return r}class c${constructor(e,n,i,r=0){this.layer=e,this.skip=n,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],i=e+n.from[this.rangeIndex];if(this.from=i,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class cu{constructor(e){this.heap=e}static from(e,n=null,i=-1){let r=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=i&&r.push(new c$(s,n,i,o));return r.length==1?r[0]:new cu(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let i of this.heap)i.goto(e,n);for(let i=this.heap.length>>1;i>=0;i--)ny(this.heap,i);return this.next(),this}forward(e,n){for(let i of this.heap)i.forward(e,n);for(let i=this.heap.length>>1;i>=0;i--)ny(this.heap,i);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),ny(this.heap,0)}}}function ny(t,e){for(let n=t[e];;){let i=(e<<1)+1;if(i>=t.length)break;let r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}class tc{constructor(e,n,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=cu.from(e,n,i)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){vf(this.active,e),vf(this.activeTo,e),vf(this.activeRank,e),this.minActive=jO(this.active,this.activeTo)}addActive(e){let n=0,{value:i,to:r,rank:o}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=o;)n++;bf(this.active,n,i),bf(this.activeTo,n,r),bf(this.activeRank,n,o),e&&bf(e,n,this.cursor.from),this.minActive=jO(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&vf(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(i),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&n.push(this.active[i]);return n.reverse()}openEnd(e){let n=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)n++;return n}}function VO(t,e,n,i,r,o){t.goto(e),n.goto(i);let s=i+r,a=i,l=i-e;for(;;){let c=t.to+l-n.to||t.endSide-n.endSide,u=c<0?t.to+l:n.to,f=Math.min(u,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Uv(t.activeForPoint(t.to+l),n.activeForPoint(n.to))||o.comparePoint(a,f,t.point,n.point):f>a&&!Uv(t.active,n.active)&&o.compareRange(a,f,t.active,n.active),u>s)break;a=u,c<=0&&t.next(),c>=0&&n.next()}}function Uv(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function vf(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function bf(t,e,n){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=n}function jO(t,e){let n=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}function Bu(t,e,n=t.length){let i=0;for(let r=0;r<n;)t.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=Un(t,r));return i}function Yv(t,e,n,i){for(let r=0,o=0;;){if(o>=e)return r;if(r==t.length)break;o+=t.charCodeAt(r)==9?n-o%n:1,r=Un(t,r)}return i===!0?-1:t.length}const qv="",zO=typeof Symbol>"u"?"__"+qv:Symbol.for(qv),Kv=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),WO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Yo{constructor(e,n){this.rules=[];let{finish:i}=n||{};function r(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,l,c){let u=[],f=/^@(\w+)\b/.exec(s[0]),h=f&&f[1]=="keyframes";if(f&&a==null)return l.push(s[0]+";");for(let d in a){let p=a[d];if(/&/.test(d))o(d.split(/,\s*/).map(g=>s.map(y=>g.replace(/&/,y))).reduce((g,y)=>g.concat(y)),p,l);else if(p&&typeof p=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");o(r(d),p,u,h)}else p!=null&&u.push(d.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+p+";")}(u.length||h)&&l.push((i&&!f&&!c?s.map(i):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in e)o(r(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=WO[zO]||1;return WO[zO]=e+1,qv+e.toString(36)}static mount(e,n){(e[Kv]||new _se(e)).mount(Array.isArray(n)?n:[n])}}let _f=null;class _se{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(_f)return e.adoptedStyleSheets=[_f.sheet,...e.adoptedStyleSheets],e[Kv]=_f;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],_f=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let n=e.head||e;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],e[Kv]=this}mount(e){let n=this.sheet,i=0,r=0;for(let o=0;o<e.length;o++){let s=e[o],a=this.modules.indexOf(s);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),a==-1){if(this.modules.splice(r++,0,s),n)for(let l=0;l<s.rules.length;l++)n.insertRule(s.rules[l],i++)}else{for(;r<a;)i+=this.modules[r++].rules.length;i+=s.rules.length,r++}}if(!n){let o="";for(let s=0;s<this.modules.length;s++)o+=this.modules[s].getRules()+`
`;this.styleTag.textContent=o}}}var qo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},uu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},UO=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),wse=typeof navigator<"u"&&/Mac/.test(navigator.platform),xse=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Sse=wse||UO&&+UO[1]<57;for(var vn=0;vn<10;vn++)qo[48+vn]=qo[96+vn]=String(vn);for(var vn=1;vn<=24;vn++)qo[vn+111]="F"+vn;for(var vn=65;vn<=90;vn++)qo[vn]=String.fromCharCode(vn+32),uu[vn]=String.fromCharCode(vn);for(var iy in qo)uu.hasOwnProperty(iy)||(uu[iy]=qo[iy]);function kse(t){var e=Sse&&(t.ctrlKey||t.altKey||t.metaKey)||xse&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?uu:qo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function pp(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function pl(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Cse(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Ih(t,e){if(!e.anchorNode)return!1;try{return pl(t,e.anchorNode)}catch{return!1}}function fu(t){return t.nodeType==3?gl(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function gp(t,e,n,i){return n?YO(t,e,n,i,-1)||YO(t,e,n,i,1):!1}function mp(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function YO(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:hu(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=mp(t)+(r<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=r<0?hu(t):0}else return!1}}function hu(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}const u$={left:0,right:0,top:0,bottom:0};function S_(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function Ose(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function Mse(t,e,n,i,r,o,s,a){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t;u;)if(u.nodeType==1){let f,h=u==l.body;if(h)f=Ose(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let g=u.getBoundingClientRect();f={left:g.left,right:g.left+u.clientWidth,top:g.top,bottom:g.top+u.clientHeight}}let d=0,p=0;if(r=="nearest")e.top<f.top?(p=-(f.top-e.top+s),n>0&&e.bottom>f.bottom+p&&(p=e.bottom-f.bottom+p+s)):e.bottom>f.bottom&&(p=e.bottom-f.bottom+s,n<0&&e.top-p<f.top&&(p=-(f.top+p-e.top+s)));else{let g=e.bottom-e.top,y=f.bottom-f.top;p=(r=="center"&&g<=y?e.top+g/2-y/2:r=="start"||r=="center"&&n<0?e.top-s:e.bottom-y+s)-f.top}if(i=="nearest"?e.left<f.left?(d=-(f.left-e.left+o),n>0&&e.right>f.right+d&&(d=e.right-f.right+d+o)):e.right>f.right&&(d=e.right-f.right+o,n<0&&e.left<f.left+d&&(d=-(f.left+d-e.left+o))):d=(i=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:i=="start"==a?e.left-o:e.right-(f.right-f.left)+o)-f.left,d||p)if(h)c.scrollBy(d,p);else{let g=0,y=0;if(p){let m=u.scrollTop;u.scrollTop+=p,y=u.scrollTop-m}if(d){let m=u.scrollLeft;u.scrollLeft+=d,g=u.scrollLeft-m}e={left:e.left-g,top:e.top-y,right:e.right-g,bottom:e.bottom-y},g&&Math.abs(g-d)<1&&(i="nearest"),y&&Math.abs(y-p)<1&&(r="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function Ase(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class Pse{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,n,i,r){this.anchorNode=e,this.anchorOffset=n,this.focusNode=i,this.focusOffset=r}}let xa=null;function f$(t){if(t.setActive)return t.setActive();if(xa)return t.focus(xa);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(xa==null?{get preventScroll(){return xa={preventScroll:!0},!0}}:void 0),!xa){xa=!1;for(let n=0;n<e.length;){let i=e[n++],r=e[n++],o=e[n++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=o&&(i.scrollLeft=o)}}}let qO;function gl(t,e,n=e){let i=qO||(qO=document.createRange());return i.setEnd(t,n),i.setStart(t,e),i}function Fa(t,e,n){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,t.dispatchEvent(r);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function Tse(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function h$(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function Dse(t,e){let n=e.focusNode,i=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=i)return!1;for(;;)if(i){if(n.nodeType!=1)return!1;let r=n.childNodes[i-1];r.contentEditable=="false"?i--:(n=r,i=hu(n))}else{if(n==t)return!0;i=mp(n),n=n.parentNode}}class _n{constructor(e,n,i=!0){this.node=e,this.offset=n,this.precise=i}static before(e,n){return new _n(e.parentNode,mp(e),n)}static after(e,n){return new _n(e.parentNode,mp(e)+1,n)}}const k_=[];class Et{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let i of this.children){if(i==e)return n;n+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,n){return null}sync(e,n){if(this.dirty&2){let i=this.dom,r=null,o;for(let s of this.children){if(s.dirty){if(!s.dom&&(o=r?r.nextSibling:i.firstChild)){let a=Et.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,n),s.dirty=0}if(o=r?r.nextSibling:i.firstChild,n&&!n.written&&n.node==i&&o!=s.dom&&(n.written=!0),s.dom.parentNode==i)for(;o&&o!=s.dom;)o=KO(o);else i.insertBefore(s.dom,o);r=s.dom}for(o=r?r.nextSibling:i.firstChild,o&&n&&n.node==i&&(n.written=!0);o;)o=KO(o)}else if(this.dirty&1)for(let i of this.children)i.dirty&&(i.sync(e,n),i.dirty=0)}reuseDOM(e){}localPosFromDOM(e,n){let i;if(e==this.dom)i=this.dom.childNodes[n];else{let r=hu(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?r=-1:r=1),e=o}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Et.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,o=0;;r++){let s=this.children[r];if(s.dom==i)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,n,i=0){let r=-1,o=-1,s=-1,a=-1;for(let l=0,c=i,u=i;l<this.children.length;l++){let f=this.children[l],h=c+f.length;if(c<e&&h>n)return f.domBoundsAround(e,n,c);if(h>=e&&r==-1&&(r=l,o=c),c>n&&f.dom.parentNode==this.dom){s=l,a=u;break}u=h,c=h+f.breakAfter}return{from:o,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.dirty|=2),n.dirty&1)return;n.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,i=k_){this.markDirty();for(let r=e;r<n;r++){let o=this.children[r];o.parent==this&&o.destroy()}this.children.splice(e,n-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new d$(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}merge(e,n,i,r,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}Et.prototype.breakAfter=0;function KO(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class d${constructor(e,n,i){this.children=e,this.pos=n,this.i=i,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function p$(t,e,n,i,r,o,s,a,l){let{children:c}=t,u=c.length?c[e]:null,f=o.length?o[o.length-1]:null,h=f?f.breakAfter:s;if(!(e==i&&u&&!s&&!h&&o.length<2&&u.merge(n,r,o.length?f:null,n==0,a,l))){if(i<c.length){let d=c[i];d&&r<d.length?(e==i&&(d=d.split(r),r=0),!h&&f&&d.merge(0,r,f,!0,0,l)?o[o.length-1]=d:(r&&d.merge(0,r,null,!1,0,l),o.push(d))):d!=null&&d.breakAfter&&(f?f.breakAfter=1:s=1),i++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,a,0),e++));e<i&&o.length;)if(c[i-1].become(o[o.length-1]))i--,o.pop(),l=o.length?0:a;else if(c[e].become(o[0]))e++,o.shift(),a=o.length?0:l;else break;!o.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,a,l)&&e--,(e<i||o.length)&&t.replaceChildren(e,i,o)}}function g$(t,e,n,i,r,o){let s=t.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:u}=s.findPos(e,-1),f=e-n;for(let h of i)f+=h.length;t.length+=f,p$(t,c,u,a,l,i,0,r,o)}let fi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Gv=typeof document<"u"?document:{documentElement:{style:{}}};const Xv=/Edge\/(\d+)/.exec(fi.userAgent),m$=/MSIE \d/.test(fi.userAgent),Jv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fi.userAgent),Dg=!!(m$||Jv||Xv),GO=!Dg&&/gecko\/(\d+)/i.test(fi.userAgent),ry=!Dg&&/Chrome\/(\d+)/.exec(fi.userAgent),XO="webkitFontSmoothing"in Gv.documentElement.style,y$=!Dg&&/Apple Computer/.test(fi.vendor),JO=y$&&(/Mobile\/\w+/.test(fi.userAgent)||fi.maxTouchPoints>2);var Me={mac:JO||/Mac/.test(fi.platform),windows:/Win/.test(fi.platform),linux:/Linux|X11/.test(fi.platform),ie:Dg,ie_version:m$?Gv.documentMode||6:Jv?+Jv[1]:Xv?+Xv[1]:0,gecko:GO,gecko_version:GO?+(/Firefox\/(\d+)/.exec(fi.userAgent)||[0,0])[1]:0,chrome:!!ry,chrome_version:ry?+ry[1]:0,ios:JO,android:/Android\b/.test(fi.userAgent),webkit:XO,safari:y$,webkit_version:XO?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Gv.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const $se=256;class Ko extends Et{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,i){return i&&(!(i instanceof Ko)||this.length-(n-e)+i.length>$se)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new Ko(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new _n(this.dom,e)}domBoundsAround(e,n,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Qv(this.dom,e,n)}}class Dr extends Et{constructor(e,n=[],i=0){super(),this.mark=e,this.children=n,this.length=i;for(let r of n)r.setParent(this)}setAttrs(e){if(h$(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,n){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,i,r,o,s){return i&&(!(i instanceof Dr&&i.mark.eq(this.mark))||e&&o<=0||n<this.length&&s<=0)?!1:(g$(this,e,n,i?i.children:[],o-1,s-1),this.markDirty(),!0)}split(e){let n=[],i=0,r=-1,o=0;for(let a of this.children){let l=i+a.length;l>e&&n.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=o),i=l,o++}let s=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Dr(this.mark,n,s)}domAtPos(e){return _$(this,e)}coordsAt(e,n){return x$(this,e,n)}}function Qv(t,e,n){let i=t.nodeValue.length;e>i&&(e=i);let r=e,o=e,s=0;e==0&&n<0||e==i&&n>=0?Me.chrome||Me.gecko||(e?(r--,s=1):o<i&&(o++,s=-1)):n<0?r--:o<i&&o++;let a=gl(t,r,o).getClientRects();if(!a.length)return u$;let l=a[(s?s<0:n>=0)?0:a.length-1];return Me.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),s?S_(l,s<0):l||null}class Mo extends Et{constructor(e,n,i){super(),this.widget=e,this.length=n,this.side=i,this.prevWidget=null}static create(e,n,i){return new(e.customView||Mo)(e,n,i)}split(e){let n=Mo.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,n,i,r,o,s){return i&&(!(i instanceof Mo)||!this.widget.compare(i.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}become(e){return e.length==this.length&&e instanceof Mo&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ct.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,i=n&&n.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):ct.empty}domAtPos(e){return e==0?_n.before(this.dom):_n.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let i=this.dom.getClientRects(),r=null;if(!i.length)return u$;for(let o=e>0?i.length-1:0;r=i[o],!(e>0?o==0:o==i.length-1||r.top<r.bottom);o+=e>0?-1:1);return this.length?r:S_(r,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class v$ extends Mo{domAtPos(e){let{topView:n,text:i}=this.widget;return n?Zv(e,0,n,i,(r,o)=>r.domAtPos(o),r=>new _n(i,Math.min(r,i.nodeValue.length))):new _n(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,n){let{topView:i,text:r}=this.widget;return i?b$(e,n,i,r):Math.min(n,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,n){let{topView:i,text:r}=this.widget;return i?Zv(e,n,i,r,(o,s,a)=>o.coordsAt(s,a),(o,s)=>Qv(r,o,s)):Qv(r,e,n)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function Zv(t,e,n,i,r,o){if(n instanceof Dr){for(let s=n.dom.firstChild;s;s=s.nextSibling){let a=Et.get(s);if(!a)return o(t,e);let l=pl(s,i),c=a.length+(l?i.nodeValue.length:0);if(t<c||t==c&&a.getSide()<=0)return l?Zv(t,e,a,i,r,o):r(a,t,e);t-=c}return r(n,n.length,-1)}else return n.dom==i?o(t,e):r(n,t,e)}function b$(t,e,n,i){if(n instanceof Dr){let r=0;for(let o of n.children){let s=pl(o.dom,i);if(pl(o.dom,t))return r+(s?b$(t,e,o,i):o.localPosFromDOM(t,e));r+=s?i.nodeValue.length:o.length}}else if(n.dom==i)return Math.min(e,i.nodeValue.length);return n.localPosFromDOM(t,e)}class ml extends Et{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ml&&e.side==this.side}split(){return new ml(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?_n.before(this.dom):_n.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let n=this.dom.getBoundingClientRect(),i=Rse(this,this.side>0?-1:1);return i&&i.top<n.bottom&&i.bottom>n.top?{left:n.left,right:n.right,top:i.top,bottom:i.bottom}:n}get overrideDOMText(){return ct.empty}}Ko.prototype.children=Mo.prototype.children=ml.prototype.children=k_;function Rse(t,e){let n=t.parent,i=n?n.children.indexOf(t):-1;for(;n&&i>=0;)if(e<0?i>0:i<n.children.length){let r=n.children[i+e];if(r instanceof Ko){let o=r.coordsAt(e<0?r.length:0,e);if(o)return o}i+=e}else if(n instanceof Dr&&n.parent)i=n.parent.children.indexOf(n)+(e<0?0:1),n=n.parent;else{let r=n.dom.lastChild;if(r&&r.nodeName=="BR")return r.getClientRects()[0];break}}function _$(t,e){let n=t.dom,{children:i}=t,r=0;for(let o=0;r<i.length;r++){let s=i[r],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(e>o&&e<a&&s.dom.parentNode==n)return s.domAtPos(e-o);if(e<=o)break;o=a}}for(let o=r;o>0;o--){let s=i[o-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let o=r;o<i.length;o++){let s=i[o];if(s.dom.parentNode==n)return s.domAtPos(0)}return new _n(n,0)}function w$(t,e,n){let i,{children:r}=t;n>0&&e instanceof Dr&&r.length&&(i=r[r.length-1])instanceof Dr&&i.mark.eq(e.mark)?w$(i,e.children[0],n-1):(r.push(e),e.setParent(t)),t.length+=e.length}function x$(t,e,n){let i=null,r=-1,o=null,s=-1;function a(c,u){for(let f=0,h=0;f<c.children.length&&h<=u;f++){let d=c.children[f],p=h+d.length;p>=u&&(d.children.length?a(d,u-h):!o&&(p>u||h==p&&d.getSide()>0)?(o=d,s=u-h):(h<u||h==p&&d.getSide()<0)&&(i=d,r=u-h)),h=p}}a(t,e);let l=(n<0?i:o)||i||o;return l?l.coordsAt(Math.max(0,l==i?r:s),n):Ese(t)}function Ese(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=fu(e);return n[n.length-1]||null}function eb(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function C_(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r of n)if(i.indexOf(r)==-1||t[r]!==e[r])return!1;return!0}function tb(t,e,n){let i=null;if(e)for(let r in e)n&&r in n||t.removeAttribute(i=r);if(n)for(let r in n)e&&e[r]==n[r]||t.setAttribute(i=r,n[r]);return!!i}class os{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var bt=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(bt||(bt={}));class Ne extends qs{constructor(e,n,i,r){super(),this.startSide=e,this.endSide=n,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new $g(e)}static widget(e){let n=e.side||0,i=!!e.block;return n+=i?n>0?3e8:-4e8:n>0?1e8:-1e8,new Ks(e,n,n,i,e.widget||null,!1)}static replace(e){let n=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:o,end:s}=S$(e,n);i=(o?n?-3e8:-1:5e8)-1,r=(s?n?2e8:1:-6e8)+1}return new Ks(e,i,r,n,e.widget||null,!0)}static line(e){return new Fu(e)}static set(e,n=!1){return pt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ne.none=pt.empty;class $g extends Ne{constructor(e){let{start:n,end:i}=S$(e);super(n?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof $g&&this.tagName==e.tagName&&this.class==e.class&&C_(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}$g.prototype.point=!1;class Fu extends Ne{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Fu&&this.spec.class==e.spec.class&&C_(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Fu.prototype.mapMode=zn.TrackBefore;Fu.prototype.point=!0;class Ks extends Ne{constructor(e,n,i,r,o,s){super(n,i,o,e),this.block=r,this.isReplace=s,this.mapMode=r?n<=0?zn.TrackBefore:zn.TrackAfter:zn.TrackDel}get type(){return this.startSide<this.endSide?bt.WidgetRange:this.startSide<=0?bt.WidgetBefore:bt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Ks&&Ise(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Ks.prototype.point=!0;function S$(t,e=!1){let{inclusiveStart:n,inclusiveEnd:i}=t;return n==null&&(n=t.inclusive),i==null&&(i=t.inclusive),{start:n??e,end:i??e}}function Ise(t,e){return t==e||!!(t&&e&&t.compare(e))}function nb(t,e,n,i=0){let r=n.length-1;r>=0&&n[r]+i>=t?n[r]=Math.max(n[r],e):n.push(t,e)}class Yn extends Et{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,i,r,o,s){if(i){if(!(i instanceof Yn))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),g$(this,e,n,i?i.children:[],o,s),!0}split(e){let n=new Yn;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i,off:r}=this.childPos(e);r&&(n.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let o=i;o<this.children.length;o++)n.append(this.children[o],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){C_(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){w$(this,e,n)}addLineDeco(e){let n=e.spec.attributes,i=e.spec.class;n&&(this.attrs=eb(n,this.attrs||{})),i&&(this.attrs=eb({class:i},this.attrs||{}))}domAtPos(e){return _$(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,n){var i;this.dom?this.dirty&4&&(h$(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(tb(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let r=this.dom.lastChild;for(;r&&Et.get(r)instanceof Dr;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=Et.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!Me.ios||!this.children.some(o=>o instanceof Ko))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let i of this.children){if(!(i instanceof Ko)||/[^ -~]/.test(i.text))return null;let r=fu(i.dom);if(r.length!=1)return null;e+=r[0].width,n=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let i=x$(this,e,n);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,o=i.bottom-i.top;if(Math.abs(o-r.lineHeight)<2&&r.textHeight<o){let s=(o-r.textHeight)/2;return{top:i.top+s,bottom:i.bottom-s,left:i.left,right:i.left}}}return i}become(e){return!1}get type(){return bt.Text}static find(e,n){for(let i=0,r=0;i<e.children.length;i++){let o=e.children[i],s=r+o.length;if(s>=n){if(o instanceof Yn)return o;if(s>n)break}r=s+o.breakAfter}return null}}class Ns extends Et{constructor(e,n,i){super(),this.widget=e,this.length=n,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,n,i,r,o,s){return i&&(!(i instanceof Ns)||!this.widget.compare(i.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?_n.before(this.dom):_n.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let i=new Ns(this.widget,n,this.type);return i.breakAfter=this.breakAfter,i}get children(){return k_}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ct.empty}domBoundsAround(){return null}become(e){return e instanceof Ns&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class O_{constructor(e,n,i,r){this.doc=e,this.pos=n,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Ns&&e.type==bt.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Yn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wf(new ml(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,n,i){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-i)),this.getLine().append(wf(new Ko(this.text.slice(this.textOff,this.textOff+r)),n),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,n,i,r){this.buildText(n-e,i,r),this.pos=n,this.openStart<0&&(this.openStart=r)}point(e,n,i,r,o,s){if(this.disallowBlockEffectsFor[s]&&i instanceof Ks){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(i instanceof Ks)if(i.block){let{type:l}=i;l==bt.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ns(i.widget||new QO("div"),a,l))}else{let l=Mo.create(i.widget||new QO("span"),a,a?0:i.startSide),c=this.atCursorPos&&!l.isEditable&&o<=r.length&&(e<n||i.startSide>0),u=!l.isEditable&&(e<n||o>r.length||i.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(f.append(wf(new ml(1),r),o),o=r.length+Math.max(0,o-r.length)),f.append(wf(l,r),o),this.atCursorPos=u,this.pendingBuffer=u?e<n||o>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,i,r,o){let s=new O_(e,n,i,o);return s.openEnd=pt.spans(r,n,i,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function wf(t,e){for(let n of e)t=new Dr(n,[t],t.length);return t}class QO extends os{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const k$=De.define(),C$=De.define(),O$=De.define(),M$=De.define(),ib=De.define(),A$=De.define(),P$=De.define(),T$=De.define({combine:t=>t.some(e=>e)}),D$=De.define({combine:t=>t.some(e=>e)});class yp{constructor(e,n="nearest",i="nearest",r=5,o=5){this.range=e,this.y=n,this.x=i,this.yMargin=r,this.xMargin=o}map(e){return e.empty?this:new yp(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const ZO=Ke.define({map:(t,e)=>t.map(e)});function vi(t,e,n){let i=t.facet(M$);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Rg=De.define({combine:t=>t.length?t[0]:!0});let Lse=0;const fc=De.define();class on{constructor(e,n,i,r){this.id=e,this.create=n,this.domEventHandlers=i,this.extension=r(this)}static define(e,n){const{eventHandlers:i,provide:r,decorations:o}=n||{};return new on(Lse++,e,i,s=>{let a=[fc.of(s)];return o&&a.push(du.of(l=>{let c=l.plugin(s);return c?o(c):Ne.none})),r&&a.push(r(s)),a})}static fromClass(e,n){return on.define(i=>new e(i),n)}}class oy{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(i){if(vi(n.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){vi(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(i){vi(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const $$=De.define(),M_=De.define(),du=De.define(),R$=De.define(),E$=De.define(),hc=De.define();class Or{constructor(e,n,i,r){this.fromA=e,this.toA=n,this.fromB=i,this.toB=r}join(e){return new Or(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,i=this;for(;n>0;n--){let r=e[n-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(n-1,1)}}return e.splice(n,0,i),e}static extendWithRanges(e,n){if(n.length==0)return e;let i=[];for(let r=0,o=0,s=0,a=0;;r++){let l=r==e.length?null:e[r],c=s-a,u=l?l.fromB:1e9;for(;o<n.length&&n[o]<u;){let f=n[o],h=n[o+1],d=Math.max(a,f),p=Math.min(u,h);if(d<=p&&new Or(d+c,p+c,d,p).addToSet(i),h>u)break;o+=2}if(!l)return i;new Or(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),s=l.toA,a=l.toB}}}class vp{constructor(e,n,i){this.view=e,this.state=n,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=an.empty(this.startState.doc.length);for(let o of i)this.changes=this.changes.compose(o.changes);let r=[];this.changes.iterChangedRanges((o,s,a,l)=>r.push(new Or(o,s,a,l))),this.changedRanges=r}static create(e,n,i){return new vp(e,n,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Vt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Vt||(Vt={}));const rb=Vt.LTR,Nse=Vt.RTL;function I$(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Bse=I$("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Fse=I$("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),ob=Object.create(null),ir=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);ob[e]=n,ob[n]=-e}function Hse(t){return t<=247?Bse[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Fse[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const Vse=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ha{constructor(e,n,i){this.from=e,this.to=n,this.level=i}get dir(){return this.level%2?Nse:rb}side(e,n){return this.dir==n==e?this.to:this.from}static find(e,n,i,r){let o=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=n&&a.to>=n){if(a.level==i)return s;(o<0||(r!=0?r<0?a.from<n:a.to>n:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}const Ft=[];function jse(t,e){let n=t.length,i=e==rb?1:2,r=e==rb?2:1;if(!t||i==1&&!Vse.test(t))return L$(n);for(let s=0,a=i,l=i;s<n;s++){let c=Hse(t.charCodeAt(s));c==512?c=a:c==8&&l==4&&(c=16),Ft[s]=c==4?2:c,c&7&&(l=c),a=c}for(let s=0,a=i,l=i;s<n;s++){let c=Ft[s];if(c==128)s<n-1&&a==Ft[s+1]&&a&24?c=Ft[s]=a:Ft[s]=256;else if(c==64){let u=s+1;for(;u<n&&Ft[u]==64;)u++;let f=s&&a==8||u<n&&Ft[u]==8?l==1?1:8:256;for(let h=s;h<u;h++)Ft[h]=f;s=u-1}else c==8&&l==1&&(Ft[s]=1);a=c,c&7&&(l=c)}for(let s=0,a=0,l=0,c,u,f;s<n;s++)if(u=ob[c=t.charCodeAt(s)])if(u<0){for(let h=a-3;h>=0;h-=3)if(ir[h+1]==-u){let d=ir[h+2],p=d&2?i:d&4?d&1?r:i:0;p&&(Ft[s]=Ft[ir[h]]=p),a=h;break}}else{if(ir.length==189)break;ir[a++]=s,ir[a++]=c,ir[a++]=l}else if((f=Ft[s])==2||f==1){let h=f==i;l=h?0:1;for(let d=a-3;d>=0;d-=3){let p=ir[d+2];if(p&2)break;if(h)ir[d+2]|=2;else{if(p&4)break;ir[d+2]|=4}}}for(let s=0;s<n;s++)if(Ft[s]==256){let a=s+1;for(;a<n&&Ft[a]==256;)a++;let l=(s?Ft[s-1]:i)==1,c=(a<n?Ft[a]:i)==1,u=l==c?l?1:2:i;for(let f=s;f<a;f++)Ft[f]=u;s=a-1}let o=[];if(i==1)for(let s=0;s<n;){let a=s,l=Ft[s++]!=1;for(;s<n&&l==(Ft[s]!=1);)s++;if(l)for(let c=s;c>a;){let u=c,f=Ft[--c]!=2;for(;c>a&&f==(Ft[c-1]!=2);)c--;o.push(new Ha(c,u,f?2:1))}else o.push(new Ha(a,s,0))}else for(let s=0;s<n;){let a=s,l=Ft[s++]==2;for(;s<n&&l==(Ft[s]==2);)s++;o.push(new Ha(a,s,l?1:2))}return o}function L$(t){return[new Ha(0,t,0)]}let N$="";function zse(t,e,n,i,r){var o;let s=i.head-t.from,a=-1;if(s==0){if(!r||!t.length)return null;e[0].level!=n&&(s=e[0].side(!1,n),a=0)}else if(s==t.length){if(r)return null;let h=e[e.length-1];h.level!=n&&(s=h.side(!0,n),a=e.length-1)}a<0&&(a=Ha.find(e,s,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc));let l=e[a];s==l.side(r,n)&&(l=e[a+=r?1:-1],s=l.side(!r,n));let c=r==(l.dir==n),u=Un(t.text,s,c);if(N$=t.text.slice(Math.min(s,u),Math.max(s,u)),u!=l.side(r,n))return ie.cursor(u+t.from,c?-1:1,l.level);let f=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return!f&&l.level!=n?ie.cursor(r?t.to:t.from,r?-1:1,n):f&&f.level<l.level?ie.cursor(f.side(!r,n)+t.from,r?1:-1,f.level):ie.cursor(u+t.from,r?-1:1,l.level)}const Ao="";class B${constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(it.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ao}readRange(e,n){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r),this.readNode(r);let o=r.nextSibling;if(o==n)break;let s=Et.get(r),a=Et.get(o);(s&&a?s.breakAfter:(s?s.breakAfter:eM(r))||eM(o)&&(r.nodeName!="BR"||r.cmIgnore))&&this.lineBreak(),r=o}return this.findPointBefore(i,n),this}readTextNode(e){let n=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,i),s=this.lineSeparator.length):(a=r.exec(n))&&(o=a.index,s=a[0].length),this.append(n.slice(i,o<0?n.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=s-1);i=o+s}}readNode(e){if(e.cmIgnore)return;let n=Et.get(e),i=n&&n.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==n&&(i.pos=this.text.length)}findPointInside(e,n){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(n,i.offset))}}function eM(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class tM{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class nM extends Et{constructor(e){super(),this.view=e,this.compositionDeco=Ne.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Yn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Or(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:s,toA:a})=>a<this.minWidthFrom||s>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Ne.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=Use(this.view,e.changes)),(Me.ie||Me.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,r=this.updateDeco(),o=Gse(i,r,e.changes);return n=Or.extendWithRanges(n,o),this.dirty==0&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Me.chrome||Me.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.dirty=0,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Ns&&o.widget instanceof iM&&r.push(o.dom);i.updateGaps(r)}updateChildren(e,n){let i=this.childCursor(n);for(let r=e.length-1;;r--){let o=r>=0?e[r]:null;if(!o)break;let{fromA:s,toA:a,fromB:l,toB:c}=o,{content:u,breakAtStart:f,openStart:h,openEnd:d}=O_.build(this.view.state.doc,l,c,this.decorations,this.dynamicDecorationMap),{i:p,off:g}=i.findPos(a,1),{i:y,off:m}=i.findPos(s,-1);p$(this,y,m,p,g,u,f,h,d)}}updateSelection(e=!1,n=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(n||this.mayControlSelection()))return;let i=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,o=this.domAtPos(r.anchor),s=r.empty?o:this.domAtPos(r.head);if(Me.gecko&&r.empty&&Wse(o)){let l=document.createTextNode("");this.view.observer.ignore(()=>o.node.insertBefore(l,o.node.childNodes[o.offset]||null)),o=s=new _n(l,0),i=!0}let a=this.view.observer.selectionRange;(i||!a.focusNode||!gp(o.node,o.offset,a.anchorNode,a.anchorOffset)||!gp(s.node,s.offset,a.focusNode,a.focusOffset))&&(this.view.observer.ignore(()=>{Me.android&&Me.chrome&&this.dom.contains(a.focusNode)&&Xse(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let l=pp(this.view.root);if(l)if(r.empty){if(Me.gecko){let c=qse(o.node,o.offset);if(c&&c!=3){let u=H$(o.node,o.offset,c==1?1:-1);u&&(o=new _n(u,c==1?0:u.nodeValue.length))}}l.collapse(o.node,o.offset),r.bidiLevel!=null&&a.cursorBidiLevel!=null&&(a.cursorBidiLevel=r.bidiLevel)}else if(l.extend){l.collapse(o.node,o.offset);try{l.extend(s.node,s.offset)}catch{}}else{let c=document.createRange();r.anchor>r.head&&([o,s]=[s,o]),c.setEnd(s.node,s.offset),c.setStart(o.node,o.offset),l.removeAllRanges(),l.addRange(c)}}),this.view.observer.setSelectionRange(o,s)),this.impreciseAnchor=o.precise?null:new _n(a.anchorNode,a.anchorOffset),this.impreciseHead=s.precise?null:new _n(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,n=e.state.selection.main,i=pp(e.root),{anchorNode:r,anchorOffset:o}=e.observer.selectionRange;if(!i||!n.empty||!n.assoc||!i.modify)return;let s=Yn.find(this,n.head);if(!s)return;let a=s.posAtStart;if(n.head==a||n.head==a+s.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);i.collapse(u.node,u.offset),i.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&i.collapse(r,o)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||Ih(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let n=e;n;){let i=Et.get(n);if(i&&i.rootView==this)return i;n=n.parentNode}return null}posFromDOM(e,n){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,n)+i.posAtStart}domAtPos(e){let{i:n,off:i}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let r=this.children[n];if(i<r.length||r instanceof Yn)break;n++,i=0}return this.children[n].domAtPos(i)}coordsAt(e,n){for(let i=this.length,r=this.children.length-1;;r--){let o=this.children[r],s=i-o.breakAfter-o.length;if(e>s||e==s&&o.type!=bt.WidgetBefore&&o.type!=bt.WidgetAfter&&(!r||n==2||this.children[r-1].breakAfter||this.children[r-1].type==bt.WidgetBefore&&n>-2))return o.coordsAt(e-s,n);i=s}}measureVisibleLineHeights(e){let n=[],{from:i,to:r}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Vt.LTR;for(let c=0,u=0;u<this.children.length;u++){let f=this.children[u],h=c+f.length;if(h>r)break;if(c>=i){let d=f.dom.getBoundingClientRect();if(n.push(d.height),s){let p=f.dom.lastChild,g=p?fu(p):[];if(g.length){let y=g[g.length-1],m=l?y.right-d.left:d.right-y.left;m>a&&(a=m,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=h)}}}c=h+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Vt.RTL:Vt.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Yn){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),n,i,r;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=fu(e.firstChild)[0];n=e.getBoundingClientRect().height,i=o?o.width/27:7,r=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:i,textHeight:r}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new d$(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let i=0,r=0;;r++){let o=r==n.viewports.length?null:n.viewports[r],s=o?o.from-1:this.length;if(s>i){let a=n.lineBlockAt(s).bottom-n.lineBlockAt(i).top;e.push(Ne.replace({widget:new iM(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!o)break;i=o.to+1}return Ne.set(e)}updateDeco(){let e=this.view.state.facet(du).map((n,i)=>(this.dynamicDecorationMap[i]=typeof n=="function")?n(this.view):n);for(let n=e.length;n<e.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:n}=e,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),r;if(!i)return;!n.empty&&(r=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let o=0,s=0,a=0,l=0;for(let u of this.view.state.facet(E$).map(f=>f(this.view)))if(u){let{left:f,right:h,top:d,bottom:p}=u;f!=null&&(o=Math.max(o,f)),h!=null&&(s=Math.max(s,h)),d!=null&&(a=Math.max(a,d)),p!=null&&(l=Math.max(l,p))}let c={left:i.left-o,top:i.top-a,right:i.right+s,bottom:i.bottom+l};Mse(this.view.scrollDOM,c,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Vt.LTR)}}function Wse(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class iM extends os{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function F$(t){let e=t.observer.selectionRange,n=e.focusNode&&H$(e.focusNode,e.focusOffset,0);if(!n)return null;let i=t.docView.nearest(n);if(!i)return null;if(i instanceof Yn){let r=n;for(;r.parentNode!=i.dom;)r=r.parentNode;let o=r.previousSibling;for(;o&&!Et.get(o);)o=o.previousSibling;let s=o?Et.get(o).posAtEnd:i.posAtStart;return{from:s,to:s,node:r,text:n}}else{for(;;){let{parent:o}=i;if(!o)return null;if(o instanceof Yn)break;i=o}let r=i.posAtStart;return{from:r,to:r+i.length,node:i.dom,text:n}}}function Use(t,e){let n=F$(t);if(!n)return Ne.none;let{from:i,to:r,node:o,text:s}=n,a=e.mapPos(i,1),l=Math.max(a,e.mapPos(r,-1)),{state:c}=t,u=o.nodeType==3?o.nodeValue:new B$([],c).readRange(o.firstChild,null).text;if(l-a<u.length)if(c.doc.sliceString(a,Math.min(c.doc.length,a+u.length),Ao)==u)l=a+u.length;else if(c.doc.sliceString(Math.max(0,l-u.length),l,Ao)==u)a=l-u.length;else return Ne.none;else if(c.doc.sliceString(a,l,Ao)!=u)return Ne.none;let f=Et.get(o);return f instanceof v$?f=f.widget.topView:f&&(f.parent=null),Ne.set(Ne.replace({widget:new Yse(o,s,f),inclusive:!0}).range(a,l))}class Yse extends os{constructor(e,n,i){super(),this.top=e,this.text=n,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return v$}}function H$(t,e,n){if(n<=0)for(let i=t,r=e;;){if(i.nodeType==3)return i;if(i.nodeType==1&&r>0)i=i.childNodes[r-1],r=hu(i);else break}if(n>=0)for(let i=t,r=e;;){if(i.nodeType==3)return i;if(i.nodeType==1&&r<i.childNodes.length&&n>=0)i=i.childNodes[r],r=0;else break}return null}function qse(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}class Kse{constructor(){this.changes=[]}compareRange(e,n){nb(e,n,this.changes)}comparePoint(e,n){nb(e,n,this.changes)}}function Gse(t,e,n){let i=new Kse;return pt.compare(t,e,n,i),i.changes}function Xse(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function Jse(t,e,n=1){let i=t.charCategorizer(e),r=t.doc.lineAt(e),o=e-r.from;if(r.length==0)return ie.cursor(e);o==0?n=1:o==r.length&&(n=-1);let s=o,a=o;n<0?s=Un(r.text,o,!1):a=Un(r.text,o);let l=i(r.text.slice(s,a));for(;s>0;){let c=Un(r.text,s,!1);if(i(r.text.slice(c,s))!=l)break;s=c}for(;a<r.length;){let c=Un(r.text,a);if(i(r.text.slice(a,c))!=l)break;a=c}return ie.range(s+r.from,a+r.from)}function Qse(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Zse(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function sy(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function rM(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function oM(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function sb(t,e,n){let i,r,o,s,a=!1,l,c,u,f;for(let p=t.firstChild;p;p=p.nextSibling){let g=fu(p);for(let y=0;y<g.length;y++){let m=g[y];r&&sy(r,m)&&(m=rM(oM(m,r.bottom),r.top));let b=Qse(e,m),_=Zse(n,m);if(b==0&&_==0)return p.nodeType==3?sM(p,e,n):sb(p,e,n);if(!i||s>_||s==_&&o>b){i=p,r=m,o=b,s=_;let w=_?n<m.top?-1:1:b?e<m.left?-1:1:0;a=!w||(w>0?y<g.length-1:y>0)}b==0?n>m.bottom&&(!u||u.bottom<m.bottom)?(l=p,u=m):n<m.top&&(!f||f.top>m.top)&&(c=p,f=m):u&&sy(u,m)?u=oM(u,m.bottom):f&&sy(f,m)&&(f=rM(f,m.top))}}if(u&&u.bottom>=n?(i=l,r=u):f&&f.top<=n&&(i=c,r=f),!i)return{node:t,offset:0};let h=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return sM(i,h,n);if(a&&i.contentEditable!="false")return sb(i,h,n);let d=Array.prototype.indexOf.call(t.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:t,offset:d}}function sM(t,e,n){let i=t.nodeValue.length,r=-1,o=1e9,s=0;for(let a=0;a<i;a++){let l=gl(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let f=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&f<o){let h=e>=(u.left+u.right)/2,d=h;if((Me.chrome||Me.gecko)&&gl(t,a).getBoundingClientRect().left==u.right&&(d=!h),f<=0)return{node:t,offset:a+(d?1:0)};r=a+(d?1:0),o=f}}}return{node:t,offset:r>-1?r:s>0?t.nodeValue.length:0}}function V$(t,e,n,i=-1){var r,o;let s=t.contentDOM.getBoundingClientRect(),a=s.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:u,y:f}=e,h=f-a;if(h<0)return 0;if(h>c)return t.state.doc.length;for(let w=t.defaultLineHeight/2,S=!1;l=t.elementAtHeight(h),l.type!=bt.Text;)for(;h=i>0?l.bottom+w:l.top-w,!(h>=0&&h<=c);){if(S)return n?null:0;S=!0,i=-i}f=a+h;let d=l.from;if(d<t.viewport.from)return t.viewport.from==0?0:n?null:aM(t,s,l,u,f);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:aM(t,s,l,u,f);let p=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:p,y=g.elementFromPoint(u,f);y&&!t.contentDOM.contains(y)&&(y=null),y||(u=Math.max(s.left+1,Math.min(s.right-1,u)),y=g.elementFromPoint(u,f),y&&!t.contentDOM.contains(y)&&(y=null));let m,b=-1;if(y&&((r=t.docView.nearest(y))===null||r===void 0?void 0:r.isEditable)!=!1){if(p.caretPositionFromPoint){let w=p.caretPositionFromPoint(u,f);w&&({offsetNode:m,offset:b}=w)}else if(p.caretRangeFromPoint){let w=p.caretRangeFromPoint(u,f);w&&({startContainer:m,startOffset:b}=w,(!t.contentDOM.contains(m)||Me.safari&&eae(m,b,u)||Me.chrome&&tae(m,b,u))&&(m=void 0))}}if(!m||!t.docView.dom.contains(m)){let w=Yn.find(t.docView,d);if(!w)return h>l.top+l.height/2?l.to:l.from;({node:m,offset:b}=sb(w.dom,u,f))}let _=t.docView.nearest(m);if(!_)return null;if(_.isWidget&&((o=_.dom)===null||o===void 0?void 0:o.nodeType)==1){let w=_.dom.getBoundingClientRect();return e.y<w.top||e.y<=w.bottom&&e.x<=(w.left+w.right)/2?_.posAtStart:_.posAtEnd}else return _.localPosFromDOM(m,b)+_.posAtStart}function aM(t,e,n,i,r){let o=Math.round((i-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=Math.floor((r-n.top)/t.defaultLineHeight);o+=a*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+Yv(s,o,t.state.tabSize)}function eae(t,e,n){let i;if(t.nodeType!=3||e!=(i=t.nodeValue.length))return!1;for(let r=t.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return gl(t,i-1,i).getBoundingClientRect().left>n}function tae(t,e,n){if(e!=0)return!1;for(let r=t;;){let o=r.parentNode;if(!o||o.nodeType!=1||o.firstChild!=r)return!1;if(o.classList.contains("cm-line"))break;r=o}let i=t.nodeType==1?t.getBoundingClientRect():gl(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-i.left>5}function nae(t,e,n,i){let r=t.state.doc.lineAt(e.head),o=!i||!t.lineWrapping?null:t.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(o){let l=t.dom.getBoundingClientRect(),c=t.textDirectionAt(r.from),u=t.posAtCoords({x:n==(c==Vt.LTR)?l.right-1:l.left+1,y:(o.top+o.bottom)/2});if(u!=null)return ie.cursor(u,n?-1:1)}let s=Yn.find(t.docView,e.head),a=s?n?s.posAtEnd:s.posAtStart:n?r.to:r.from;return ie.cursor(a,n?-1:1)}function lM(t,e,n,i){let r=t.state.doc.lineAt(e.head),o=t.bidiSpans(r),s=t.textDirectionAt(r.from);for(let a=e,l=null;;){let c=zse(r,o,s,a,n),u=N$;if(!c){if(r.number==(n?t.state.doc.lines:1))return a;u=`
`,r=t.state.doc.line(r.number+(n?1:-1)),o=t.bidiSpans(r),c=ie.cursor(n?r.from:r.to)}if(l){if(!l(u))return a}else{if(!i)return c;l=i(u)}a=c}}function iae(t,e,n){let i=t.state.charCategorizer(e),r=i(n);return o=>{let s=i(o);return r==Nt.Space&&(r=s),r==s}}function rae(t,e,n,i){let r=e.head,o=n?1:-1;if(r==(n?t.state.doc.length:0))return ie.cursor(r,e.assoc);let s=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(r),u=t.documentTop;if(c)s==null&&(s=c.left-l.left),a=o<0?c.top:c.bottom;else{let d=t.viewState.lineBlockAt(r);s==null&&(s=Math.min(l.right-l.left,t.defaultCharacterWidth*(r-d.from))),a=(o<0?d.top:d.bottom)+u}let f=l.left+s,h=i??t.defaultLineHeight>>1;for(let d=0;;d+=10){let p=a+(h+d)*o,g=V$(t,{x:f,y:p},!1,o);if(p<l.top||p>l.bottom||(o<0?g<r:g>r))return ie.cursor(g,e.assoc,void 0,s)}}function ay(t,e,n){let i=t.state.facet(R$).map(r=>r(t));for(;;){let r=!1;for(let o of i)o.between(n.from-1,n.from+1,(s,a,l)=>{n.from>s&&n.from<a&&(n=e.head>n.from?ie.cursor(s,1):ie.cursor(a,-1),r=!0)});if(!r)return n}}class oae{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let n=(i,r)=>{this.ignoreDuringComposition(r)||r.type=="keydown"&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(r.type,e,r)?r.preventDefault():i(e,r))};for(let i in hn){let r=hn[i];e.contentDOM.addEventListener(i,o=>{cM(e,o)&&n(r,o)},ab[i]),this.registeredEvents.push(i)}e.scrollDOM.addEventListener("mousedown",i=>{if(i.target==e.scrollDOM&&i.clientY>e.contentDOM.getBoundingClientRect().bottom&&(n(hn.mousedown,i),!i.defaultPrevented&&i.button==2)){let r=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=r,200)}}),Me.chrome&&Me.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,Me.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,n){var i;let r;this.customHandlers=[];for(let o of n)if(r=(i=o.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:r});for(let s in r)this.registeredEvents.indexOf(s)<0&&s!="scroll"&&(this.registeredEvents.push(s),e.contentDOM.addEventListener(s,a=>{cM(e,a)&&this.runCustomHandlers(s,e,a)&&a.preventDefault()}))}}runCustomHandlers(e,n,i){for(let r of this.customHandlers){let o=r.handlers[e];if(o)try{if(o.call(r.plugin,i,n)||i.defaultPrevented)return!0}catch(s){vi(n.state,s)}}return!1}runScrollHandlers(e,n){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,n,e)}catch(o){vi(e.state,o)}}}keydown(e,n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(Me.android&&Me.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return e.observer.delayAndroidKey(n.key,n.keyCode),!0;let i;return Me.ios&&!n.synthetic&&!n.altKey&&!n.metaKey&&((i=j$.find(r=>r.keyCode==n.keyCode))&&!n.ctrlKey||sae.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(this.pendingIOSKey=i||n,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let n=this.pendingIOSKey;return n?(this.pendingIOSKey=void 0,Fa(e.contentDOM,n.key,n.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Me.safari&&!Me.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const j$=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],sae="dthko",z$=[16,17,18,20,91,92,224,225];function xf(t){return t*.7+8}class aae{constructor(e,n,i,r){this.view=e,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=Ase(e.contentDOM);let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(it.allowMultipleSelections)&&lae(e,n),this.dragMove=cae(e,n),this.dragging=uae(e,n)&&q$(n)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let i=0,r=0,o=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=o.left?i=-xf(o.left-e.clientX):e.clientX>=o.right&&(i=xf(e.clientX-o.right)),e.clientY<=o.top?r=-xf(o.top-e.clientY):e.clientY>=o.bottom&&(r=xf(e.clientY-o.bottom)),this.setScrollSpeed(i,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(e){let n=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!n.eq(this.view.state.selection)||n.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function lae(t,e){let n=t.state.facet(k$);return n.length?n[0](e):Me.mac?e.metaKey:e.ctrlKey}function cae(t,e){let n=t.state.facet(C$);return n.length?n[0](e):Me.mac?!e.altKey:!e.ctrlKey}function uae(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let i=pp(t.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let s=r[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function cM(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,i;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(i=Et.get(n))&&i.ignoreEvent(e))return!1;return!0}const hn=Object.create(null),ab=Object.create(null),W$=Me.ie&&Me.ie_version<15||Me.ios&&Me.webkit_version<604;function fae(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),U$(t,n.value)},50)}function U$(t,e){let{state:n}=t,i,r=1,o=n.toText(e),s=o.lines==n.selection.ranges.length;if(lb!=null&&n.selection.ranges.every(l=>l.empty)&&lb==o.toString()){let l=-1;i=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let f=n.toText((s?o.line(r++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:f},range:ie.cursor(c.from+f.length)}})}else s?i=n.changeByRange(l=>{let c=o.line(r++);return{changes:{from:l.from,to:l.to,insert:c.text},range:ie.cursor(l.from+c.length)}}):i=n.replaceSelection(o);t.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}hn.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),e.keyCode==27?t.inputState.lastEscPress=Date.now():z$.indexOf(e.keyCode)<0&&(t.inputState.lastEscPress=0)};hn.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};hn.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};ab.touchstart=ab.touchmove={passive:!0};hn.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return;let n=null;for(let i of t.state.facet(O$))if(n=i(t,e),n)break;if(!n&&e.button==0&&(n=pae(t,e)),n){let i=t.root.activeElement!=t.contentDOM;t.inputState.startMouseSelection(new aae(t,e,n,i)),i&&t.observer.ignore(()=>f$(t.contentDOM)),t.inputState.mouseSelection&&t.inputState.mouseSelection.start(e)}};function uM(t,e,n,i){if(i==1)return ie.cursor(e,n);if(i==2)return Jse(t.state,e,n);{let r=Yn.find(t.docView,e),o=t.state.doc.lineAt(r?r.posAtEnd:e),s=r?r.posAtStart:o.from,a=r?r.posAtEnd:o.to;return a<t.state.doc.length&&a==o.to&&a++,ie.range(s,a)}}let Y$=(t,e)=>t>=e.top&&t<=e.bottom,fM=(t,e,n)=>Y$(e,n)&&t>=n.left&&t<=n.right;function hae(t,e,n,i){let r=Yn.find(t.docView,e);if(!r)return 1;let o=e-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&fM(n,i,s))return-1;let a=r.coordsAt(o,1);return a&&fM(n,i,a)?1:s&&Y$(i,s)?-1:1}function hM(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:hae(t,n,e.clientX,e.clientY)}}const dae=Me.ie&&Me.ie_version<=11;let dM=null,pM=0,gM=0;function q$(t){if(!dae)return t.detail;let e=dM,n=gM;return dM=t,gM=Date.now(),pM=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(pM+1)%3:1}function pae(t,e){let n=hM(t,e),i=q$(e),r=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),r=r.map(o.changes))},get(o,s,a){let l=hM(t,o),c=uM(t,l.pos,l.bias,i);if(n.pos!=l.pos&&!s){let u=uM(t,n.pos,n.bias,i),f=Math.min(u.from,c.from),h=Math.max(u.to,c.to);c=f<c.from?ie.range(f,h):ie.range(h,f)}return s?r.replaceRange(r.main.extend(c.from,c.to)):a&&r.ranges.length>1&&r.ranges.some(u=>u.eq(c))?gae(r,c):a?r.addRange(c):ie.create([c])}}}function gae(t,e){for(let n=0;;n++)if(t.ranges[n].eq(e))return ie.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}hn.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:i}=t.inputState;i&&(i.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")};function mM(t,e,n,i){if(!n)return;let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:o}=t.inputState,s=i&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,a={from:r,insert:n},l=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"})}hn.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let i=Array(n.length),r=0,o=()=>{++r==n.length&&mM(t,e,i.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[s]=a.result),o()},a.readAsText(n[s])}}else mM(t,e,e.dataTransfer.getData("Text"),!0)};hn.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let n=W$?null:e.clipboardData;n?(U$(t,n.getData("text/plain")||n.getData("text/uri-text")),e.preventDefault()):fae(t)};function mae(t,e){let n=t.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),t.focus()},50)}function yae(t){let e=[],n=[],i=!1;for(let r of t.selection.ranges)r.empty||(e.push(t.sliceDoc(r.from,r.to)),n.push(r));if(!e.length){let r=-1;for(let{from:o}of t.selection.ranges){let s=t.doc.lineAt(o);s.number>r&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),r=s.number}i=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:i}}let lb=null;hn.copy=hn.cut=(t,e)=>{let{text:n,ranges:i,linewise:r}=yae(t.state);if(!n&&!r)return;lb=r?n:null;let o=W$?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",n)):mae(t,n),e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};const K$=ao.define();function G$(t,e){let n=[];for(let i of t.facet(P$)){let r=i(t,e);r&&n.push(r)}return n?t.update({effects:n,annotations:K$.of(!0)}):null}function X$(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=G$(t.state,e);n?t.dispatch(n):t.update([])}},10)}hn.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),X$(t)};hn.blur=t=>{t.observer.clearSelectionRange(),X$(t)};hn.compositionstart=hn.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};hn.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,Me.chrome&&Me.android&&t.observer.flushSoon(),setTimeout(()=>{t.inputState.composing<0&&t.docView.compositionDeco.size&&t.update([])},50)};hn.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};hn.beforeinput=(t,e)=>{var n;let i;if(Me.chrome&&Me.android&&(i=j$.find(r=>r.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const yM=["pre-wrap","normal","pre-line","break-spaces"];class vae{constructor(e){this.lineWrapping=e,this.doc=ct.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let i=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((n-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return yM.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(n=!0,this.heightSamples[Math.floor(r*10)]=!0)}return n}refresh(e,n,i,r,o,s){let a=yM.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=i,this.textHeight=r,this.lineLength=o,l){this.heightSamples={};for(let c=0;c<s.length;c++){let u=s[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class bae{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Yr{constructor(e,n,i,r,o){this.from=e,this.length=n,this.top=i,this.height=r,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let n=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Yr(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Tt=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Tt||(Tt={}));const Lh=.001;class Kn{constructor(e,n,i=2){this.length=e,this.height=n,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>Lh&&(e.heightChanged=!0),this.height=n)}replace(e,n,i){return Kn.of(i)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,i,r){let o=this,s=i.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:f}=r[a],h=o.lineAt(l,Tt.ByPosNoHeight,i.setDoc(n),0,0),d=h.to>=c?h:o.lineAt(c,Tt.ByPosNoHeight,i,0,0);for(f+=d.to-c,c=d.to;a>0&&h.from<=r[a-1].toA;)l=r[a-1].fromA,u=r[a-1].fromB,a--,l<h.from&&(h=o.lineAt(l,Tt.ByPosNoHeight,i,0,0));u+=h.from-l,l=h.from;let p=A_.build(i.setDoc(s),e,u,f);o=o.replace(l,c,p)}return o.updateHeight(i,0)}static empty(){return new li(0,0)}static of(e){if(e.length==1)return e[0];let n=0,i=e.length,r=0,o=0;for(;;)if(n==i)if(r>o*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),i+=1+a.break,r-=a.size}else if(o>r*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,o-=a.size}else break;else if(r<o){let a=e[n++];a&&(r+=a.size)}else{let a=e[--i];a&&(o+=a.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,i++),new _ae(Kn.of(e.slice(0,n)),s,Kn.of(e.slice(i)))}}Kn.prototype.size=1;class J$ extends Kn{constructor(e,n,i){super(e,n),this.type=i}blockAt(e,n,i,r){return new Yr(r,this.length,i,this.height,this.type)}lineAt(e,n,i,r,o){return this.blockAt(0,i,r,o)}forEachLine(e,n,i,r,o,s){e<=o+this.length&&n>=o&&s(this.blockAt(0,i,r,o))}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class li extends J${constructor(e,n){super(e,n,bt.Text),this.collapsed=0,this.widgetHeight=0}replace(e,n,i){let r=i[0];return i.length==1&&(r instanceof li||r instanceof mn&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof mn?r=new li(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Kn.of(i)}updateHeight(e,n=0,i=!1,r){return r&&r.from<=n&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class mn extends Kn{constructor(e){super(e,0)}heightMetrics(e,n){let i=e.doc.lineAt(n).number,r=e.doc.lineAt(n+this.length).number,o=r-i+1,s,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);s=l/o,a=(this.height-l)/(this.length-o-1)}else s=this.height/o;return{firstLine:i,lastLine:r,perLine:s,perChar:a}}blockAt(e,n,i,r){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(n,r);if(n.lineWrapping){let c=r+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),u=n.doc.lineAt(c),f=a+u.length*l,h=Math.max(i,e-f/2);return new Yr(u.from,u.length,h,f,bt.Text)}else{let c=Math.max(0,Math.min(s-o,Math.floor((e-i)/a))),{from:u,length:f}=n.doc.line(o+c);return new Yr(u,f,i+a*c,a,bt.Text)}}lineAt(e,n,i,r,o){if(n==Tt.ByHeight)return this.blockAt(e,i,r,o);if(n==Tt.ByPosNoHeight){let{from:d,to:p}=i.doc.lineAt(e);return new Yr(d,p-d,0,0,bt.Text)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(i,o),c=i.doc.lineAt(e),u=a+c.length*l,f=c.number-s,h=r+a*f+l*(c.from-o-f);return new Yr(c.from,c.length,Math.max(r,Math.min(h,r+this.height-u)),u,bt.Text)}forEachLine(e,n,i,r,o,s){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(i,o);for(let u=e,f=r;u<=n;){let h=i.doc.lineAt(u);if(u==e){let p=h.number-a;f+=l*p+c*(e-o-p)}let d=l+c*h.length;s(new Yr(h.from,h.length,f,d,bt.Text)),f+=d,u=h.to+1}}replace(e,n,i){let r=this.length-n;if(r>0){let o=i[i.length-1];o instanceof mn?i[i.length-1]=new mn(o.length+r):i.push(null,new mn(r-1))}if(e>0){let o=i[0];o instanceof mn?i[0]=new mn(e+o.length):i.unshift(new mn(e-1),null)}return Kn.of(i)}decomposeLeft(e,n){n.push(new mn(e-1),null)}decomposeRight(e,n){n.push(null,new mn(this.length-e-1))}updateHeight(e,n=0,i=!1,r){let o=n+this.length;if(r&&r.from<=n+this.length&&r.more){let s=[],a=Math.max(n,r.from),l=-1;for(r.from>n&&s.push(new mn(r.from-n-1).updateHeight(e,n));a<=o&&r.more;){let u=e.doc.lineAt(a).length;s.length&&s.push(null);let f=r.heights[r.index++];l==-1?l=f:Math.abs(f-l)>=Lh&&(l=-2);let h=new li(u,f);h.outdated=!1,s.push(h),a+=u+1}a<=o&&s.push(null,new mn(o-a).updateHeight(e,a));let c=Kn.of(s);return(l<0||Math.abs(c.height-this.height)>=Lh||Math.abs(l-this.heightMetrics(e,n).perLine)>=Lh)&&(e.heightChanged=!0),c}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class _ae extends Kn{constructor(e,n,i){super(e.length+n+i.length,e.height+i.height,n|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,n,i,r){let o=i+this.left.height;return e<o?this.left.blockAt(e,n,i,r):this.right.blockAt(e,n,o,r+this.left.length+this.break)}lineAt(e,n,i,r,o){let s=r+this.left.height,a=o+this.left.length+this.break,l=n==Tt.ByHeight?e<s:e<a,c=l?this.left.lineAt(e,n,i,r,o):this.right.lineAt(e,n,i,s,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=n==Tt.ByPosNoHeight?Tt.ByPosNoHeight:Tt.ByPos;return l?c.join(this.right.lineAt(a,u,i,s,a)):this.left.lineAt(a,u,i,r,o).join(c)}forEachLine(e,n,i,r,o,s){let a=r+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,i,r,o,s),n>=l&&this.right.forEachLine(e,n,i,a,l,s);else{let c=this.lineAt(l,Tt.ByPos,i,r,o);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,o,s),c.to>=e&&c.from<=n&&s(c),n>c.to&&this.right.forEachLine(c.to+1,n,i,a,l,s)}}replace(e,n,i){let r=this.left.length+this.break;if(n<r)return this.balanced(this.left.replace(e,n,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,n-r,i));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let a of i)o.push(a);if(e>0&&vM(o,s-1),n<this.length){let a=o.length;this.decomposeRight(n,o),vM(o,a)}return Kn.of(o)}decomposeLeft(e,n){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(i++,e>=i&&n.push(null)),e>i&&this.right.decomposeLeft(e-i,n)}decomposeRight(e,n){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,n);e<i&&this.left.decomposeRight(e,n),this.break&&e<r&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Kn.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,i=!1,r){let{left:o,right:s}=this,a=n+o.length+this.break,l=null;return r&&r.from<=n+o.length&&r.more?l=o=o.updateHeight(e,n,i,r):o.updateHeight(e,n,i),r&&r.from<=a+s.length&&r.more?l=s=s.updateHeight(e,a,i,r):s.updateHeight(e,a,i),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function vM(t,e){let n,i;t[e]==null&&(n=t[e-1])instanceof mn&&(i=t[e+1])instanceof mn&&t.splice(e-1,3,new mn(n.length+1+i.length))}const wae=5;class A_{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let i=Math.min(n,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof li?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new li(i-this.pos,-1)),this.writtenTo=i,n>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,i){if(e<n||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let o=n-e;i.block?this.addBlock(new J$(o,r,i.type)):(o||r>=wae)&&this.addLineDeco(r,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new li(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let i=new mn(n-e);return this.oracle.doc.lineAt(e).to==n&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof li)return e;let n=new li(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine(),e.type==bt.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=bt.WidgetBefore&&(this.covering=e)}addLineDeco(e,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+n}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof li)&&!this.isCovered?this.nodes.push(new li(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof li&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,n,i,r){let o=new A_(i,e);return pt.spans(n,i,r,o,0),o.finish(i)}}function xae(t,e,n){let i=new Sae;return pt.compare(t,e,n,i,0),i.changes}class Sae{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,i,r){(e<n||i&&i.heightRelevant||r&&r.heightRelevant)&&nb(e,n,this.changes,5)}}function kae(t,e){let n=t.getBoundingClientRect(),i=t.ownerDocument,r=i.defaultView||window,o=Math.max(0,n.left),s=Math.min(r.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(r.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=i.body;)if(c.nodeType==1){let u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&f.overflow!="visible"){let h=u.getBoundingClientRect();o=Math.max(o,h.left),s=Math.min(s,h.right),a=Math.max(a,h.top),l=c==t.parentNode?h.bottom:Math.min(l,h.bottom)}c=f.position=="absolute"||f.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function Cae(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class ly{constructor(e,n,i){this.from=e,this.to=n,this.size=i}static same(e,n){if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e){return Ne.replace({widget:new Oae(this.size,e)}).range(this.from,this.to)}}class Oae extends os{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class bM{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=_M,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Vt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(M_).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new vae(n),this.stateDeco=e.facet(du).filter(i=>typeof i!="function"),this.heightMap=Kn.empty().applyChanges(this.stateDeco,ct.empty,this.heightOracle.setDoc(e.doc),[new Or(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ne.set(this.lineGaps.map(i=>i.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let i=0;i<=1;i++){let r=i?n.head:n.anchor;if(!e.some(({from:o,to:s})=>r>=o&&r<=s)){let{from:o,to:s}=this.lineBlockAt(r);e.push(new Sf(o,s))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?_M:new Pae(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:dc(e,this.scaler))})}update(e,n=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(du).filter(c=>typeof c!="function");let r=e.changedRanges,o=Or.extendWithRanges(r,xae(i,this.stateDeco,e?e.changes:an.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2);let a=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<a.from||n.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,n));let l=!e.changes.empty||e.flags&2||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(D$)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,i=window.getComputedStyle(n),r=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Vt.RTL:Vt.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=n.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0,f=parseInt(i.paddingTop)||0,h=parseInt(i.paddingBottom)||0;(this.paddingTop!=f||this.paddingBottom!=h)&&(this.paddingTop=f,this.paddingBottom=h,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let d=(this.printing?Cae:kae)(n,this.paddingTop),p=d.top-this.pixelViewport.top,g=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let y=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(y!=this.inView&&(this.inView=y,y&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let m=a.width;if((this.contentDOMWidth!=m||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let _=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(_)&&(s=!0),s||r.lineWrapping&&Math.abs(m-this.contentDOMWidth)>r.charWidth){let{lineHeight:w,charWidth:S,textHeight:A}=e.docView.measureTextSize();s=w>0&&r.refresh(o,w,S,A,m/S,_),s&&(e.docView.minWidth=0,c|=8)}p>0&&g>0?u=Math.max(p,g):p<0&&g<0&&(u=Math.min(p,g)),r.heightChanged=!1;for(let w of this.viewports){let S=w.from==this.viewport.from?_:e.docView.measureVisibleLineHeights(w);this.heightMap=(s?Kn.empty().applyChanges(this.stateDeco,ct.empty,this.heightOracle,[new Or(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,s,new bae(w.from,S))}r.heightChanged&&(c|=2)}let b=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(c&2||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new Sf(r.lineAt(s-i*1e3,Tt.ByHeight,o,0,0).from,r.lineAt(a+(1-i)*1e3,Tt.ByHeight,o,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=r.lineAt(c,Tt.ByPos,o,0,0),h;n.y=="center"?h=(f.top+f.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?h=f.top:h=f.bottom-u,l=new Sf(r.lineAt(h-1e3/2,Tt.ByHeight,o,0,0).from,r.lineAt(h+u+1e3/2,Tt.ByHeight,o,0,0).to)}}return l}mapViewport(e,n){let i=n.mapPos(e.from,-1),r=n.mapPos(e.to,1);return new Sf(this.heightMap.lineAt(i,Tt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Tt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Tt.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,Tt.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||r<=s-Math.max(10,Math.min(-i,250)))&&(n==this.state.doc.length||o>=a+Math.max(10,Math.min(i,250)))&&r>s-2*1e3&&o<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let i=[];for(let r of e)n.touchesRange(r.from,r.to)||i.push(new ly(n.mapPos(r.from),n.mapPos(r.to),r.size));return i}ensureLineGaps(e,n){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,o=r>>1,s=r<<1;if(this.defaultTextDirection!=Vt.LTR&&!i)return[];let a=[],l=(c,u,f,h)=>{if(u-c<o)return;let d=this.state.selection.main,p=[d.from];d.empty||p.push(d.to);for(let y of p)if(y>c&&y<u){l(c,y-10,f,h),l(y+10,u,f,h);return}let g=Aae(e,y=>y.from>=f.from&&y.to<=f.to&&Math.abs(y.from-c)<o&&Math.abs(y.to-u)<o&&!p.some(m=>y.from<m&&y.to>m));if(!g){if(u<f.to&&n&&i&&n.visibleRanges.some(y=>y.from<=u&&y.to>=u)){let y=n.moveToLineBoundary(ie.cursor(u),!1,!0).head;y>c&&(u=y)}g=new ly(c,u,this.gapSize(f,c,u,h))}a.push(g)};for(let c of this.viewportLines){if(c.length<s)continue;let u=Mae(c.from,c.to,this.stateDeco);if(u.total<s)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,h,d;if(i){let p=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,y;if(f!=null){let m=Cf(u,f),b=((this.visibleBottom-this.visibleTop)/2+p)/c.height;g=m-b,y=m+b}else g=(this.visibleTop-c.top-p)/c.height,y=(this.visibleBottom-c.top+p)/c.height;h=kf(u,g),d=kf(u,y)}else{let p=u.total*this.heightOracle.charWidth,g=r*this.heightOracle.charWidth,y,m;if(f!=null){let b=Cf(u,f),_=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/p;y=b-_,m=b+_}else y=(this.pixelViewport.left-g)/p,m=(this.pixelViewport.right+g)/p;h=kf(u,y),d=kf(u,m)}h>c.from&&l(c.from,h,c,u),d<c.to&&l(d,c.to,c,u)}return a}gapSize(e,n,i,r){let o=Cf(r,i)-Cf(r,n);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){ly.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ne.set(e.map(n=>n.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];pt.spans(e,this.viewport.from,this.viewport.to,{span(r,o){n.push({from:r,to:o})},point(){}},20);let i=n.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=n[o].from||r.to!=n[o].to);return this.visibleRanges=n,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||dc(this.heightMap.lineAt(e,Tt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return dc(this.heightMap.lineAt(this.scaler.fromDOM(e),Tt.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return dc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Sf{constructor(e,n){this.from=e,this.to=n}}function Mae(t,e,n){let i=[],r=t,o=0;return pt.spans(n,t,e,{span(){},point(s,a){s>r&&(i.push({from:r,to:s}),o+=s-r),r=a}},20),r<e&&(i.push({from:r,to:e}),o+=e-r),{total:o,ranges:i}}function kf({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let i=Math.floor(t*n);for(let r=0;;r++){let{from:o,to:s}=e[r],a=s-o;if(i<=a)return o+i;i-=a}}function Cf(t,e){let n=0;for(let{from:i,to:r}of t.ranges){if(e<=r){n+=e-i;break}n+=r-i}return n/t.total}function Aae(t,e){for(let n of t)if(e(n))return n}const _M={toDOM(t){return t},fromDOM(t){return t},scale:1};class Pae{constructor(e,n,i){let r=0,o=0,s=0;this.viewports=i.map(({from:a,to:l})=>{let c=n.lineAt(a,Tt.ByPos,e,0,0).top,u=n.lineAt(l,Tt.ByPos,e,0,0).bottom;return r+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(n.height-r);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let n=0,i=0,r=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return r+(e-i)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);i=o.bottom,r=o.domBottom}}fromDOM(e){for(let n=0,i=0,r=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return i+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);i=o.bottom,r=o.domBottom}}}function dc(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),i=e.toDOM(t.bottom);return new Yr(t.from,t.length,n,i-n,Array.isArray(t.type)?t.type.map(r=>dc(r,e)):t.type)}const Of=De.define({combine:t=>t.join(" ")}),cb=De.define({combine:t=>t.indexOf(!0)>-1}),ub=Yo.newName(),Q$=Yo.newName(),Z$=Yo.newName(),eR={"&light":"."+Q$,"&dark":"."+Z$};function fb(t,e,n){return new Yo(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return t;if(!n||!n[r])throw new RangeError(`Unsupported selector: ${r}`);return n[r]}):t+" "+i}})}const Tae=fb("."+ub,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},eR);class Dae{constructor(e,n,i,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,i,0))){let a=o||s?[]:Rae(e),l=new B$(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Eae(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!pl(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!pl(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset);this.newSel=ie.single(c,l)}}}function tR(t,e){let n,{newSel:i}=e,r=t.state.selection.main;if(e.bounds){let{from:o,to:s}=e.bounds,a=r.from,l=null;(t.inputState.lastKeyCode===8&&t.inputState.lastKeyTime>Date.now()-100||Me.android&&e.text.length<s-o)&&(a=r.to,l="end");let c=$ae(t.state.doc.sliceString(o,s,Ao),e.text,a-o,l);c&&(Me.chrome&&t.inputState.lastKeyCode==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Ao+Ao&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:ct.of(e.text.slice(c.from,c.toB).split(Ao))})}else i&&(!t.hasFocus&&t.state.facet(Rg)||i.main.eq(r))&&(i=null);if(!n&&!i)return!1;if(!n&&e.typeOver&&!r.empty&&i&&i.main.empty?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,r.to)}:n&&n.from>=r.from&&n.to<=r.to&&(n.from!=r.from||n.to!=r.to)&&r.to-r.from-(n.to-n.from)<=4?n={from:r.from,to:r.to,insert:t.state.doc.slice(r.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,r.to))}:(Me.mac||Me.android)&&n&&n.from==n.to&&n.from==r.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(i&&n.insert.length==2&&(i=ie.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:ct.of([" "])}):Me.chrome&&n&&n.from==n.to&&n.from==r.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(i&&(i=ie.single(i.main.anchor-1,i.main.head-1)),n={from:r.from,to:r.to,insert:ct.of([" "])}),n){let o=t.state;if(Me.ios&&t.inputState.flushIOSKey(t)||Me.android&&(n.from==r.from&&n.to==r.to&&n.insert.length==1&&n.insert.lines==2&&Fa(t.contentDOM,"Enter",13)||n.from==r.from-1&&n.to==r.to&&n.insert.length==0&&Fa(t.contentDOM,"Backspace",8)||n.from==r.from&&n.to==r.to+1&&n.insert.length==0&&Fa(t.contentDOM,"Delete",46)))return!0;let s=n.insert.toString();if(t.state.facet(A$).some(c=>c(t,n.from,n.to,s)))return!0;t.inputState.composing>=0&&t.inputState.composing++;let a;if(n.from>=r.from&&n.to<=r.to&&n.to-n.from>=(r.to-r.from)/3&&(!i||i.main.empty&&i.main.from==n.from+n.insert.length)&&t.inputState.composing<0){let c=r.from<n.from?o.sliceDoc(r.from,n.from):"",u=r.to>n.to?o.sliceDoc(n.to,r.to):"";a=o.replaceSelection(t.state.toText(c+n.insert.sliceString(0,void 0,t.state.lineBreak)+u))}else{let c=o.changes(n),u=i&&!o.selection.main.eq(i.main)&&i.main.to<=c.newLength?i.main:void 0;if(o.selection.ranges.length>1&&t.inputState.composing>=0&&n.to<=r.to&&n.to>=r.to-10){let f=t.state.sliceDoc(n.from,n.to),h=F$(t)||t.state.doc.lineAt(r.head),d=r.to-n.to,p=r.to-r.from;a=o.changeByRange(g=>{if(g.from==r.from&&g.to==r.to)return{changes:c,range:u||g.map(c)};let y=g.to-d,m=y-f.length;if(g.to-g.from!=p||t.state.sliceDoc(m,y)!=f||h&&g.to>=h.from&&g.from<=h.to)return{range:g};let b=o.changes({from:m,to:y,insert:n.insert}),_=g.to-r.to;return{changes:b,range:u?ie.range(Math.max(0,u.anchor+_),Math.max(0,u.head+_)):g.map(b)}})}else a={changes:c,selection:u&&o.selection.replaceRange(u)}}let l="input.type";return t.composing&&(l+=".compose",t.inputState.compositionFirstChange&&(l+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(a,{scrollIntoView:!0,userEvent:l}),!0}else if(i&&!i.main.eq(r)){let o=!1,s="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),s=t.inputState.lastSelectionOrigin),t.dispatch({selection:i,scrollIntoView:o,userEvent:s}),!0}else return!1}function $ae(t,e,n,i){let r=Math.min(t.length,e.length),o=0;for(;o<r&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==r&&t.length==e.length)return null;let s=t.length,a=e.length;for(;s>0&&a>0&&t.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(i=="end"){let l=Math.max(0,o-Math.min(s,a));n-=s+l-o}if(s<o&&t.length<e.length){let l=n<=o&&n>=s?o-n:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=n<=o&&n>=a?o-n:0;o-=l,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function Rae(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new tM(n,i)),(r!=n||o!=i)&&e.push(new tM(r,o))),e}function Eae(t,e){if(t.length==0)return null;let n=t[0].pos,i=t.length==2?t[1].pos:n;return n>-1&&i>-1?ie.single(n+e,i+e):null}const Iae={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},cy=Me.ie&&Me.ie_version<=11;class Lae{constructor(e){this.view=e,this.active=!1,this.selectionRange=new Pse,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let i of n)this.queue.push(i);(Me.ie&&Me.ie_version<=11||Me.ios&&e.composing)&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),cy&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,i)=>n!=e[i]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(Rg)?i.root.activeElement!=this.dom:!Ih(i.dom,r))return;let o=r.anchorNode&&i.docView.nearest(r.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Me.ie&&Me.ie_version<=11||Me.android&&Me.chrome)&&!i.state.selection.main.empty&&r.focusNode&&gp(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Me.safari&&e.root.nodeType==11&&Cse(this.dom.ownerDocument)==this.dom&&Nae(this.view)||pp(e.root);if(!n||this.selectionRange.eq(n))return!1;let i=Ih(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Dse(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let i=this.dom;i;)if(i.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=n)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Iae),cy&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),cy&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var i;if(!this.delayedAndroidKey){let r=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),!this.flush()&&o.force&&Fa(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let o of this.observer.takeRecords())e.push(o);e.length&&(this.queue=[]);let n=-1,i=-1,r=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(r=!0),n==-1?{from:n,to:i}=s:(n=Math.min(s.from,n),i=Math.max(s.to,i)))}return{from:n,to:i,typeOver:r}}readChange(){let{from:e,to:n,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Ih(this.dom,this.selectionRange);return e<0&&!r?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new Dae(this.view,e,n,i))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return!1;let i=this.view.state,r=tR(this.view,n);return this.view.state==i&&this.view.update([]),r}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.dirty|=4),e.type=="childList"){let i=wM(n,e.previousSibling||e.target.previousSibling,-1),r=wM(n,e.nextSibling||e.target.nextSibling,1);return{from:i?n.posAfter(i):n.posAtStart,to:r?n.posBefore(r):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,i,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect(),(r=this.resizeContent)===null||r===void 0||r.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function wM(t,e,n){for(;e;){let i=Et.get(e);if(i&&i.parent==t)return i;let r=e.parentNode;e=r!=t.dom?r:n>0?e.nextSibling:e.previousSibling}return null}function Nae(t){let e=null;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let i=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor);return gp(a.node,a.offset,o,s)&&([i,r,o,s]=[o,s,i,r]),{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s}}class Pe{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(n=>this.update([n])),this.dispatch=this.dispatch.bind(this),this._root=e.root||Tse(e.parent)||document,this.viewState=new bM(e.state||it.create(e)),this.plugins=this.state.facet(fc).map(n=>new oy(n));for(let n of this.plugins)n.update(this);this.observer=new Lae(this),this.inputState=new oae(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new nM(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof un?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,i=!1,r,o=this.state;for(let h of e){if(h.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=h.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,l=null;e.some(h=>h.annotation(K$))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=G$(o,s),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(it.phrases)!=this.state.facet(it.phrases))return this.setState(o);r=vp.create(this,o,e),r.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(f&&(f=f.map(h.changes)),h.scrollIntoView){let{main:d}=h.state.selection;f=new yp(d.empty?d:ie.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of h.effects)d.is(ZO)&&(f=d.value)}this.viewState.update(r,f),this.bidiCache=bp.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),n=this.docView.update(r),this.state.facet(hc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Of)!=r.state.facet(Of)&&(this.viewState.mustMeasureContent=!0),(n||i||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let h of this.state.facet(ib))h(r);(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!tR(this,u)&&c.force&&Fa(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new bM(e),this.plugins=e.facet(fc).map(i=>new oy(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new nM(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(fc),i=e.state.facet(fc);if(n!=i){let r=[];for(let o of i){let s=n.indexOf(o);if(s<0)r.push(new oy(o));else{let a=this.plugins[s];a.mustUpdate=e,r.push(a)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,{scrollHeight:i,scrollTop:r,clientHeight:o}=this.scrollDOM,s=r>i-o-4?i:r;try{for(let a=0;;a++){this.updateState=1;let l=this.viewport,c=this.viewState.lineBlockAtHeight(s),u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];u&4||([this.measureRequests,f]=[f,this.measureRequests]);let h=f.map(y=>{try{return y.read(this)}catch(m){return vi(this.state,m),xM}}),d=vp.create(this,this.state,[]),p=!1,g=!1;d.flags|=u,n?n.flags|=u:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),p=this.docView.update(d));for(let y=0;y<f.length;y++)if(h[y]!=xM)try{let m=f[y];m.write&&m.write(h[y],this)}catch(m){vi(this.state,m)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,g=!0;else{let y=this.viewState.lineBlockAt(c.from).top-c.top;(y>1||y<-1)&&(this.scrollDOM.scrollTop+=y,g=!0)}if(p&&this.docView.updateSelection(!0),this.viewport.from==l.from&&this.viewport.to==l.to&&!g&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(ib))a(n)}get themeClasses(){return ub+" "+(this.state.facet(cb)?Z$:Q$)+" "+this.state.facet(Of)}updateAttrs(){let e=SM(this,$$,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Rg)?"true":"false",class:"cm-content",style:`${Me.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),SM(this,M_,n);let i=this.observer.ignore(()=>{let r=tb(this.contentDOM,this.contentAttrs,n),o=tb(this.dom,this.editorAttrs,e);return r||o});return this.editorAttrs=e,this.contentAttrs=n,i}showAnnouncements(e){let n=!0;for(let i of e)for(let r of i.effects)if(r.is(Pe.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(hc),Yo.mount(this.root,this.styleModules.concat(Tae).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(i=>i.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,i){return ay(this,e,lM(this,e,n,i))}moveByGroup(e,n){return ay(this,e,lM(this,e,n,i=>iae(this,e.head,i)))}moveToLineBoundary(e,n,i=!0){return nae(this,e,n,i)}moveVertically(e,n,i){return ay(this,e,rae(this,e,n,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),V$(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let i=this.docView.coordsAt(e,n);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r),s=o[Ha.find(o,e-r.from,-1,n)];return S_(i,s.dir==Vt.LTR==n>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(T$)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Bae)return L$(e.length);let n=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==n)return r.order;let i=jse(e.text,n);return this.bidiCache.push(new bp(e.from,e.to,n,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Me.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{f$(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return ZO.of(new yp(typeof e=="number"?ie.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}static domEventHandlers(e){return on.define(()=>({}),{eventHandlers:e})}static theme(e,n){let i=Yo.newName(),r=[Of.of(i),hc.of(fb(`.${i}`,e))];return n&&n.dark&&r.push(cb.of(!0)),r}static baseTheme(e){return $l.lowest(hc.of(fb("."+ub,e,eR)))}static findFromDOM(e){var n;let i=e.querySelector(".cm-content"),r=i&&Et.get(i)||Et.get(e);return((n=r==null?void 0:r.rootView)===null||n===void 0?void 0:n.view)||null}}Pe.styleModule=hc;Pe.inputHandler=A$;Pe.focusChangeEffect=P$;Pe.perLineTextDirection=T$;Pe.exceptionSink=M$;Pe.updateListener=ib;Pe.editable=Rg;Pe.mouseSelectionStyle=O$;Pe.dragMovesSelection=C$;Pe.clickAddsSelectionRange=k$;Pe.decorations=du;Pe.atomicRanges=R$;Pe.scrollMargins=E$;Pe.darkTheme=cb;Pe.contentAttributes=M_;Pe.editorAttributes=$$;Pe.lineWrapping=Pe.contentAttributes.of({class:"cm-lineWrapping"});Pe.announce=Ke.define();const Bae=4096,xM={};class bp{constructor(e,n,i,r){this.from=e,this.to=n,this.dir=i,this.order=r}static update(e,n){if(n.empty)return e;let i=[],r=e.length?e[e.length-1].dir:Vt.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==r&&!n.touchesRange(s.from,s.to)&&i.push(new bp(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.order))}return i}}function SM(t,e,n){for(let i=t.state.facet(e),r=i.length-1;r>=0;r--){let o=i[r],s=typeof o=="function"?o(t):o;s&&eb(s,n)}return n}const Fae=Me.mac?"mac":Me.windows?"win":Me.linux?"linux":"key";function Hae(t,e){const n=t.split(/-(?!$)/);let i=n[n.length-1];i=="Space"&&(i=" ");let r,o,s,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(i="Alt-"+i),o&&(i="Ctrl-"+i),a&&(i="Meta-"+i),s&&(i="Shift-"+i),i}function Mf(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Vae=$l.default(Pe.domEventHandlers({keydown(t,e){return iR(nR(e.state),t,e,"editor")}})),Eg=De.define({enables:Vae}),kM=new WeakMap;function nR(t){let e=t.facet(Eg),n=kM.get(e);return n||kM.set(e,n=Wae(e.reduce((i,r)=>i.concat(r),[]))),n}function jae(t,e,n){return iR(nR(t.state),e,t,n)}let xo=null;const zae=4e3;function Wae(t,e=Fae){let n=Object.create(null),i=Object.create(null),r=(s,a)=>{let l=i[s];if(l==null)i[s]=a;else if(l!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,l,c)=>{var u,f;let h=n[s]||(n[s]=Object.create(null)),d=a.split(/ (?!$)/).map(y=>Hae(y,e));for(let y=1;y<d.length;y++){let m=d.slice(0,y).join(" ");r(m,!0),h[m]||(h[m]={preventDefault:!0,run:[b=>{let _=xo={view:b,prefix:m,scope:s};return setTimeout(()=>{xo==_&&(xo=null)},zae),!0}]})}let p=d.join(" ");r(p,!1);let g=h[p]||(h[p]={preventDefault:!1,run:((f=(u=h._any)===null||u===void 0?void 0:u.run)===null||f===void 0?void 0:f.slice())||[]});l&&g.run.push(l),c&&(g.preventDefault=!0)};for(let s of t){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of a){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,run:[]});for(let f in u)u[f].run.push(s.any)}let l=s[e]||s.key;if(l)for(let c of a)o(c,l,s.run,s.preventDefault),s.shift&&o(c,"Shift-"+l,s.shift,s.preventDefault)}return n}function iR(t,e,n,i){let r=kse(e),o=yn(r,0),s=Pi(o)==r.length&&r!=" ",a="",l=!1;xo&&xo.view==n&&xo.scope==i&&(a=xo.prefix+" ",(l=z$.indexOf(e.keyCode)<0)&&(xo=null));let c=new Set,u=p=>{if(p){for(let g of p.run)if(!c.has(g)&&(c.add(g),g(n,e)))return!0;p.preventDefault&&(l=!0)}return!1},f=t[i],h,d;if(f){if(u(f[a+Mf(r,e,!s)]))return!0;if(s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Me.windows&&e.ctrlKey&&e.altKey)&&(h=qo[e.keyCode])&&h!=r){if(u(f[a+Mf(h,e,!0)]))return!0;if(e.shiftKey&&(d=uu[e.keyCode])!=r&&d!=h&&u(f[a+Mf(d,e,!1)]))return!0}else if(s&&e.shiftKey&&u(f[a+Mf(r,e,!0)]))return!0;if(u(f._any))return!0}return l}class Hu{constructor(e,n,i,r,o){this.className=e,this.left=n,this.top=i,this.width=r,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let o=rR(e);return[new Hu(n,r.left-o.left,r.top-o.top,null,r.bottom-r.top)]}else return Uae(e,n,i)}}function rR(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Vt.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function CM(t,e,n){let i=ie.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(i,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(i,!0,!0).from),type:bt.Text}}function OM(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let i of n.type)if(i.to>e||i.to==e&&(i.to==n.to||i.type==bt.Text))return i}return n}function Uae(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let i=Math.max(n.from,t.viewport.from),r=Math.min(n.to,t.viewport.to),o=t.textDirection==Vt.LTR,s=t.contentDOM,a=s.getBoundingClientRect(),l=rR(t),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),f=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),h=a.right-(u?parseInt(u.paddingRight):0),d=OM(t,i),p=OM(t,r),g=d.type==bt.Text?d:null,y=p.type==bt.Text?p:null;if(t.lineWrapping&&(g&&(g=CM(t,i,g)),y&&(y=CM(t,r,y))),g&&y&&g.from==y.from)return b(_(n.from,n.to,g));{let S=g?_(n.from,null,g):w(d,!1),A=y?_(null,n.to,y):w(p,!0),x=[];return(g||d).to<(y||p).from-1?x.push(m(f,S.bottom,h,A.top)):S.bottom<A.top&&t.elementAtHeight((S.bottom+A.top)/2).type==bt.Text&&(S.bottom=A.top=(S.bottom+A.top)/2),b(S).concat(x).concat(b(A))}function m(S,A,x,k){return new Hu(e,S-l.left,A-l.top-.01,x-S,k-A+.01)}function b({top:S,bottom:A,horizontal:x}){let k=[];for(let P=0;P<x.length;P+=2)k.push(m(x[P],S,x[P+1],A));return k}function _(S,A,x){let k=1e9,P=-1e9,E=[];function I(ee,F,z,v,$){let W=t.coordsAtPos(ee,ee==x.to?-2:2),Y=t.coordsAtPos(z,z==x.from?2:-2);k=Math.min(W.top,Y.top,k),P=Math.max(W.bottom,Y.bottom,P),$==Vt.LTR?E.push(o&&F?f:W.left,o&&v?h:Y.right):E.push(!o&&v?f:Y.left,!o&&F?h:W.right)}let B=S??x.from,J=A??x.to;for(let ee of t.visibleRanges)if(ee.to>B&&ee.from<J)for(let F=Math.max(ee.from,B),z=Math.min(ee.to,J);;){let v=t.state.doc.lineAt(F);for(let $ of t.bidiSpans(v)){let W=$.from+v.from,Y=$.to+v.from;if(W>=z)break;Y>F&&I(Math.max(W,F),S==null&&W<=B,Math.min(Y,z),A==null&&Y>=J,$.dir)}if(F=v.to+1,F>=z)break}return E.length==0&&I(B,S==null,J,A==null,t.textDirection),{top:k,bottom:P,horizontal:E}}function w(S,A){let x=a.top+(A?S.top:S.bottom);return{top:x,bottom:x,horizontal:[]}}}function Yae(t,e){return t.constructor==e.constructor&&t.eq(e)}class qae{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Nh)!=e.state.facet(Nh)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let n=0,i=e.facet(Nh);for(;n<i.length&&i[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((n,i)=>!Yae(n,this.drawn[i]))){let n=this.dom.firstChild,i=0;for(let r of e)r.update&&n&&r.constructor&&this.drawn[i].constructor&&r.update(n,this.drawn[i])?(n=n.nextSibling,i++):this.dom.insertBefore(r.draw(),n);for(;n;){let r=n.nextSibling;n.remove(),n=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Nh=De.define();function oR(t){return[on.define(e=>new qae(e,t)),Nh.of(t)]}const sR=!Me.ios,pu=De.define({combine(t){return Er(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function Kae(t={}){return[pu.of(t),Gae,Xae,Jae,D$.of(!0)]}function aR(t){return t.startState.facet(pu)!=t.state.facet(pu)}const Gae=oR({above:!0,markers(t){let{state:e}=t,n=e.facet(pu),i=[];for(let r of e.selection.ranges){let o=r==e.selection.main;if(r.empty?!o||sR:n.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=r.empty?r:ie.cursor(r.head,r.head>r.anchor?-1:1);for(let l of Hu.forRange(t,s,a))i.push(l)}}return i},update(t,e){t.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=aR(t);return n&&MM(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){MM(e.state,t)},class:"cm-cursorLayer"});function MM(t,e){e.style.animationDuration=t.facet(pu).cursorBlinkRate+"ms"}const Xae=oR({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Hu.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||aR(t)},class:"cm-selectionLayer"}),lR={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};sR&&(lR[".cm-line"].caretColor="transparent !important");const Jae=$l.highest(Pe.theme(lR)),cR=Ke.define({map(t,e){return t==null?null:e.mapPos(t)}}),pc=xn.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,i)=>i.is(cR)?i.value:n,t)}}),Qae=on.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(pc);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(pc)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let t=this.view.state.field(pc),e=t!=null&&this.view.coordsAtPos(t);if(!e)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-n.left+this.view.scrollDOM.scrollLeft,top:e.top-n.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(t){this.cursor&&(t?(this.cursor.style.left=t.left+"px",this.cursor.style.top=t.top+"px",this.cursor.style.height=t.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(pc)!=t&&this.view.dispatch({effects:cR.of(t)})}},{eventHandlers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Zae(){return[pc,Qae]}function AM(t,e,n,i,r){e.lastIndex=0;for(let o=t.iterRange(n,i),s=n,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=e.exec(o.value);)r(s+a.index,a)}function ele(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let i=[];for(let{from:r,to:o}of n)r=Math.max(t.state.doc.lineAt(r).from,r-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=o:i.push({from:r,to:o});return i}class tle{constructor(e){const{regexp:n,decoration:i,decorate:r,boundary:o,maxLength:s=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,r)this.addMatch=(a,l,c,u)=>r(u,c,c+a[0].length,a,l);else if(typeof i=="function")this.addMatch=(a,l,c,u)=>{let f=i(a,l,c);f&&u(c,c+a[0].length,f)};else if(i)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(e){let n=new Uo,i=n.add.bind(n);for(let{from:r,to:o}of ele(e,this.maxLength))AM(e.state.doc,this.regexp,r,o,(s,a)=>this.addMatch(a,e,s,i));return n.finish()}updateDeco(e,n){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((o,s,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(i=Math.min(a,i),r=Math.max(l,r))}),e.viewportChanged||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,n.map(e.changes),i,r):n}updateRange(e,n,i,r){for(let o of e.visibleRanges){let s=Math.max(o.from,i),a=Math.min(o.to,r);if(a>s){let l=e.state.doc.lineAt(s),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(o.from,l.from),f=Math.min(o.to,c.to);if(this.boundary){for(;s>l.from;s--)if(this.boundary.test(l.text[s-1-l.from])){u=s;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){f=a;break}}let h=[],d,p=(g,y,m)=>h.push(m.range(g,y));if(l==c)for(this.regexp.lastIndex=u-l.from;(d=this.regexp.exec(l.text))&&d.index<f-l.from;)this.addMatch(d,e,d.index+l.from,p);else AM(e.state.doc,this.regexp,u,f,(g,y)=>this.addMatch(y,e,g,p));n=n.update({filterFrom:u,filterTo:f,filter:(g,y)=>g<u||y>f,add:h})}}return n}}const hb=/x/.unicode!=null?"gu":"g",nle=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,hb),ile={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let uy=null;function rle(){var t;if(uy==null&&typeof document<"u"&&document.body){let e=document.body.style;uy=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return uy||!1}const Bh=De.define({combine(t){let e=Er(t,{render:null,specialChars:nle,addSpecialChars:null});return(e.replaceTabs=!rle())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,hb)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,hb)),e}});function ole(t={}){return[Bh.of(t),sle()]}let PM=null;function sle(){return PM||(PM=on.fromClass(class{constructor(t){this.view=t,this.decorations=Ne.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Bh)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new tle({regexp:t.specialChars,decoration:(e,n,i)=>{let{doc:r}=n.state,o=yn(e[0],0);if(o==9){let s=r.lineAt(i),a=n.state.tabSize,l=Bu(s.text,a,i-s.from);return Ne.replace({widget:new ule((a-l%a)*this.view.defaultCharacterWidth)})}return this.decorationCache[o]||(this.decorationCache[o]=Ne.replace({widget:new cle(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Bh);t.startState.facet(Bh)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const ale="";function lle(t){return t>=32?ale:t==10?"":String.fromCharCode(9216+t)}class cle extends os{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=lle(this.code),i=e.state.phrase("Control character")+" "+(ile[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,n);if(r)return r;let o=document.createElement("span");return o.textContent=n,o.title=i,o.setAttribute("aria-label",i),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class ule extends os{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function fle(){return dle}const hle=Ne.line({class:"cm-activeLine"}),dle=on.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let i of t.state.selection.ranges){let r=t.lineBlockAt(i.head);r.from>e&&(n.push(hle.range(r.from)),e=r.from)}return Ne.set(n)}},{decorations:t=>t.decorations}),db=2e3;function ple(t,e,n){let i=Math.min(e.line,n.line),r=Math.max(e.line,n.line),o=[];if(e.off>db||n.off>db||e.col<0||n.col<0){let s=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=i;l<=r;l++){let c=t.doc.line(l);c.length<=a&&o.push(ie.range(c.from+s,c.to+a))}}else{let s=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=i;l<=r;l++){let c=t.doc.line(l),u=Yv(c.text,s,t.tabSize,!0);if(u<0)o.push(ie.cursor(c.to));else{let f=Yv(c.text,a,t.tabSize);o.push(ie.range(c.from+u,c.from+f))}}}return o}function gle(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function TM(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),i=t.state.doc.lineAt(n),r=n-i.from,o=r>db?-1:r==i.length?gle(t,e.clientX):Bu(i.text,t.state.tabSize,n-i.from);return{line:i.number,col:o,off:r}}function mle(t,e){let n=TM(t,e),i=t.state.selection;return n?{update(r){if(r.docChanged){let o=r.changes.mapPos(r.startState.doc.line(n.line).from),s=r.state.doc.lineAt(o);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},i=i.map(r.changes)}},get(r,o,s){let a=TM(t,r);if(!a)return i;let l=ple(t.state,n,a);return l.length?s?ie.create(l.concat(i.ranges)):ie.create(l):i}}:null}function yle(t){let e=(t==null?void 0:t.eventFilter)||(n=>n.altKey&&n.button==0);return Pe.mouseSelectionStyle.of((n,i)=>e(i)?mle(n,i):null)}const vle={Alt:[18,t=>t.altKey],Control:[17,t=>t.ctrlKey],Shift:[16,t=>t.shiftKey],Meta:[91,t=>t.metaKey]},ble={style:"cursor: crosshair"};function _le(t={}){let[e,n]=vle[t.key||"Alt"],i=on.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventHandlers:{keydown(r){this.set(r.keyCode==e||n(r))},keyup(r){(r.keyCode==e||!n(r))&&this.set(!1)},mousemove(r){this.set(n(r))}}});return[i,Pe.contentAttributes.of(r=>{var o;return!((o=r.plugin(i))===null||o===void 0)&&o.isDown?ble:null})]}const Af="-10000px";class uR{constructor(e,n,i){this.facet=n,this.createTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(i)}update(e){var n;let i=e.state.facet(this.facet),r=i.filter(s=>s);if(i===this.input){for(let s of this.tooltipViews)s.update&&s.update(e);return!1}let o=[];for(let s=0;s<r.length;s++){let a=r[s],l=-1;if(a){for(let c=0;c<this.tooltips.length;c++){let u=this.tooltips[c];u&&u.create==a.create&&(l=c)}if(l<0)o[s]=this.createTooltipView(a);else{let c=o[s]=this.tooltipViews[l];c.update&&c.update(e)}}}for(let s of this.tooltipViews)o.indexOf(s)<0&&(s.dom.remove(),(n=s.destroy)===null||n===void 0||n.call(s));return this.input=i,this.tooltips=r,this.tooltipViews=o,!0}}function wle(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const fy=De.define({combine:t=>{var e,n,i;return{position:Me.ios?"absolute":((e=t.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(r=>r.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((i=t.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||wle}}}),DM=new WeakMap,fR=on.fromClass(class{constructor(t){this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(fy);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new uR(t,P_,n=>this.createTooltip(n)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let n=e||t.geometryChanged,i=t.state.facet(fy);if(i.position!=this.position){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;n=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",e.dom.appendChild(n)}return e.dom.style.position=this.position,e.dom.style.top=Af,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((e,n)=>{let i=this.manager.tooltipViews[n];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(fy).tooltipSpace(this.view)}}writeMeasure(t){var e;let{editor:n,space:i}=t,r=[];for(let o=0;o<this.manager.tooltips.length;o++){let s=this.manager.tooltips[o],a=this.manager.tooltipViews[o],{dom:l}=a,c=t.pos[o],u=t.size[o];if(!c||c.bottom<=Math.max(n.top,i.top)||c.top>=Math.min(n.bottom,i.bottom)||c.right<Math.max(n.left,i.left)-.1||c.left>Math.min(n.right,i.right)+.1){l.style.top=Af;continue}let f=s.arrow?a.dom.querySelector(".cm-tooltip-arrow"):null,h=f?7:0,d=u.right-u.left,p=(e=DM.get(a))!==null&&e!==void 0?e:u.bottom-u.top,g=a.offset||Sle,y=this.view.textDirection==Vt.LTR,m=u.width>i.right-i.left?y?i.left:i.right-u.width:y?Math.min(c.left-(f?14:0)+g.x,i.right-d):Math.max(i.left,c.left-d+(f?14:0)-g.x),b=!!s.above;!s.strictSide&&(b?c.top-(u.bottom-u.top)-g.y<i.top:c.bottom+(u.bottom-u.top)+g.y>i.bottom)&&b==i.bottom-c.bottom>c.top-i.top&&(b=!b);let _=(b?c.top-i.top:i.bottom-c.bottom)-h;if(_<p&&a.resize!==!1){if(_<this.view.defaultLineHeight){l.style.top=Af;continue}DM.set(a,p),l.style.height=(p=_)+"px"}else l.style.height&&(l.style.height="");let w=b?c.top-p-h-g.y:c.bottom+h+g.y,S=m+d;if(a.overlap!==!0)for(let A of r)A.left<S&&A.right>m&&A.top<w+p&&A.bottom>w&&(w=b?A.top-p-2-h:A.bottom+h+2);this.position=="absolute"?(l.style.top=w-t.parent.top+"px",l.style.left=m-t.parent.left+"px"):(l.style.top=w+"px",l.style.left=m+"px"),f&&(f.style.left=`${c.left+(y?g.x:-g.x)-(m+14-7)}px`),a.overlap!==!0&&r.push({left:m,top:w,right:S,bottom:w+p}),l.classList.toggle("cm-tooltip-above",b),l.classList.toggle("cm-tooltip-below",!b),a.positioned&&a.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Af}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),xle=Pe.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Sle={x:0,y:0},P_=De.define({enables:[fR,xle]}),_p=De.define();class T_{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new uR(e,_p,n=>this.createHostedView(n))}static create(e){return new T_(e)}createHostedView(e){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}}const kle=P_.compute([_p],t=>{let e=t.facet(_p).filter(n=>n);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.filter(n=>n.end!=null).map(n=>n.end)),create:T_.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class Cle{constructor(e,n,i,r,o){this.view=e,this.source=n,this.field=i,this.setHover=r,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,n=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(n==null)return;let i=this.view.coordsAtPos(n);if(i==null||e.y<i.top||e.y>i.bottom||e.x<i.left-this.view.defaultCharacterWidth||e.x>i.right+this.view.defaultCharacterWidth)return;let r=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find(a=>a.from<=n&&a.to>=n),o=r&&r.dir==Vt.RTL?-1:1,s=this.source(this.view,n,e.x<i.left?-o:o);if(s!=null&&s.then){let a=this.pending={pos:n};s.then(l=>{this.pending==a&&(this.pending=null,l&&this.view.dispatch({effects:this.setHover.of(l)}))},l=>vi(this.view.state,l,"hover tooltip"))}else s&&this.view.dispatch({effects:this.setHover.of(s)})}mousemove(e){var n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!$M(this.lastMove.target)||this.pending){let{pos:r}=i||this.pending,o=(n=i==null?void 0:i.end)!==null&&n!==void 0?n:r;(r==o?this.view.posAtCoords(this.lastMove)!=r:!Ole(this.view,r,o,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!$M(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function $M(t){for(let e=t;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function Ole(t,e,n,i,r,o){let s=document.createRange(),a=t.domAtPos(e),l=t.domAtPos(n);s.setEnd(l.node,l.offset),s.setStart(a.node,a.offset);let c=s.getClientRects();s.detach();for(let u=0;u<c.length;u++){let f=c[u];if(Math.max(f.top-r,r-f.bottom,f.left-i,i-f.right)<=o)return!0}return!1}function Mle(t,e={}){let n=Ke.define(),i=xn.define({create(){return null},update(r,o){if(r&&(e.hideOnChange&&(o.docChanged||o.selection)||e.hideOn&&e.hideOn(o,r)))return null;if(r&&o.docChanged){let s=o.changes.mapPos(r.pos,-1,zn.TrackDel);if(s==null)return null;let a=Object.assign(Object.create(null),r);a.pos=s,r.end!=null&&(a.end=o.changes.mapPos(r.end)),r=a}for(let s of o.effects)s.is(n)&&(r=s.value),s.is(Ple)&&(r=null);return r},provide:r=>_p.from(r)});return[i,on.define(r=>new Cle(r,t,i,n,e.hoverTime||300)),kle]}function Ale(t,e){let n=t.plugin(fR);if(!n)return null;let i=n.manager.tooltips.indexOf(e);return i<0?null:n.manager.tooltipViews[i]}const Ple=Ke.define(),RM=De.define({combine(t){let e,n;for(let i of t)e=e||i.topContainer,n=n||i.bottomContainer;return{topContainer:e,bottomContainer:n}}});function gu(t,e){let n=t.plugin(hR),i=n?n.specs.indexOf(e):-1;return i>-1?n.panels[i]:null}const hR=on.fromClass(class{constructor(t){this.input=t.state.facet(mu),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(RM);this.top=new Pf(t,!0,e.topContainer),this.bottom=new Pf(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(RM);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Pf(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Pf(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(mu);if(n!=this.input){let i=n.filter(l=>l),r=[],o=[],s=[],a=[];for(let l of i){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),a.push(u)):(u=this.panels[c],u.update&&u.update(t)),r.push(u),(u.top?o:s).push(u)}this.specs=i,this.panels=r,this.top.sync(o),this.bottom.sync(s);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Pe.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Pf{constructor(e,n,i){this.view=e,this.top=n,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=EM(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=EM(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function EM(t){let e=t.nextSibling;return t.remove(),e}const mu=De.define({enables:hR});class no extends qs{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}no.prototype.elementClass="";no.prototype.toDOM=void 0;no.prototype.mapMode=zn.TrackBefore;no.prototype.startSide=no.prototype.endSide=-1;no.prototype.point=!0;const Fh=De.define(),Tle={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>pt.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Vc=De.define();function Dle(t){return[dR(),Vc.of(Object.assign(Object.assign({},Tle),t))]}const pb=De.define({combine:t=>t.some(e=>e)});function dR(t){let e=[$le];return t&&t.fixed===!1&&e.push(pb.of(!0)),e}const $le=on.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(Vc).map(e=>new LM(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(pb),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,i=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(i<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(pb)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=pt.iter(this.view.state.facet(Fh),this.view.viewport.from),i=[],r=this.gutters.map(o=>new Rle(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks){let s;if(Array.isArray(o.type)){for(let a of o.type)if(a.type==bt.Text){s=a;break}}else s=o.type==bt.Text?o:void 0;if(s){i.length&&(i=[]),pR(n,i,o.from);for(let a of r)a.line(this.view,s,i)}}for(let o of r)o.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Vc),n=t.state.facet(Vc),i=t.docChanged||t.heightChanged||t.viewportChanged||!pt.eq(t.startState.facet(Fh),t.state.facet(Fh),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let r of this.gutters)r.update(t)&&(i=!0);else{i=!0;let r=[];for(let o of n){let s=e.indexOf(o);s<0?r.push(new LM(this.view,o)):(this.gutters[s].update(t),r.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),r.indexOf(o)<0&&o.destroy();for(let o of r)this.dom.appendChild(o.dom);this.gutters=r}return i}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Pe.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Vt.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}})});function IM(t){return Array.isArray(t)?t:[t]}function pR(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Rle{constructor(e,n,i){this.gutter=e,this.height=i,this.i=0,this.cursor=pt.iter(e.markers,n.from)}line(e,n,i){let r=[];pR(this.cursor,r,n.from),i.length&&(r=r.concat(i));let o=this.gutter.config.lineMarker(e,n,r);o&&r.unshift(o);let s=this.gutter;if(r.length==0&&!s.config.renderEmptyElements)return;let a=n.top-this.height;if(this.i==s.elements.length){let l=new gR(e,n.height,a,r);s.elements.push(l),s.dom.appendChild(l.dom)}else s.elements[this.i].update(e,n.height,a,r);this.height=n.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class LM{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in n.domEventHandlers)this.dom.addEventListener(i,r=>{let o=r.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=r.clientY;let a=e.lineBlockAtHeight(s-e.documentTop);n.domEventHandlers[i](e,a,r)&&r.preventDefault()});this.markers=IM(n.markers(e)),n.initialSpacer&&(this.spacer=new gR(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=IM(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!pt.eq(this.markers,n,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class gR{constructor(e,n,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,i,r)}update(e,n,i,r){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),Ele(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,n){let i="cm-gutterElement",r=this.dom.firstChild;for(let o=0,s=0;;){let a=s,l=o<n.length?n[o++]:null,c=!1;if(l){let u=l.elementClass;u&&(i+=" "+u);for(let f=s;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,c=!0;break}}else a=this.markers.length;for(;s<a;){let u=this.markers[s++];if(u.toDOM){u.destroy(r);let f=r.nextSibling;r.remove(),r=f}}if(!l)break;l.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(l.toDOM(e),r)),c&&s++}this.dom.className=i,this.markers=n}destroy(){this.setMarkers(null,[])}}function Ele(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const Ile=De.define(),Oa=De.define({combine(t){return Er(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let i=Object.assign({},e);for(let r in n){let o=i[r],s=n[r];i[r]=o?(a,l,c)=>o(a,l,c)||s(a,l,c):s}return i}})}});class hy extends no{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function dy(t,e){return t.state.facet(Oa).formatNumber(e,t.state)}const Lle=Vc.compute([Oa],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Ile)},lineMarker(e,n,i){return i.some(r=>r.toDOM)?null:new hy(dy(e,e.state.doc.lineAt(n.from).number))},lineMarkerChange:e=>e.startState.facet(Oa)!=e.state.facet(Oa),initialSpacer(e){return new hy(dy(e,NM(e.state.doc.lines)))},updateSpacer(e,n){let i=dy(n.view,NM(n.view.state.doc.lines));return i==e.number?e:new hy(i)},domEventHandlers:t.facet(Oa).domEventHandlers}));function Nle(t={}){return[Oa.of(t),dR(),Lle]}function NM(t){let e=9;for(;e<t;)e=e*10+9;return e}const Ble=new class extends no{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Fle=Fh.compute(["selection"],t=>{let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.head).from;r>n&&(n=r,e.push(Ble.range(r)))}return pt.of(e)});function Hle(){return Fle}const Vle=1024;let jle=0;class py{constructor(e,n){this.from=e,this.to=n}}class nt{constructor(e={}){this.id=jle++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Bi.match(e)),n=>{let i=e(n);return i===void 0?null:[this,i]}}}nt.closedBy=new nt({deserialize:t=>t.split(" ")});nt.openedBy=new nt({deserialize:t=>t.split(" ")});nt.group=new nt({deserialize:t=>t.split(" ")});nt.contextHash=new nt({perNode:!0});nt.lookAhead=new nt({perNode:!0});nt.mounted=new nt({perNode:!0});const zle=Object.create(null);class Bi{constructor(e,n,i,r=0){this.name=e,this.props=n,this.id=i,this.flags=r}static define(e){let n=e.props&&e.props.length?Object.create(null):zle,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Bi(e.name||"",n,e.id,i);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(nt.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let i in e)for(let r of i.split(" "))n[r]=e[i];return i=>{for(let r=i.prop(nt.group),o=-1;o<(r?r.length:0);o++){let s=n[o<0?i.name:r[o]];if(s)return s}}}}Bi.none=new Bi("",Object.create(null),0,8);const Tf=new WeakMap,BM=new WeakMap;var Mn;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Mn||(Mn={}));class Rn{constructor(e,n,i,r,o){if(this.type=e,this.children=n,this.positions=i,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let e=this.prop(nt.mounted);if(e&&!e.overlay)return e.tree.toString();let n="";for(let i of this.children){let r=i.toString();r&&(n&&(n+=","),n+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Sp(this.topNode,e)}cursorAt(e,n=0,i=0){let r=Tf.get(this)||this.topNode,o=new Sp(r);return o.moveTo(e,n),Tf.set(this,o._tree),o}get topNode(){return new Qr(this,0,0,null)}resolve(e,n=0){let i=yl(Tf.get(this)||this.topNode,e,n,!1);return Tf.set(this,i),i}resolveInner(e,n=0){let i=yl(BM.get(this)||this.topNode,e,n,!0);return BM.set(this,i),i}iterate(e){let{enter:n,leave:i,from:r=0,to:o=this.length}=e;for(let s=this.cursor((e.mode||0)|Mn.IncludeAnonymous);;){let a=!1;if(s.from<=o&&s.to>=r&&(s.type.isAnonymous||n(s)!==!1)){if(s.firstChild())continue;a=!0}for(;a&&i&&!s.type.isAnonymous&&i(s),!s.nextSibling();){if(!s.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:R_(Bi.none,this.children,this.positions,0,this.children.length,0,this.length,(n,i,r)=>new Rn(this.type,n,i,r,this.propValues),e.makeTree||((n,i,r)=>new Rn(Bi.none,n,i,r)))}static build(e){return Ule(e)}}Rn.empty=new Rn(Bi.none,[],[],0);class D_{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new D_(this.buffer,this.index)}}class aa{constructor(e,n,i){this.buffer=e,this.length=n,this.set=i}get type(){return Bi.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],i=this.buffer[e+3],r=this.set.types[n],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),e+=4,i==e)return o;let s=[];for(;e<i;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,n,i,r,o){let{buffer:s}=this,a=-1;for(let l=e;l!=n&&!(mR(o,r,s[l+1],s[l+2])&&(a=l,i>0));l=s[l+3]);return a}slice(e,n,i){let r=this.buffer,o=new Uint16Array(n-e),s=0;for(let a=e,l=0;a<n;){o[l++]=r[a++],o[l++]=r[a++]-i;let c=o[l++]=r[a++]-i;o[l++]=r[a++]-e,s=Math.max(s,c)}return new aa(o,s,this.set)}}function mR(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function yR(t,e){let n=t.childBefore(e);for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(t=n,n=i.prevSibling):n=i}return t}function yl(t,e,n,i){for(var r;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!i&&t instanceof Qr&&t.index<0?null:t.parent;if(!s)return t;t=s}let o=i?0:Mn.IgnoreOverlays;if(i)for(let s=t,a=s.parent;a;s=a,a=s.parent)s instanceof Qr&&s.index<0&&((r=a.enter(e,n,o))===null||r===void 0?void 0:r.from)!=s.from&&(t=a);for(;;){let s=t.enter(e,n,o);if(!s)return t;t=s}}class Qr{constructor(e,n,i,r){this._tree=e,this.from=n,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,i,r,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,c=n>0?a.length:-1;e!=c;e+=n){let u=a[e],f=l[e]+s.from;if(mR(r,i,f,f+u.length)){if(u instanceof aa){if(o&Mn.ExcludeBuffers)continue;let h=u.findChild(0,u.buffer.length,n,i-f,r);if(h>-1)return new Po(new Wle(s,u,e,f),null,h)}else if(o&Mn.IncludeAnonymous||!u.type.isAnonymous||$_(u)){let h;if(!(o&Mn.IgnoreMounts)&&u.props&&(h=u.prop(nt.mounted))&&!h.overlay)return new Qr(h.tree,f,e,s);let d=new Qr(u,f,e,s);return o&Mn.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?u.children.length-1:0,n,i,r)}}}if(o&Mn.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,i=0){let r;if(!(i&Mn.IgnoreOverlays)&&(r=this._tree.prop(nt.mounted))&&r.overlay){let o=e-this.from;for(let{from:s,to:a}of r.overlay)if((n>0?s<=o:s<o)&&(n<0?a>=o:a>o))return new Qr(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Sp(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,n=0){return yl(this,e,n,!1)}resolveInner(e,n=0){return yl(this,e,n,!0)}enterUnfinishedNodesBefore(e){return yR(this,e)}getChild(e,n=null,i=null){let r=wp(this,e,n,i);return r.length?r[0]:null}getChildren(e,n=null,i=null){return wp(this,e,n,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return xp(this,e)}}function wp(t,e,n,i){let r=t.cursor(),o=[];if(!r.firstChild())return o;if(n!=null){for(;!r.type.is(n);)if(!r.nextSibling())return o}for(;;){if(i!=null&&r.type.is(i))return o;if(r.type.is(e)&&o.push(r.node),!r.nextSibling())return i==null?o:[]}}function xp(t,e,n=e.length-1){for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class Wle{constructor(e,n,i,r){this.parent=e,this.buffer=n,this.index=i,this.start=r}}class Po{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,i){this.context=e,this._parent=n,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,n,i){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.context.start,i);return o<0?null:new Po(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,i=0){if(i&Mn.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new Po(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Po(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Po(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}cursor(e=0){return new Sp(this,e)}get tree(){return null}toTree(){let e=[],n=[],{buffer:i}=this.context,r=this.index+4,o=i.buffer[this.index+3];if(o>r){let s=i.buffer[this.index+1];e.push(i.slice(r,o,s)),n.push(0)}return new Rn(this.type,e,n,this.to-this.from)}resolve(e,n=0){return yl(this,e,n,!1)}resolveInner(e,n=0){return yl(this,e,n,!0)}enterUnfinishedNodesBefore(e){return yR(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,n=null,i=null){let r=wp(this,e,n,i);return r.length?r[0]:null}getChildren(e,n=null,i=null){return wp(this,e,n,i)}get node(){return this}matchContext(e){return xp(this,e)}}class Sp{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Qr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=n||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof Qr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,i,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,n-this.buffer.start,i);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,i=this.mode){return this.buffer?i&Mn.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Mn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Mn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(n.findChild(r,this.index,-1,0,4))}else{let r=n.buffer[this.index+3];if(r<(i<0?n.buffer.length:n.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(r.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:i}=r)}else({index:n,_parent:i}=this._tree);for(;i;{index:n,_parent:i}=i)if(n>-1)for(let o=n+e,s=e<0?-1:i._tree.children.length;o!=s;o+=e){let a=i._tree.children[o];if(this.mode&Mn.IncludeAnonymous||a instanceof aa||!a.type.isAnonymous||$_(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==r){if(r==this.index)return s;n=s,i=o+1;break e}r=this.stack[--o]}for(let r=i;r<this.stack.length;r++)n=new Po(this.buffer,n,this.stack[r]);return this.bufferNode=new Po(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&n&&n(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return xp(this.node,e);let{buffer:n}=this.buffer,{types:i}=n.set;for(let r=e.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return xp(this.node,e,r);let s=i[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[r]&&e[r]!=s.name)return!1;r--}}return!0}}function $_(t){return t.children.some(e=>e instanceof aa||!e.type.isAnonymous||$_(e))}function Ule(t){var e;let{buffer:n,nodeSet:i,maxBufferLength:r=Vle,reused:o=[],minRepeatType:s=i.types.length}=t,a=Array.isArray(n)?new D_(n,n.length):n,l=i.types,c=0,u=0;function f(w,S,A,x,k){let{id:P,start:E,end:I,size:B}=a,J=u;for(;B<0;)if(a.next(),B==-1){let $=o[P];A.push($),x.push(E-w);return}else if(B==-3){c=P;return}else if(B==-4){u=P;return}else throw new RangeError(`Unrecognized record size: ${B}`);let ee=l[P],F,z,v=E-w;if(I-E<=r&&(z=g(a.pos-S,k))){let $=new Uint16Array(z.size-z.skip),W=a.pos-z.size,Y=$.length;for(;a.pos>W;)Y=y(z.start,$,Y);F=new aa($,I-z.start,i),v=z.start-w}else{let $=a.pos-B;a.next();let W=[],Y=[],Q=P>=s?P:-1,ce=0,X=I;for(;a.pos>$;)Q>=0&&a.id==Q&&a.size>=0?(a.end<=X-r&&(d(W,Y,E,ce,a.end,X,Q,J),ce=W.length,X=a.end),a.next()):f(E,$,W,Y,Q);if(Q>=0&&ce>0&&ce<W.length&&d(W,Y,E,ce,E,X,Q,J),W.reverse(),Y.reverse(),Q>-1&&ce>0){let L=h(ee);F=R_(ee,W,Y,0,W.length,0,I-E,L,L)}else F=p(ee,W,Y,I-E,J-I)}A.push(F),x.push(v)}function h(w){return(S,A,x)=>{let k=0,P=S.length-1,E,I;if(P>=0&&(E=S[P])instanceof Rn){if(!P&&E.type==w&&E.length==x)return E;(I=E.prop(nt.lookAhead))&&(k=A[P]+E.length+I)}return p(w,S,A,x,k)}}function d(w,S,A,x,k,P,E,I){let B=[],J=[];for(;w.length>x;)B.push(w.pop()),J.push(S.pop()+A-k);w.push(p(i.types[E],B,J,P-k,I-P)),S.push(k-A)}function p(w,S,A,x,k=0,P){if(c){let E=[nt.contextHash,c];P=P?[E].concat(P):[E]}if(k>25){let E=[nt.lookAhead,k];P=P?[E].concat(P):[E]}return new Rn(w,S,A,x,P)}function g(w,S){let A=a.fork(),x=0,k=0,P=0,E=A.end-r,I={size:0,start:0,skip:0};e:for(let B=A.pos-w;A.pos>B;){let J=A.size;if(A.id==S&&J>=0){I.size=x,I.start=k,I.skip=P,P+=4,x+=4,A.next();continue}let ee=A.pos-J;if(J<0||ee<B||A.start<E)break;let F=A.id>=s?4:0,z=A.start;for(A.next();A.pos>ee;){if(A.size<0)if(A.size==-3)F+=4;else break e;else A.id>=s&&(F+=4);A.next()}k=z,x+=J,P+=F}return(S<0||x==w)&&(I.size=x,I.start=k,I.skip=P),I.size>4?I:void 0}function y(w,S,A){let{id:x,start:k,end:P,size:E}=a;if(a.next(),E>=0&&x<s){let I=A;if(E>4){let B=a.pos-(E-4);for(;a.pos>B;)A=y(w,S,A)}S[--A]=I,S[--A]=P-w,S[--A]=k-w,S[--A]=x}else E==-3?c=x:E==-4&&(u=x);return A}let m=[],b=[];for(;a.pos>0;)f(t.start||0,t.bufferStart||0,m,b,-1);let _=(e=t.length)!==null&&e!==void 0?e:m.length?b[0]+m[0].length:0;return new Rn(l[t.topID],m.reverse(),b.reverse(),_)}const FM=new WeakMap;function Hh(t,e){if(!t.isAnonymous||e instanceof aa||e.type!=t)return 1;let n=FM.get(e);if(n==null){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof Rn)){n=1;break}n+=Hh(t,i)}FM.set(e,n)}return n}function R_(t,e,n,i,r,o,s,a,l){let c=0;for(let p=i;p<r;p++)c+=Hh(t,e[p]);let u=Math.ceil(c*1.5/8),f=[],h=[];function d(p,g,y,m,b){for(let _=y;_<m;){let w=_,S=g[_],A=Hh(t,p[_]);for(_++;_<m;_++){let x=Hh(t,p[_]);if(A+x>=u)break;A+=x}if(_==w+1){if(A>u){let x=p[w];d(x.children,x.positions,0,x.children.length,g[w]+b);continue}f.push(p[w])}else{let x=g[_-1]+p[_-1].length-S;f.push(R_(t,p,g,w,_,S,x,null,l))}h.push(S+b-o)}}return d(e,n,i,r,0),(a||l)(f,h,s)}class Bs{constructor(e,n,i,r,o=!1,s=!1){this.from=e,this.to=n,this.tree=i,this.offset=r,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],i=!1){let r=[new Bs(0,e.length,e,0,!1,i)];for(let o of n)o.to>e.length&&r.push(o);return r}static applyChanges(e,n,i=128){if(!n.length)return e;let r=[],o=1,s=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<n.length?n[a]:null,f=u?u.fromA:1e9;if(f-l>=i)for(;s&&s.from<f;){let h=s;if(l>=h.from||f<=h.to||c){let d=Math.max(h.from,l)-c,p=Math.min(h.to,f)-c;h=d>=p?null:new Bs(d,p,h.tree,h.offset+c,a>0,!!u)}if(h&&r.push(h),s.to>f)break;s=o<e.length?e[o++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return r}}class Yle{startParse(e,n,i){return typeof e=="string"&&(e=new qle(e)),i=i?i.length?i.map(r=>new py(r.from,r.to)):[new py(0,0)]:[new py(0,e.length)],this.createParse(e,n||[],i)}parse(e,n,i){let r=this.startParse(e,n,i);for(;;){let o=r.advance();if(o)return o}}}class qle{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new nt({perNode:!0});let Kle=0;class ur{constructor(e,n,i){this.set=e,this.base=n,this.modified=i,this.id=Kle++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new ur([],null,[]);if(n.set.push(n),e)for(let i of e.set)n.set.push(i);return n}static defineModifier(){let e=new kp;return n=>n.modified.indexOf(e)>-1?n:kp.get(n.base||n,n.modified.concat(e).sort((i,r)=>i.id-r.id))}}let Gle=0;class kp{constructor(){this.instances=[],this.id=Gle++}static get(e,n){if(!n.length)return e;let i=n[0].instances.find(a=>a.base==e&&Xle(n,a.modified));if(i)return i;let r=[],o=new ur(r,e,n);for(let a of n)a.instances.push(o);let s=Jle(n);for(let a of e.set)if(!a.modified.length)for(let l of s)r.push(kp.get(a,l));return o}}function Xle(t,e){return t.length==e.length&&t.every((n,i)=>n==e[i])}function Jle(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort((n,i)=>i.length-n.length)}function Qle(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let r of n.split(" "))if(r){let o=[],s=2,a=r;for(let f=0;;){if(a=="..."&&f>0&&f+3==r.length){s=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!h)throw new RangeError("Invalid path: "+r);if(o.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),f+=h[0].length,f==r.length)break;let d=r[f++];if(f==r.length&&d=="!"){s=0;break}if(d!="/")throw new RangeError("Invalid path: "+r);a=r.slice(f)}let l=o.length-1,c=o[l];if(!c)throw new RangeError("Invalid path: "+r);let u=new Cp(i,s,l>0?o.slice(0,l):null);e[c]=u.sort(e[c])}}return vR.add(e)}const vR=new nt;class Cp{constructor(e,n,i,r){this.tags=e,this.mode=n,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Cp.empty=new Cp([],2,null);function bR(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let s of o.tag)n[s.id]=o.class;let{scope:i,all:r=null}=e||{};return{style:o=>{let s=r;for(let a of o)for(let l of a.set){let c=n[l.id];if(c){s=s?s+" "+c:c;break}}return s},scope:i}}function Zle(t,e){let n=null;for(let i of t){let r=i.style(e);r&&(n=n?n+" "+r:r)}return n}function ece(t,e,n,i=0,r=t.length){let o=new tce(i,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),i,r,"",o.highlighters),o.flush(r)}class tce{constructor(e,n,i){this.at=e,this.highlighters=n,this.span=i,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,i,r,o){let{type:s,from:a,to:l}=e;if(a>=i||l<=n)return;s.isTop&&(o=this.highlighters.filter(d=>!d.scope||d.scope(s)));let c=r,u=nce(e)||Cp.empty,f=Zle(o,u.tags);if(f&&(c&&(c+=" "),c+=f,u.mode==1&&(r+=(r?" ":"")+f)),this.startSpan(e.from,c),u.opaque)return;let h=e.tree&&e.tree.prop(nt.mounted);if(h&&h.overlay){let d=e.node.enter(h.overlay[0].from+a,1),p=this.highlighters.filter(y=>!y.scope||y.scope(h.tree.type)),g=e.firstChild();for(let y=0,m=a;;y++){let b=y<h.overlay.length?h.overlay[y]:null,_=b?b.from+a:l,w=Math.max(n,m),S=Math.min(i,_);if(w<S&&g)for(;e.from<S&&(this.highlightRange(e,w,S,r,o),this.startSpan(Math.min(S,e.to),c),!(e.to>=_||!e.nextSibling())););if(!b||_>i)break;m=b.to+a,m>n&&(this.highlightRange(d.cursor(),Math.max(n,b.from+a),Math.min(i,m),r,p),this.startSpan(m,c))}g&&e.parent()}else if(e.firstChild()){do if(!(e.to<=n)){if(e.from>=i)break;this.highlightRange(e,n,i,r,o),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}function nce(t){let e=t.type.prop(vR);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ge=ur.define,Df=ge(),_o=ge(),HM=ge(_o),VM=ge(_o),wo=ge(),$f=ge(wo),gy=ge(wo),lr=ge(),ps=ge(lr),rr=ge(),or=ge(),gb=ge(),nc=ge(gb),Rf=ge(),be={comment:Df,lineComment:ge(Df),blockComment:ge(Df),docComment:ge(Df),name:_o,variableName:ge(_o),typeName:HM,tagName:ge(HM),propertyName:VM,attributeName:ge(VM),className:ge(_o),labelName:ge(_o),namespace:ge(_o),macroName:ge(_o),literal:wo,string:$f,docString:ge($f),character:ge($f),attributeValue:ge($f),number:gy,integer:ge(gy),float:ge(gy),bool:ge(wo),regexp:ge(wo),escape:ge(wo),color:ge(wo),url:ge(wo),keyword:rr,self:ge(rr),null:ge(rr),atom:ge(rr),unit:ge(rr),modifier:ge(rr),operatorKeyword:ge(rr),controlKeyword:ge(rr),definitionKeyword:ge(rr),moduleKeyword:ge(rr),operator:or,derefOperator:ge(or),arithmeticOperator:ge(or),logicOperator:ge(or),bitwiseOperator:ge(or),compareOperator:ge(or),updateOperator:ge(or),definitionOperator:ge(or),typeOperator:ge(or),controlOperator:ge(or),punctuation:gb,separator:ge(gb),bracket:nc,angleBracket:ge(nc),squareBracket:ge(nc),paren:ge(nc),brace:ge(nc),content:lr,heading:ps,heading1:ge(ps),heading2:ge(ps),heading3:ge(ps),heading4:ge(ps),heading5:ge(ps),heading6:ge(ps),contentSeparator:ge(lr),list:ge(lr),quote:ge(lr),emphasis:ge(lr),strong:ge(lr),link:ge(lr),monospace:ge(lr),strikethrough:ge(lr),inserted:ge(),deleted:ge(),changed:ge(),invalid:ge(),meta:Rf,documentMeta:ge(Rf),annotation:ge(Rf),processingInstruction:ge(Rf),definition:ur.defineModifier(),constant:ur.defineModifier(),function:ur.defineModifier(),standard:ur.defineModifier(),local:ur.defineModifier(),special:ur.defineModifier()};bR([{tag:be.link,class:"tok-link"},{tag:be.heading,class:"tok-heading"},{tag:be.emphasis,class:"tok-emphasis"},{tag:be.strong,class:"tok-strong"},{tag:be.keyword,class:"tok-keyword"},{tag:be.atom,class:"tok-atom"},{tag:be.bool,class:"tok-bool"},{tag:be.url,class:"tok-url"},{tag:be.labelName,class:"tok-labelName"},{tag:be.inserted,class:"tok-inserted"},{tag:be.deleted,class:"tok-deleted"},{tag:be.literal,class:"tok-literal"},{tag:be.string,class:"tok-string"},{tag:be.number,class:"tok-number"},{tag:[be.regexp,be.escape,be.special(be.string)],class:"tok-string2"},{tag:be.variableName,class:"tok-variableName"},{tag:be.local(be.variableName),class:"tok-variableName tok-local"},{tag:be.definition(be.variableName),class:"tok-variableName tok-definition"},{tag:be.special(be.variableName),class:"tok-variableName2"},{tag:be.definition(be.propertyName),class:"tok-propertyName tok-definition"},{tag:be.typeName,class:"tok-typeName"},{tag:be.namespace,class:"tok-namespace"},{tag:be.className,class:"tok-className"},{tag:be.macroName,class:"tok-macroName"},{tag:be.propertyName,class:"tok-propertyName"},{tag:be.operator,class:"tok-operator"},{tag:be.comment,class:"tok-comment"},{tag:be.meta,class:"tok-meta"},{tag:be.invalid,class:"tok-invalid"},{tag:be.punctuation,class:"tok-punctuation"}]);var my;const gc=new nt,ice=new nt;class vr{constructor(e,n,i=[],r=""){this.data=e,this.name=r,it.prototype.hasOwnProperty("tree")||Object.defineProperty(it.prototype,"tree",{get(){return In(this)}}),this.parser=n,this.extension=[Go.of(this),it.languageData.of((o,s,a)=>{let l=jM(o,s,a),c=l.type.prop(gc);if(!c)return[];let u=o.facet(c),f=l.type.prop(ice);if(f){let h=l.resolve(s-l.from,a);for(let d of f)if(d.test(h,o)){let p=o.facet(d.facet);return d.type=="replace"?p:p.concat(u)}}return u})].concat(i)}isActiveAt(e,n,i=-1){return jM(e,n,i).type.prop(gc)==this.data}findRegions(e){let n=e.facet(Go);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let i=[],r=(o,s)=>{if(o.prop(gc)==this.data){i.push({from:s,to:s+o.length});return}let a=o.prop(nt.mounted);if(a){if(a.tree.prop(gc)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+s,to:l.to+s});else i.push({from:s,to:s+o.length});return}else if(a.overlay){let l=i.length;if(r(a.tree,a.overlay[0].from+s),i.length>l)return}}for(let l=0;l<o.children.length;l++){let c=o.children[l];c instanceof Rn&&r(c,o.positions[l]+s)}};return r(In(e),0),i}get allowsNesting(){return!0}}vr.setState=Ke.define();function jM(t,e,n){let i=t.facet(Go),r=In(t).topNode;if(!i||i.allowsNesting)for(let o=r;o;o=o.enter(e,n,Mn.ExcludeBuffers))o.type.isTop&&(r=o);return r}function In(t){let e=t.field(vr.state,!1);return e?e.tree:Rn.empty}class rce{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let i=this.cursorPos-this.string.length;return e<i||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-i,n-i)}}let ic=null;class Op{constructor(e,n,i=[],r,o,s,a,l){this.parser=e,this.state=n,this.fragments=i,this.tree=r,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,i){return new Op(e,n,[],Rn.empty,0,i,[],null)}startParse(){return this.parser.startParse(new rce(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Rn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(Bs.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Bs.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=ic;ic=this;try{return e()}finally{ic=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=zM(e,n.from,n.to);return e}changes(e,n){let{fragments:i,tree:r,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,f,h)=>l.push({fromA:c,toA:u,fromB:f,toB:h})),i=Bs.applyChanges(i,l),r=Rn.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);u<f&&a.push({from:u,to:f})}}}return new Op(this.parser,n,i,r,o,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:o}=this.skipped[i];r<e.to&&o>e.from&&(this.fragments=zM(this.fragments,r,o),this.skipped.splice(i--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends Yle{createParse(n,i,r){let o=r[0].from,s=r[r.length-1].to;return{parsedPos:o,advance(){let l=ic;if(l){for(let c of r)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=s,new Rn(Bi.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return ic}}function zM(t,e,n){return Bs.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class vl{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,i)||n.takeTree(),new vl(n)}static init(e){let n=Math.min(3e3,e.doc.length),i=Op.create(e.facet(Go).parser,e,{from:0,to:n});return i.work(20,n)||i.takeTree(),new vl(i)}}vr.state=xn.define({create:vl.init,update(t,e){for(let n of e.effects)if(n.is(vr.setState))return n.value;return e.startState.facet(Go)!=e.state.facet(Go)?vl.init(e.state):t.apply(e)}});let _R=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(_R=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const yy=typeof navigator<"u"&&(!((my=navigator.scheduling)===null||my===void 0)&&my.isInputPending)?()=>navigator.scheduling.isInputPending():null,oce=on.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(vr.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(vr.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=_R(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,o=i.field(vr.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!yy?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<r&&i.doc.length>r+1e3,l=o.context.work(()=>yy&&yy()||Date.now()>s,r+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:vr.setState.of(new vl(o.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>vi(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Go=De.define({combine(t){return t.length?t[0]:null},enables:t=>[vr.state,oce,Pe.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]}),sce=De.define(),E_=De.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Mp(t){let e=t.facet(E_);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function yu(t,e){let n="",i=t.tabSize,r=t.facet(E_)[0];if(r=="	"){for(;e>=i;)n+="	",e-=i;r=" "}for(let o=0;o<e;o++)n+=r;return n}function I_(t,e){t instanceof it&&(t=new Ig(t));for(let i of t.state.facet(sce)){let r=i(t,e);if(r!==void 0)return r}let n=In(t.state);return n?lce(t,n,e):null}class Ig{constructor(e,n={}){this.state=e,this.options=n,this.unit=Mp(e)}lineAt(e,n=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return r!=null&&r>=i.from&&r<=i.to?o&&r==e?{text:"",from:e}:(n<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,n);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,n=1){let{text:i,from:r}=this.lineAt(e,n),o=this.countColumn(i,e-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(o+=s-this.countColumn(i,i.search(/\S|$/))),o}countColumn(e,n=e.length){return Bu(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:i,from:r}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let s=o(r);if(s>-1)return s}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const ace=new nt;function lce(t,e,n){return wR(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}function cce(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function uce(t){let e=t.type.prop(ace);if(e)return e;let n=t.firstChild,i;if(n&&(i=n.type.prop(nt.closedBy))){let r=t.lastChild,o=r&&i.indexOf(r.name)>-1;return s=>pce(s,!0,1,void 0,o&&!cce(s)?r.from:void 0)}return t.parent==null?fce:null}function wR(t,e,n){for(;t;t=t.parent){let i=uce(t);if(i)return i(L_.create(n,e,t))}return null}function fce(){return 0}class L_ extends Ig{constructor(e,n,i){super(e.state,e.options),this.base=e,this.pos=n,this.node=i}static create(e,n,i){return new L_(e,n,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let n=this.node.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(hce(n,this.node))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?wR(e,this.pos,this.base):0}}function hce(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function dce(t){let e=t.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let r=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=r==null||r<=o.from?o.to:Math.min(o.to,r);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped)return l.from<s?n:null;a=l.to}}function pce(t,e,n,i,r){let o=t.textAfter,s=o.match(/^\s*/)[0].length,a=i&&o.slice(s,s+i.length)==i||r==t.pos+s,l=e?dce(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const gce=200;function mce(){return it.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:i}=t.newSelection.main,r=n.lineAt(i);if(i>r.from+gce)return t;let o=n.sliceString(r.from,i);if(!e.some(c=>c.test(o)))return t;let{state:s}=t,a=-1,l=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==a)continue;a=u.from;let f=I_(s,u.from);if(f==null)continue;let h=/^\s*/.exec(u.text)[0],d=yu(s,f);h!=d&&l.push({from:u.from,to:u.from+h.length,insert:d})}return l.length?[t,{changes:l,sequential:!0}]:t})}const yce=De.define(),vce=new nt;function bce(t,e,n){let i=In(t);if(i.length<n)return null;let r=i.resolveInner(n,1),o=null;for(let s=r;s;s=s.parent){if(s.to<=n||s.from>n)continue;if(o&&s.from<e)break;let a=s.type.prop(vce);if(a&&(s.to<i.length-50||i.length==t.doc.length||!_ce(s))){let l=a(s,t);l&&l.from<=n&&l.from>=e&&l.to>n&&(o=l)}}return o}function _ce(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Ap(t,e,n){for(let i of t.facet(yce)){let r=i(t,e,n);if(r)return r}return bce(t,e,n)}function xR(t,e){let n=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);return n>=i?void 0:{from:n,to:i}}const Lg=Ke.define({map:xR}),Vu=Ke.define({map:xR});function SR(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(i=>i.from<=n&&i.to>=n)||e.push(t.lineBlockAt(n));return e}const Gs=xn.define({create(){return Ne.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)n.is(Lg)&&!wce(t,n.value.from,n.value.to)?t=t.update({add:[WM.range(n.value.from,n.value.to)]}):n.is(Vu)&&(t=t.update({filter:(i,r)=>n.value.from!=i||n.value.to!=r,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:i}=e.selection.main;t.between(i,i,(r,o)=>{r<i&&o>i&&(n=!0)}),n&&(t=t.update({filterFrom:i,filterTo:i,filter:(r,o)=>o<=i||r>=i}))}return t},provide:t=>Pe.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(i,r)=>{n.push(i,r)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let i=t[n++],r=t[n++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(WM.range(i,r))}return Ne.set(e,!0)}});function Pp(t,e,n){var i;let r=null;return(i=t.field(Gs,!1))===null||i===void 0||i.between(e,n,(o,s)=>{(!r||r.from>o)&&(r={from:o,to:s})}),r}function wce(t,e,n){let i=!1;return t.between(e,e,(r,o)=>{r==e&&o==n&&(i=!0)}),i}function kR(t,e){return t.field(Gs,!1)?e:e.concat(Ke.appendConfig.of(MR()))}const xce=t=>{for(let e of SR(t)){let n=Ap(t.state,e.from,e.to);if(n)return t.dispatch({effects:kR(t.state,[Lg.of(n),CR(t,n)])}),!0}return!1},Sce=t=>{if(!t.state.field(Gs,!1))return!1;let e=[];for(let n of SR(t)){let i=Pp(t.state,n.from,n.to);i&&e.push(Vu.of(i),CR(t,i,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function CR(t,e,n=!0){let i=t.state.doc.lineAt(e.from).number,r=t.state.doc.lineAt(e.to).number;return Pe.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${i} ${t.state.phrase("to")} ${r}.`)}const kce=t=>{let{state:e}=t,n=[];for(let i=0;i<e.doc.length;){let r=t.lineBlockAt(i),o=Ap(e,r.from,r.to);o&&n.push(Lg.of(o)),i=(o?t.lineBlockAt(o.to):r).to+1}return n.length&&t.dispatch({effects:kR(t.state,n)}),!!n.length},Cce=t=>{let e=t.state.field(Gs,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(i,r)=>{n.push(Vu.of({from:i,to:r}))}),t.dispatch({effects:n}),!0},Oce=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:xce},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Sce},{key:"Ctrl-Alt-[",run:kce},{key:"Ctrl-Alt-]",run:Cce}],Mce={placeholderDOM:null,placeholderText:""},OR=De.define({combine(t){return Er(t,Mce)}});function MR(t){let e=[Gs,Tce];return t&&e.push(OR.of(t)),e}const WM=Ne.replace({widget:new class extends os{toDOM(t){let{state:e}=t,n=e.facet(OR),i=o=>{let s=t.lineBlockAt(t.posAtDOM(o.target)),a=Pp(t.state,s.from,s.to);a&&t.dispatch({effects:Vu.of(a)}),o.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,i);let r=document.createElement("span");return r.textContent=n.placeholderText,r.setAttribute("aria-label",e.phrase("folded code")),r.title=e.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=i,r}}}),Ace={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class vy extends no{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Pce(t={}){let e=Object.assign(Object.assign({},Ace),t),n=new vy(e,!0),i=new vy(e,!1),r=on.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(Go)!=s.state.facet(Go)||s.startState.field(Gs,!1)!=s.state.field(Gs,!1)||In(s.startState)!=In(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new Uo;for(let l of s.viewportLineBlocks){let c=Pp(s.state,l.from,l.to)?i:Ap(s.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:o}=e;return[r,Dle({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(r))===null||a===void 0?void 0:a.markers)||pt.empty},initialSpacer(){return new vy(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,l)=>{if(o.click&&o.click(s,a,l))return!0;let c=Pp(s.state,a.from,a.to);if(c)return s.dispatch({effects:Vu.of(c)}),!0;let u=Ap(s.state,a.from,a.to);return u?(s.dispatch({effects:Lg.of(u)}),!0):!1}})}),MR()]}const Tce=Pe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ng{constructor(e,n){this.specs=e;let i;function r(a){let l=Yo.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const o=typeof n.all=="string"?n.all:n.all?r(n.all):void 0,s=n.scope;this.scope=s instanceof vr?a=>a.prop(gc)==s.data:s?a=>a==s:void 0,this.style=bR(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=i?new Yo(i):null,this.themeType=n.themeType}static define(e,n){return new Ng(e,n||{})}}const mb=De.define(),AR=De.define({combine(t){return t.length?[t[0]]:null}});function by(t){let e=t.facet(mb);return e.length?e:t.facet(AR)}function Dce(t,e){let n=[Rce],i;return t instanceof Ng&&(t.module&&n.push(Pe.styleModule.of(t.module)),i=t.themeType),e!=null&&e.fallback?n.push(AR.of(t)):i?n.push(mb.computeN([Pe.darkTheme],r=>r.facet(Pe.darkTheme)==(i=="dark")?[t]:[])):n.push(mb.of(t)),n}class $ce{constructor(e){this.markCache=Object.create(null),this.tree=In(e.state),this.decorations=this.buildDeco(e,by(e.state))}update(e){let n=In(e.state),i=by(e.state),r=i!=by(e.startState);n.length<e.view.viewport.to&&!r&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||r)&&(this.tree=n,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,n){if(!n||!this.tree.length)return Ne.none;let i=new Uo;for(let{from:r,to:o}of e.visibleRanges)ece(this.tree,n,(s,a,l)=>{i.add(s,a,this.markCache[l]||(this.markCache[l]=Ne.mark({class:l})))},r,o);return i.finish()}}const Rce=$l.high(on.fromClass($ce,{decorations:t=>t.decorations})),Ece=Ng.define([{tag:be.meta,color:"#404740"},{tag:be.link,textDecoration:"underline"},{tag:be.heading,textDecoration:"underline",fontWeight:"bold"},{tag:be.emphasis,fontStyle:"italic"},{tag:be.strong,fontWeight:"bold"},{tag:be.strikethrough,textDecoration:"line-through"},{tag:be.keyword,color:"#708"},{tag:[be.atom,be.bool,be.url,be.contentSeparator,be.labelName],color:"#219"},{tag:[be.literal,be.inserted],color:"#164"},{tag:[be.string,be.deleted],color:"#a11"},{tag:[be.regexp,be.escape,be.special(be.string)],color:"#e40"},{tag:be.definition(be.variableName),color:"#00f"},{tag:be.local(be.variableName),color:"#30a"},{tag:[be.typeName,be.namespace],color:"#085"},{tag:be.className,color:"#167"},{tag:[be.special(be.variableName),be.macroName],color:"#256"},{tag:be.definition(be.propertyName),color:"#00c"},{tag:be.comment,color:"#940"},{tag:be.invalid,color:"#f00"}]),Ice=Pe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),PR=1e4,TR="()[]{}",DR=De.define({combine(t){return Er(t,{afterCursor:!0,brackets:TR,maxScanDistance:PR,renderMatch:Bce})}}),Lce=Ne.mark({class:"cm-matchingBracket"}),Nce=Ne.mark({class:"cm-nonmatchingBracket"});function Bce(t){let e=[],n=t.matched?Lce:Nce;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const Fce=xn.define({create(){return Ne.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],i=e.state.facet(DR);for(let r of e.state.selection.ranges){if(!r.empty)continue;let o=br(e.state,r.head,-1,i)||r.head>0&&br(e.state,r.head-1,1,i)||i.afterCursor&&(br(e.state,r.head,1,i)||r.head<e.state.doc.length&&br(e.state,r.head+1,-1,i));o&&(n=n.concat(i.renderMatch(o,e.state)))}return Ne.set(n,!0)},provide:t=>Pe.decorations.from(t)}),Hce=[Fce,Ice];function Vce(t={}){return[DR.of(t),Hce]}const jce=new nt;function yb(t,e,n){let i=t.prop(e<0?nt.openedBy:nt.closedBy);if(i)return i;if(t.name.length==1){let r=n.indexOf(t.name);if(r>-1&&r%2==(e<0?1:0))return[n[r+e]]}return null}function vb(t){let e=t.type.prop(jce);return e?e(t.node):t}function br(t,e,n,i={}){let r=i.maxScanDistance||PR,o=i.brackets||TR,s=In(t),a=s.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=yb(l.type,n,o);if(c&&l.from<l.to){let u=vb(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return zce(t,e,n,l,u,c,o)}}return Wce(t,e,n,s,a.type,r,o)}function zce(t,e,n,i,r,o,s){let a=i.parent,l={from:r.from,to:r.to},c=0,u=a==null?void 0:a.cursor();if(u&&(n<0?u.childBefore(i.from):u.childAfter(i.to)))do if(n<0?u.to<=i.from:u.from>=i.to){if(c==0&&o.indexOf(u.type.name)>-1&&u.from<u.to){let f=vb(u);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(yb(u.type,n,s))c++;else if(yb(u.type,-n,s)){if(c==0){let f=vb(u);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function Wce(t,e,n,i,r,o,s){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let h=0;!u.next().done&&h<=o;){let d=u.value;n<0&&(h+=d.length);let p=e+h*n;for(let g=n>0?0:d.length-1,y=n>0?d.length:-1;g!=y;g+=n){let m=s.indexOf(d[g]);if(!(m<0||i.resolveInner(p+g,1).type!=r))if(m%2==0==n>0)f++;else{if(f==1)return{start:c,end:{from:p+g,to:p+g+1},matched:m>>1==l>>1};f--}}n>0&&(h+=d.length)}return u.done?{start:c,matched:!1}:null}const Uce=Object.create(null),UM=[Bi.none],YM=[],Yce=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Yce[t]=qce(Uce,e);function _y(t,e){YM.indexOf(t)>-1||(YM.push(t),console.warn(e))}function qce(t,e){let n=null;for(let o of e.split(".")){let s=t[o]||be[o];s?typeof s=="function"?n?n=s(n):_y(o,`Modifier ${o} used at start of tag`):n?_y(o,`Tag ${o} used as modifier`):n=s:_y(o,`Unknown highlighting tag ${o}`)}if(!n)return 0;let i=e.replace(/ /g,"_"),r=Bi.define({id:UM.length,name:i,props:[Qle({[i]:n})]});return UM.push(r),r.id}const Kce=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),i=B_(t.state,n.from);return i.line?Gce(t):i.block?Jce(t):!1};function N_(t,e){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let r=t(e,n);return r?(i(n.update(r)),!0):!1}}const Gce=N_(eue,0),Xce=N_($R,0),Jce=N_((t,e)=>$R(t,e,Zce(e)),0);function B_(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const rc=50;function Qce(t,{open:e,close:n},i,r){let o=t.sliceDoc(i-rc,i),s=t.sliceDoc(r,r+rc),a=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(s)[0].length,c=o.length-a;if(o.slice(c-e.length,c)==e&&s.slice(l,l+n.length)==n)return{open:{pos:i-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};let u,f;r-i<=2*rc?u=f=t.sliceDoc(i,r):(u=t.sliceDoc(i,i+rc),f=t.sliceDoc(r-rc,r));let h=/^\s*/.exec(u)[0].length,d=/\s*$/.exec(f)[0].length,p=f.length-d-n.length;return u.slice(h,h+e.length)==e&&f.slice(p,p+n.length)==n?{open:{pos:i+h+e.length,margin:/\s/.test(u.charAt(h+e.length))?1:0},close:{pos:r-d-n.length,margin:/\s/.test(f.charAt(p-1))?1:0}}:null}function Zce(t){let e=[];for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),r=n.to<=i.to?i:t.doc.lineAt(n.to),o=e.length-1;o>=0&&e[o].to>i.from?e[o].to=r.to:e.push({from:i.from,to:r.to})}return e}function $R(t,e,n=e.selection.ranges){let i=n.map(o=>B_(e,o.from).block);if(!i.every(o=>o))return null;let r=n.map((o,s)=>Qce(e,i[s],o.from,o.to));if(t!=2&&!r.every(o=>o))return{changes:e.changes(n.map((o,s)=>r[s]?[]:[{from:o.from,insert:i[s].open+" "},{from:o.to,insert:" "+i[s].close}]))};if(t!=1&&r.some(o=>o)){let o=[];for(let s=0,a;s<r.length;s++)if(a=r[s]){let l=i[s],{open:c,close:u}=a;o.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:o}}return null}function eue(t,e,n=e.selection.ranges){let i=[],r=-1;for(let{from:o,to:s}of n){let a=i.length,l=1e9,c=B_(e,o).line;if(c){for(let u=o;u<=s;){let f=e.doc.lineAt(u);if(f.from>r&&(o==s||s>f.from)){r=f.from;let h=/^\s*/.exec(f.text)[0].length,d=h==f.length,p=f.text.slice(h,h+c.length)==c?h:-1;h<f.text.length&&h<l&&(l=h),i.push({line:f,comment:p,token:c,indent:h,empty:d,single:!1})}u=f.to+1}if(l<1e9)for(let u=a;u<i.length;u++)i[u].indent<i[u].line.text.length&&(i[u].indent=l);i.length==a+1&&(i[a].single=!0)}}if(t!=2&&i.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:l,indent:c,empty:u,single:f}of i)(f||!u)&&o.push({from:a.from+c,insert:l+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&i.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:l}of i)if(a>=0){let c=s.from+a,u=c+l.length;s.text[u-s.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}const bb=ao.define(),tue=ao.define(),nue=De.define(),RR=De.define({combine(t){return Er(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(i,r)=>e(i,r)||n(i,r)})}});function iue(t){let e=0;return t.iterChangedRanges((n,i)=>e=i),e}const ER=xn.define({create(){return _r.empty},update(t,e){let n=e.state.facet(RR),i=e.annotation(bb);if(i){let l=e.docChanged?ie.single(iue(e.changes)):void 0,c=ei.fromTransaction(e,l),u=i.side,f=u==0?t.undone:t.done;return c?f=Tp(f,f.length,n.minDepth,c):f=NR(f,e.startState.selection),new _r(u==0?i.rest:f,u==0?f:i.rest)}let r=e.annotation(tue);if((r=="full"||r=="before")&&(t=t.isolate()),e.annotation(un.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=ei.fromTransaction(e),s=e.annotation(un.time),a=e.annotation(un.userEvent);return o?t=t.addChanges(o,s,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,s,a,n.newGroupDelay)),(r=="full"||r=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new _r(t.done.map(ei.fromJSON),t.undone.map(ei.fromJSON))}});function rue(t={}){return[ER,RR.of(t),Pe.domEventHandlers({beforeinput(e,n){let i=e.inputType=="historyUndo"?IR:e.inputType=="historyRedo"?_b:null;return i?(e.preventDefault(),i(n)):!1}})]}function Bg(t,e){return function({state:n,dispatch:i}){if(!e&&n.readOnly)return!1;let r=n.field(ER,!1);if(!r)return!1;let o=r.pop(t,n,e);return o?(i(o),!0):!1}}const IR=Bg(0,!1),_b=Bg(1,!1),oue=Bg(0,!0),sue=Bg(1,!0);class ei{constructor(e,n,i,r,o){this.changes=e,this.effects=n,this.mapped=i,this.startSelection=r,this.selectionsAfter=o}setSelAfter(e){return new ei(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new ei(e.changes&&an.fromJSON(e.changes),[],e.mapped&&Cr.fromJSON(e.mapped),e.startSelection&&ie.fromJSON(e.startSelection),e.selectionsAfter.map(ie.fromJSON))}static fromTransaction(e,n){let i=Ti;for(let r of e.startState.facet(nue)){let o=r(e);o.length&&(i=i.concat(o))}return!i.length&&e.changes.empty?null:new ei(e.changes.invert(e.startState.doc),i,void 0,n||e.startState.selection,Ti)}static selection(e){return new ei(void 0,Ti,void 0,void 0,e)}}function Tp(t,e,n,i){let r=e+1>n+20?e-n-1:0,o=t.slice(r,e);return o.push(i),o}function aue(t,e){let n=[],i=!1;return t.iterChangedRanges((r,o)=>n.push(r,o)),e.iterChangedRanges((r,o,s,a)=>{for(let l=0;l<n.length;){let c=n[l++],u=n[l++];a>=c&&s<=u&&(i=!0)}}),i}function lue(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,i)=>n.empty!=e.ranges[i].empty).length===0}function LR(t,e){return t.length?e.length?t.concat(e):t:e}const Ti=[],cue=200;function NR(t,e){if(t.length){let n=t[t.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-cue));return i.length&&i[i.length-1].eq(e)?t:(i.push(e),Tp(t,t.length-1,1e9,n.setSelAfter(i)))}else return[ei.selection([e])]}function uue(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function wy(t,e){if(!t.length)return t;let n=t.length,i=Ti;for(;n;){let r=fue(t[n-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let o=t.slice(0,n);return o[n-1]=r,o}else e=r.mapped,n--,i=r.selectionsAfter}return i.length?[ei.selection(i)]:Ti}function fue(t,e,n){let i=LR(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):Ti,n);if(!t.changes)return ei.selection(i);let r=t.changes.map(e),o=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(o):o;return new ei(r,Ke.mapEffects(t.effects,e),s,t.startSelection.map(o),i)}const hue=/^(input\.type|delete)($|\.)/;class _r{constructor(e,n,i=0,r=void 0){this.done=e,this.undone=n,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new _r(this.done,this.undone):this}addChanges(e,n,i,r,o){let s=this.done,a=s[s.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!i||hue.test(i))&&(!a.selectionsAfter.length&&n-this.prevTime<r.newGroupDelay&&r.joinToEvent(o,aue(a.changes,e.changes))||i=="input.type.compose")?s=Tp(s,s.length-1,r.minDepth,new ei(e.changes.compose(a.changes),LR(e.effects,a.effects),a.mapped,a.startSelection,Ti)):s=Tp(s,s.length,r.minDepth,e),new _r(s,Ti,n,i)}addSelection(e,n,i,r){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Ti;return o.length>0&&n-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&lue(o[o.length-1],e)?this:new _r(NR(this.done,e),this.undone,n,i)}addMapping(e){return new _r(wy(this.done,e),wy(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let o=r[r.length-1];if(i&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:bb.of({side:e,rest:uue(r)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let s=r.length==1?Ti:r.slice(0,r.length-1);return o.mapped&&(s=wy(s,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:bb.of({side:e,rest:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}_r.empty=new _r(Ti,Ti);const due=[{key:"Mod-z",run:IR,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:_b,preventDefault:!0},{linux:"Ctrl-Shift-z",run:_b,preventDefault:!0},{key:"Mod-u",run:oue,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:sue,preventDefault:!0}];function Rl(t,e){return ie.create(t.ranges.map(e),t.mainIndex)}function Ir(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function tr({state:t,dispatch:e},n){let i=Rl(t.selection,n);return i.eq(t.selection)?!1:(e(Ir(t,i)),!0)}function Fg(t,e){return ie.cursor(e?t.to:t.from)}function BR(t,e){return tr(t,n=>n.empty?t.moveByChar(n,e):Fg(n,e))}function Nn(t){return t.textDirectionAt(t.state.selection.main.head)==Vt.LTR}const FR=t=>BR(t,!Nn(t)),HR=t=>BR(t,Nn(t));function VR(t,e){return tr(t,n=>n.empty?t.moveByGroup(n,e):Fg(n,e))}const pue=t=>VR(t,!Nn(t)),gue=t=>VR(t,Nn(t));function mue(t,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Hg(t,e,n){let i=In(t).resolveInner(e.head),r=n?nt.closedBy:nt.openedBy;for(let l=e.head;;){let c=n?i.childAfter(l):i.childBefore(l);if(!c)break;mue(t,c,r)?i=c:l=n?c.to:c.from}let o=i.type.prop(r),s,a;return o&&(s=n?br(t,i.from,1):br(t,i.to,-1))&&s.matched?a=n?s.end.to:s.end.from:a=n?i.to:i.from,ie.cursor(a,n?-1:1)}const yue=t=>tr(t,e=>Hg(t.state,e,!Nn(t))),vue=t=>tr(t,e=>Hg(t.state,e,Nn(t)));function jR(t,e){return tr(t,n=>{if(!n.empty)return Fg(n,e);let i=t.moveVertically(n,e);return i.head!=n.head?i:t.moveToLineBoundary(n,e)})}const zR=t=>jR(t,!1),WR=t=>jR(t,!0);function UR(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,i=0,r;if(e){for(let o of t.state.facet(Pe.scrollMargins)){let s=o(t);s!=null&&s.top&&(n=Math.max(s==null?void 0:s.top,n)),s!=null&&s.bottom&&(i=Math.max(s==null?void 0:s.bottom,i))}r=t.scrollDOM.clientHeight-n-i}else r=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:i,selfScroll:e,height:Math.max(t.defaultLineHeight,r-5)}}function YR(t,e){let n=UR(t),{state:i}=t,r=Rl(i.selection,s=>s.empty?t.moveVertically(s,e,n.height):Fg(s,e));if(r.eq(i.selection))return!1;let o;if(n.selfScroll){let s=t.coordsAtPos(i.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;s&&s.top>l&&s.bottom<c&&(o=Pe.scrollIntoView(r.main.head,{y:"start",yMargin:s.top-l}))}return t.dispatch(Ir(i,r),{effects:o}),!0}const qM=t=>YR(t,!1),wb=t=>YR(t,!0);function ss(t,e,n){let i=t.lineBlockAt(e.head),r=t.moveToLineBoundary(e,n);if(r.head==e.head&&r.head!=(n?i.to:i.from)&&(r=t.moveToLineBoundary(e,n,!1)),!n&&r.head==i.from&&i.length){let o=/^\s*/.exec(t.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;o&&e.head!=i.from+o&&(r=ie.cursor(i.from+o))}return r}const bue=t=>tr(t,e=>ss(t,e,!0)),_ue=t=>tr(t,e=>ss(t,e,!1)),wue=t=>tr(t,e=>ss(t,e,!Nn(t))),xue=t=>tr(t,e=>ss(t,e,Nn(t))),Sue=t=>tr(t,e=>ie.cursor(t.lineBlockAt(e.head).from,1)),kue=t=>tr(t,e=>ie.cursor(t.lineBlockAt(e.head).to,-1));function Cue(t,e,n){let i=!1,r=Rl(t.selection,o=>{let s=br(t,o.head,-1)||br(t,o.head,1)||o.head>0&&br(t,o.head-1,1)||o.head<t.doc.length&&br(t,o.head+1,-1);if(!s||!s.end)return o;i=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return n?ie.range(o.anchor,a):ie.cursor(a)});return i?(e(Ir(t,r)),!0):!1}const Oue=({state:t,dispatch:e})=>Cue(t,e,!1);function zi(t,e){let n=Rl(t.state.selection,i=>{let r=e(i);return ie.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Ir(t.state,n)),!0)}function qR(t,e){return zi(t,n=>t.moveByChar(n,e))}const KR=t=>qR(t,!Nn(t)),GR=t=>qR(t,Nn(t));function XR(t,e){return zi(t,n=>t.moveByGroup(n,e))}const Mue=t=>XR(t,!Nn(t)),Aue=t=>XR(t,Nn(t)),Pue=t=>zi(t,e=>Hg(t.state,e,!Nn(t))),Tue=t=>zi(t,e=>Hg(t.state,e,Nn(t)));function JR(t,e){return zi(t,n=>t.moveVertically(n,e))}const QR=t=>JR(t,!1),ZR=t=>JR(t,!0);function eE(t,e){return zi(t,n=>t.moveVertically(n,e,UR(t).height))}const KM=t=>eE(t,!1),GM=t=>eE(t,!0),Due=t=>zi(t,e=>ss(t,e,!0)),$ue=t=>zi(t,e=>ss(t,e,!1)),Rue=t=>zi(t,e=>ss(t,e,!Nn(t))),Eue=t=>zi(t,e=>ss(t,e,Nn(t))),Iue=t=>zi(t,e=>ie.cursor(t.lineBlockAt(e.head).from)),Lue=t=>zi(t,e=>ie.cursor(t.lineBlockAt(e.head).to)),XM=({state:t,dispatch:e})=>(e(Ir(t,{anchor:0})),!0),JM=({state:t,dispatch:e})=>(e(Ir(t,{anchor:t.doc.length})),!0),QM=({state:t,dispatch:e})=>(e(Ir(t,{anchor:t.selection.main.anchor,head:0})),!0),ZM=({state:t,dispatch:e})=>(e(Ir(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Nue=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),Bue=({state:t,dispatch:e})=>{let n=jg(t).map(({from:i,to:r})=>ie.range(i,Math.min(r+1,t.doc.length)));return e(t.update({selection:ie.create(n),userEvent:"select"})),!0},Fue=({state:t,dispatch:e})=>{let n=Rl(t.selection,i=>{var r;let o=In(t).resolveInner(i.head,1);for(;!(o.from<i.from&&o.to>=i.to||o.to>i.to&&o.from<=i.from||!(!((r=o.parent)===null||r===void 0)&&r.parent));)o=o.parent;return ie.range(o.to,o.from)});return e(Ir(t,n)),!0},Hue=({state:t,dispatch:e})=>{let n=t.selection,i=null;return n.ranges.length>1?i=ie.create([n.main]):n.main.empty||(i=ie.create([ie.cursor(n.main.head)])),i?(e(Ir(t,i)),!0):!1};function Vg(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:i}=t,r=i.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let l=e(s);l<s?(n="delete.backward",l=Ef(t,l,!1)):l>s&&(n="delete.forward",l=Ef(t,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=Ef(t,s,!1),a=Ef(t,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:ie.cursor(s)}});return r.changes.empty?!1:(t.dispatch(i.update(r,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Pe.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Ef(t,e,n){if(t instanceof Pe)for(let i of t.state.facet(Pe.atomicRanges).map(r=>r(t)))i.between(e,e,(r,o)=>{r<e&&o>e&&(e=n?o:r)});return e}const tE=(t,e)=>Vg(t,n=>{let{state:i}=t,r=i.doc.lineAt(n),o,s;if(!e&&n>r.from&&n<r.from+200&&!/[^ \t]/.test(o=r.text.slice(0,n-r.from))){if(o[o.length-1]=="	")return n-1;let a=Bu(o,i.tabSize),l=a%Mp(i)||Mp(i);for(let c=0;c<l&&o[o.length-1-c]==" ";c++)n--;s=n}else s=Un(r.text,n-r.from,e,e)+r.from,s==n&&r.number!=(e?i.doc.lines:1)&&(s+=e?1:-1);return s}),xb=t=>tE(t,!1),nE=t=>tE(t,!0),iE=(t,e)=>Vg(t,n=>{let i=n,{state:r}=t,o=r.doc.lineAt(i),s=r.charCategorizer(i);for(let a=null;;){if(i==(e?o.to:o.from)){i==n&&o.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let l=Un(o.text,i-o.from,e)+o.from,c=o.text.slice(Math.min(i,l)-o.from,Math.max(i,l)-o.from),u=s(c);if(a!=null&&u!=a)break;(c!=" "||i!=n)&&(a=u),i=l}return i}),rE=t=>iE(t,!1),Vue=t=>iE(t,!0),oE=t=>Vg(t,e=>{let n=t.lineBlockAt(e).to;return e<n?n:Math.min(t.state.doc.length,e+1)}),jue=t=>Vg(t,e=>{let n=t.lineBlockAt(e).from;return e>n?n:Math.max(0,e-1)}),zue=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:ct.of(["",""])},range:ie.cursor(i.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},Wue=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(i=>{if(!i.empty||i.from==0||i.from==t.doc.length)return{range:i};let r=i.from,o=t.doc.lineAt(r),s=r==o.from?r-1:Un(o.text,r-o.from,!1)+o.from,a=r==o.to?r+1:Un(o.text,r-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:t.doc.slice(r,a).append(t.doc.slice(s,r))},range:ie.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function jg(t){let e=[],n=-1;for(let i of t.selection.ranges){let r=t.doc.lineAt(i.from),o=t.doc.lineAt(i.to);if(!i.empty&&i.to==o.from&&(o=t.doc.lineAt(i.to-1)),n>=r.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(i)}else e.push({from:r.from,to:o.to,ranges:[i]});n=o.number+1}return e}function sE(t,e,n){if(t.readOnly)return!1;let i=[],r=[];for(let o of jg(t)){if(n?o.to==t.doc.length:o.from==0)continue;let s=t.doc.lineAt(n?o.to+1:o.from-1),a=s.length+1;if(n){i.push({from:o.to,to:s.to},{from:o.from,insert:s.text+t.lineBreak});for(let l of o.ranges)r.push(ie.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{i.push({from:s.from,to:o.from},{from:o.to,insert:t.lineBreak+s.text});for(let l of o.ranges)r.push(ie.range(l.anchor-a,l.head-a))}}return i.length?(e(t.update({changes:i,scrollIntoView:!0,selection:ie.create(r,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Uue=({state:t,dispatch:e})=>sE(t,e,!1),Yue=({state:t,dispatch:e})=>sE(t,e,!0);function aE(t,e,n){if(t.readOnly)return!1;let i=[];for(let r of jg(t))n?i.push({from:r.from,insert:t.doc.slice(r.from,r.to)+t.lineBreak}):i.push({from:r.to,insert:t.lineBreak+t.doc.slice(r.from,r.to)});return e(t.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const que=({state:t,dispatch:e})=>aE(t,e,!1),Kue=({state:t,dispatch:e})=>aE(t,e,!0),Gue=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(jg(e).map(({from:r,to:o})=>(r>0?r--:o<e.doc.length&&o++,{from:r,to:o}))),i=Rl(e.selection,r=>t.moveVertically(r,!0)).map(n);return t.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Xue(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=In(t).resolveInner(e),i=n.childBefore(e),r=n.childAfter(e),o;return i&&r&&i.to<=e&&r.from>=e&&(o=i.type.prop(nt.closedBy))&&o.indexOf(r.name)>-1&&t.doc.lineAt(i.to).from==t.doc.lineAt(r.from).from?{from:i.to,to:r.from}:null}const Jue=lE(!1),Que=lE(!0);function lE(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:o,to:s}=r,a=e.doc.lineAt(o),l=!t&&o==s&&Xue(e,o);t&&(o=s=(s<=a.to?a:e.doc.lineAt(s)).to);let c=new Ig(e,{simulateBreak:o,simulateDoubleBreak:!!l}),u=I_(c,o);for(u==null&&(u=/^\s*/.exec(e.doc.lineAt(o).text)[0].length);s<a.to&&/\s/.test(a.text[s-a.from]);)s++;l?{from:o,to:s}=l:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let f=["",yu(e,u)];return l&&f.push(yu(e,c.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:ct.of(f)},range:ie.cursor(o+1+f[1].length)}});return n(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function F_(t,e){let n=-1;return t.changeByRange(i=>{let r=[];for(let s=i.from;s<=i.to;){let a=t.doc.lineAt(s);a.number>n&&(i.empty||i.to>a.from)&&(e(a,r,i),n=a.number),s=a.to+1}let o=t.changes(r);return{changes:r,range:ie.range(o.mapPos(i.anchor,1),o.mapPos(i.head,1))}})}const Zue=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),i=new Ig(t,{overrideIndentation:o=>{let s=n[o];return s??-1}}),r=F_(t,(o,s,a)=>{let l=I_(i,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let c=/^\s*/.exec(o.text)[0],u=yu(t,l);(c!=u||a.from<o.from+c.length)&&(n[o.from]=l,s.push({from:o.from,to:o.from+c.length,insert:u}))});return r.changes.empty||e(t.update(r,{userEvent:"indent"})),!0},cE=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(F_(t,(n,i)=>{i.push({from:n.from,insert:t.facet(E_)})}),{userEvent:"input.indent"})),!0),uE=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(F_(t,(n,i)=>{let r=/^\s*/.exec(n.text)[0];if(!r)return;let o=Bu(r,t.tabSize),s=0,a=yu(t,Math.max(0,o-Mp(t)));for(;s<r.length&&s<a.length&&r.charCodeAt(s)==a.charCodeAt(s);)s++;i.push({from:n.from+s,to:n.from+r.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),efe=[{key:"Ctrl-b",run:FR,shift:KR,preventDefault:!0},{key:"Ctrl-f",run:HR,shift:GR},{key:"Ctrl-p",run:zR,shift:QR},{key:"Ctrl-n",run:WR,shift:ZR},{key:"Ctrl-a",run:Sue,shift:Iue},{key:"Ctrl-e",run:kue,shift:Lue},{key:"Ctrl-d",run:nE},{key:"Ctrl-h",run:xb},{key:"Ctrl-k",run:oE},{key:"Ctrl-Alt-h",run:rE},{key:"Ctrl-o",run:zue},{key:"Ctrl-t",run:Wue},{key:"Ctrl-v",run:wb}],tfe=[{key:"ArrowLeft",run:FR,shift:KR,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:pue,shift:Mue,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:wue,shift:Rue,preventDefault:!0},{key:"ArrowRight",run:HR,shift:GR,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:gue,shift:Aue,preventDefault:!0},{mac:"Cmd-ArrowRight",run:xue,shift:Eue,preventDefault:!0},{key:"ArrowUp",run:zR,shift:QR,preventDefault:!0},{mac:"Cmd-ArrowUp",run:XM,shift:QM},{mac:"Ctrl-ArrowUp",run:qM,shift:KM},{key:"ArrowDown",run:WR,shift:ZR,preventDefault:!0},{mac:"Cmd-ArrowDown",run:JM,shift:ZM},{mac:"Ctrl-ArrowDown",run:wb,shift:GM},{key:"PageUp",run:qM,shift:KM},{key:"PageDown",run:wb,shift:GM},{key:"Home",run:_ue,shift:$ue,preventDefault:!0},{key:"Mod-Home",run:XM,shift:QM},{key:"End",run:bue,shift:Due,preventDefault:!0},{key:"Mod-End",run:JM,shift:ZM},{key:"Enter",run:Jue},{key:"Mod-a",run:Nue},{key:"Backspace",run:xb,shift:xb},{key:"Delete",run:nE},{key:"Mod-Backspace",mac:"Alt-Backspace",run:rE},{key:"Mod-Delete",mac:"Alt-Delete",run:Vue},{mac:"Mod-Backspace",run:jue},{mac:"Mod-Delete",run:oE}].concat(efe.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),nfe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:yue,shift:Pue},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:vue,shift:Tue},{key:"Alt-ArrowUp",run:Uue},{key:"Shift-Alt-ArrowUp",run:que},{key:"Alt-ArrowDown",run:Yue},{key:"Shift-Alt-ArrowDown",run:Kue},{key:"Escape",run:Hue},{key:"Mod-Enter",run:Que},{key:"Alt-l",mac:"Ctrl-l",run:Bue},{key:"Mod-i",run:Fue,preventDefault:!0},{key:"Mod-[",run:uE},{key:"Mod-]",run:cE},{key:"Mod-Alt-\\",run:Zue},{key:"Shift-Mod-k",run:Gue},{key:"Shift-Mod-\\",run:Oue},{key:"Mod-/",run:Kce},{key:"Alt-A",run:Xce}].concat(tfe),ife={key:"Tab",run:cE,shift:uE};function St(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i];typeof r=="string"?t.setAttribute(i,r):r!=null&&(t[i]=r)}e++}for(;e<arguments.length;e++)fE(t,arguments[e]);return t}function fE(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)fE(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const eA=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class bl{constructor(e,n,i=0,r=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=o?a=>o(eA(a)):eA,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return yn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=b_(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=Pi(e);let r=this.normalize(n);for(let o=0,s=i;;o++){let a=r.charCodeAt(o),l=this.match(a,s);if(l)return this.value=l,this;if(o==r.length-1)break;s==i&&o<n.length&&n.charCodeAt(o)==a&&s++}}}match(e,n){let i=null;for(let r=0;r<this.matches.length;r+=2){let o=this.matches[r],s=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[r+1],to:n+1}:(this.matches[r]++,s=!0)),s||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:n+1}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferPos)&&(i=null),i}}typeof Symbol<"u"&&(bl.prototype[Symbol.iterator]=function(){return this});const hE={from:-1,to:-1,match:/.*/.exec("")},H_="gm"+(/x/.unicode==null?"":"u");class dE{constructor(e,n,i,r=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=hE,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new pE(e,n,i,r,o);this.re=new RegExp(n,H_+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let s=e.lineAt(r);this.curLineStart=s.from,this.matchPos=Dp(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let i=this.curLineStart+n.index,r=i+n[0].length;if(this.matchPos=Dp(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,n)))return this.value={from:i,to:r,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const xy=new WeakMap;class Va{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,i){let r=xy.get(e);if(!r||r.from>=i||r.to<=n){let a=new Va(n,e.sliceString(n,i));return xy.set(e,a),a}if(r.from==n&&r.to==i)return r;let{text:o,from:s}=r;return s>n&&(o=e.sliceString(n,s)+o,s=n),r.to<i&&(o+=e.sliceString(r.to,i)),xy.set(e,new Va(s,o)),new Va(n,o.slice(n-s,i-s))}}class pE{constructor(e,n,i,r,o){this.text=e,this.to=o,this.done=!1,this.value=hE,this.matchPos=Dp(e,r),this.re=new RegExp(n,H_+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=Va.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let i=this.flat.from+n.index,r=i+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,n)))return this.value={from:i,to:r,match:n},this.matchPos=Dp(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Va.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(dE.prototype[Symbol.iterator]=pE.prototype[Symbol.iterator]=function(){return this});function rfe(t){try{return new RegExp(t,H_),!0}catch{return!1}}function Dp(t,e){if(e>=t.length)return e;let n=t.lineAt(e),i;for(;e<n.to&&(i=n.text.charCodeAt(e-n.from))>=56320&&i<57344;)e++;return e}function Sb(t){let e=St("input",{class:"cm-textfield",name:"line"}),n=St("form",{class:"cm-gotoLine",onkeydown:r=>{r.keyCode==27?(r.preventDefault(),t.dispatch({effects:$p.of(!1)}),t.focus()):r.keyCode==13&&(r.preventDefault(),i())},onsubmit:r=>{r.preventDefault(),i()}},St("label",t.state.phrase("Go to line"),": ",e)," ",St("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!r)return;let{state:o}=t,s=o.doc.lineAt(o.selection.main.head),[,a,l,c,u]=r,f=c?+c.slice(1):0,h=l?+l:s.number;if(l&&u){let p=h/100;a&&(p=p*(a=="-"?-1:1)+s.number/o.doc.lines),h=Math.round(o.doc.lines*p)}else l&&a&&(h=h*(a=="-"?-1:1)+s.number);let d=o.doc.line(Math.max(1,Math.min(o.doc.lines,h)));t.dispatch({effects:$p.of(!1),selection:ie.cursor(d.from+Math.max(0,Math.min(f,d.length))),scrollIntoView:!0}),t.focus()}return{dom:n}}const $p=Ke.define(),tA=xn.define({create(){return!0},update(t,e){for(let n of e.effects)n.is($p)&&(t=n.value);return t},provide:t=>mu.from(t,e=>e?Sb:null)}),ofe=t=>{let e=gu(t,Sb);if(!e){let n=[$p.of(!0)];t.state.field(tA,!1)==null&&n.push(Ke.appendConfig.of([tA,sfe])),t.dispatch({effects:n}),e=gu(t,Sb)}return e&&e.dom.querySelector("input").focus(),!0},sfe=Pe.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),afe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},gE=De.define({combine(t){return Er(t,afe,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function lfe(t){let e=[dfe,hfe];return t&&e.push(gE.of(t)),e}const cfe=Ne.mark({class:"cm-selectionMatch"}),ufe=Ne.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function nA(t,e,n,i){return(n==0||t(e.sliceDoc(n-1,n))!=Nt.Word)&&(i==e.doc.length||t(e.sliceDoc(i,i+1))!=Nt.Word)}function ffe(t,e,n,i){return t(e.sliceDoc(n,n+1))==Nt.Word&&t(e.sliceDoc(i-1,i))==Nt.Word}const hfe=on.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(gE),{state:n}=t,i=n.selection;if(i.ranges.length>1)return Ne.none;let r=i.main,o,s=null;if(r.empty){if(!e.highlightWordAroundCursor)return Ne.none;let l=n.wordAt(r.head);if(!l)return Ne.none;s=n.charCategorizer(r.head),o=n.sliceDoc(l.from,l.to)}else{let l=r.to-r.from;if(l<e.minSelectionLength||l>200)return Ne.none;if(e.wholeWords){if(o=n.sliceDoc(r.from,r.to),s=n.charCategorizer(r.head),!(nA(s,n,r.from,r.to)&&ffe(s,n,r.from,r.to)))return Ne.none}else if(o=n.sliceDoc(r.from,r.to).trim(),!o)return Ne.none}let a=[];for(let l of t.visibleRanges){let c=new bl(n.doc,o,l.from,l.to);for(;!c.next().done;){let{from:u,to:f}=c.value;if((!s||nA(s,n,u,f))&&(r.empty&&u<=r.from&&f>=r.to?a.push(ufe.range(u,f)):(u>=r.to||f<=r.from)&&a.push(cfe.range(u,f)),a.length>e.maxMatches))return Ne.none}}return Ne.set(a)}},{decorations:t=>t.decorations}),dfe=Pe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),pfe=({state:t,dispatch:e})=>{let{selection:n}=t,i=ie.create(n.ranges.map(r=>t.wordAt(r.head)||ie.cursor(r.head)),n.mainIndex);return i.eq(n)?!1:(e(t.update({selection:i})),!0)};function gfe(t,e){let{main:n,ranges:i}=t.selection,r=t.wordAt(n.head),o=r&&r.from==n.from&&r.to==n.to;for(let s=!1,a=new bl(t.doc,e,i[i.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new bl(t.doc,e,0,Math.max(0,i[i.length-1].from-1)),s=!0}else{if(s&&i.some(l=>l.from==a.value.from))continue;if(o){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const mfe=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(o=>o.from===o.to))return pfe({state:t,dispatch:e});let i=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(o=>t.sliceDoc(o.from,o.to)!=i))return!1;let r=gfe(t,i);return r?(e(t.update({selection:t.selection.addRange(ie.range(r.from,r.to),!1),effects:Pe.scrollIntoView(r.to)})),!0):!1},El=De.define({combine(t){return Er(t,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new Afe(e),scrollToMatch:e=>Pe.scrollIntoView(e)})}});class mE{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||rfe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new _fe(this):new vfe(this)}getCursor(e,n=0,i){let r=e.doc?e:it.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?Ca(this,r,n,i):ka(this,r,n,i)}}class yE{constructor(e){this.spec=e}}function ka(t,e,n,i){return new bl(e.doc,t.unquoted,n,i,t.caseSensitive?void 0:r=>r.toLowerCase(),t.wholeWord?yfe(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function yfe(t,e){return(n,i,r,o)=>((o>n||o+r.length<i)&&(o=Math.max(0,n-2),r=t.sliceString(o,Math.min(t.length,i+2))),(e(Rp(r,n-o))!=Nt.Word||e(Ep(r,n-o))!=Nt.Word)&&(e(Ep(r,i-o))!=Nt.Word||e(Rp(r,i-o))!=Nt.Word))}class vfe extends yE{constructor(e){super(e)}nextMatch(e,n,i){let r=ka(this.spec,e,i,e.doc.length).nextOverlapping();return r.done&&(r=ka(this.spec,e,0,n).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,n,i){for(let r=i;;){let o=Math.max(n,r-1e4-this.spec.unquoted.length),s=ka(this.spec,e,o,r),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==n)return null;r-=1e4}}prevMatch(e,n,i){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let i=ka(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=n)return null;r.push(i.value)}return r}highlight(e,n,i,r){let o=ka(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}function Ca(t,e,n,i){return new dE(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?bfe(e.charCategorizer(e.selection.main.head)):void 0},n,i)}function Rp(t,e){return t.slice(Un(t,e,!1),e)}function Ep(t,e){return t.slice(e,Un(t,e))}function bfe(t){return(e,n,i)=>!i[0].length||(t(Rp(i.input,i.index))!=Nt.Word||t(Ep(i.input,i.index))!=Nt.Word)&&(t(Ep(i.input,i.index+i[0].length))!=Nt.Word||t(Rp(i.input,i.index+i[0].length))!=Nt.Word)}class _fe extends yE{nextMatch(e,n,i){let r=Ca(this.spec,e,i,e.doc.length).next();return r.done&&(r=Ca(this.spec,e,0,n).next()),r.done?null:r.value}prevMatchInRange(e,n,i){for(let r=1;;r++){let o=Math.max(n,i-r*1e4),s=Ca(this.spec,e,o,i),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==n||a.from>o+10))return a;if(o==n)return null}}prevMatch(e,n,i){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(n,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:n))}matchAll(e,n){let i=Ca(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=n)return null;r.push(i.value)}return r}highlight(e,n,i,r){let o=Ca(this.spec,e,Math.max(0,n-250),Math.min(i+250,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}const vu=Ke.define(),V_=Ke.define(),Eo=xn.define({create(t){return new Sy(kb(t).create(),null)},update(t,e){for(let n of e.effects)n.is(vu)?t=new Sy(n.value.create(),t.panel):n.is(V_)&&(t=new Sy(t.query,n.value?j_:null));return t},provide:t=>mu.from(t,e=>e.panel)});class Sy{constructor(e,n){this.query=e,this.panel=n}}const wfe=Ne.mark({class:"cm-searchMatch"}),xfe=Ne.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Sfe=on.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Eo))}update(t){let e=t.state.field(Eo);(e!=t.startState.field(Eo)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Ne.none;let{view:n}=this,i=new Uo;for(let r=0,o=n.visibleRanges,s=o.length;r<s;r++){let{from:a,to:l}=o[r];for(;r<s-1&&l>o[r+1].from-2*250;)l=o[++r].to;t.highlight(n.state,a,l,(c,u)=>{let f=n.state.selection.ranges.some(h=>h.from==c&&h.to==u);i.add(c,u,f?xfe:wfe)})}return i.finish()}},{decorations:t=>t.decorations});function ju(t){return e=>{let n=e.state.field(Eo,!1);return n&&n.query.spec.valid?t(e,n):vE(e)}}const Ip=ju((t,{query:e})=>{let{to:n}=t.state.selection.main,i=e.nextMatch(t.state,n,n);if(!i)return!1;let r=ie.single(i.from,i.to),o=t.state.facet(El);return t.dispatch({selection:r,effects:[z_(t,i),o.scrollToMatch(r.main)],userEvent:"select.search"}),!0}),Lp=ju((t,{query:e})=>{let{state:n}=t,{from:i}=n.selection.main,r=e.prevMatch(n,i,i);if(!r)return!1;let o=ie.single(r.from,r.to),s=t.state.facet(El);return t.dispatch({selection:o,effects:[z_(t,r),s.scrollToMatch(o.main)],userEvent:"select.search"}),!0}),kfe=ju((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:ie.create(n.map(i=>ie.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),Cfe=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:i,to:r}=n.main,o=[],s=0;for(let a=new bl(t.doc,t.sliceDoc(i,r));!a.next().done;){if(o.length>1e3)return!1;a.value.from==i&&(s=o.length),o.push(ie.range(a.value.from,a.value.to))}return e(t.update({selection:ie.create(o,s),userEvent:"select.search.matches"})),!0},iA=ju((t,{query:e})=>{let{state:n}=t,{from:i,to:r}=n.selection.main;if(n.readOnly)return!1;let o=e.nextMatch(n,i,i);if(!o)return!1;let s=[],a,l,c=[];if(o.from==i&&o.to==r&&(l=n.toText(e.getReplacement(o)),s.push({from:o.from,to:o.to,insert:l}),o=e.nextMatch(n,o.from,o.to),c.push(Pe.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(i).number)+"."))),o){let u=s.length==0||s[0].from>=o.to?0:o.to-o.from-l.length;a=ie.single(o.from-u,o.to-u),c.push(z_(t,o)),c.push(n.facet(El).scrollToMatch(a.main))}return t.dispatch({changes:s,selection:a,effects:c,userEvent:"input.replace"}),!0}),Ofe=ju((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(r=>{let{from:o,to:s}=r;return{from:o,to:s,insert:e.getReplacement(r)}});if(!n.length)return!1;let i=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Pe.announce.of(i),userEvent:"input.replace.all"}),!0});function j_(t){return t.state.facet(El).createPanel(t)}function kb(t,e){var n,i,r,o;let s=t.selection.main,a=s.empty||s.to>s.from+100?"":t.sliceDoc(s.from,s.to);if(e&&!a)return e;let l=t.facet(El);return new mE({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:l.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:l.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:l.literal,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:l.wholeWord})}const vE=t=>{let e=t.state.field(Eo,!1);if(e&&e.panel){let n=gu(t,j_);if(!n)return!1;let i=n.dom.querySelector("[main-field]");if(i&&i!=t.root.activeElement){let r=kb(t.state,e.query.spec);r.valid&&t.dispatch({effects:vu.of(r)}),i.focus(),i.select()}}else t.dispatch({effects:[V_.of(!0),e?vu.of(kb(t.state,e.query.spec)):Ke.appendConfig.of(Tfe)]});return!0},bE=t=>{let e=t.state.field(Eo,!1);if(!e||!e.panel)return!1;let n=gu(t,j_);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:V_.of(!1)}),!0},Mfe=[{key:"Mod-f",run:vE,scope:"editor search-panel"},{key:"F3",run:Ip,shift:Lp,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Ip,shift:Lp,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:bE,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Cfe},{key:"Alt-g",run:ofe},{key:"Mod-d",run:mfe,preventDefault:!0}];class Afe{constructor(e){this.view=e;let n=this.query=e.state.field(Eo).query.spec;this.commit=this.commit.bind(this),this.searchField=St("input",{value:n.search,placeholder:oi(e,"Find"),"aria-label":oi(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=St("input",{value:n.replace,placeholder:oi(e,"Replace"),"aria-label":oi(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=St("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=St("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=St("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function i(r,o,s){return St("button",{class:"cm-button",name:r,onclick:o,type:"button"},s)}this.dom=St("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>Ip(e),[oi(e,"next")]),i("prev",()=>Lp(e),[oi(e,"previous")]),i("select",()=>kfe(e),[oi(e,"all")]),St("label",null,[this.caseField,oi(e,"match case")]),St("label",null,[this.reField,oi(e,"regexp")]),St("label",null,[this.wordField,oi(e,"by word")]),...e.state.readOnly?[]:[St("br"),this.replaceField,i("replace",()=>iA(e),[oi(e,"replace")]),i("replaceAll",()=>Ofe(e),[oi(e,"replace all")])],St("button",{name:"close",onclick:()=>bE(e),"aria-label":oi(e,"close"),type:"button"},[""])])}commit(){let e=new mE({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:vu.of(e)}))}keydown(e){jae(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Lp:Ip)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),iA(this.view))}update(e){for(let n of e.transactions)for(let i of n.effects)i.is(vu)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(El).top}}function oi(t,e){return t.state.phrase(e)}const If=30,Lf=/[\s\.,:;?!]/;function z_(t,{from:e,to:n}){let i=t.state.doc.lineAt(e),r=t.state.doc.lineAt(n).to,o=Math.max(i.from,e-If),s=Math.min(r,n+If),a=t.state.sliceDoc(o,s);if(o!=i.from){for(let l=0;l<If;l++)if(!Lf.test(a[l+1])&&Lf.test(a[l])){a=a.slice(l);break}}if(s!=r){for(let l=a.length-1;l>a.length-If;l--)if(!Lf.test(a[l-1])&&Lf.test(a[l])){a=a.slice(0,l);break}}return Pe.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${i.number}.`)}const Pfe=Pe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Tfe=[Eo,$l.lowest(Sfe),Pfe];class _E{constructor(e,n,i){this.state=e,this.pos=n,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let n=In(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),i=Math.max(n.from,this.pos-250),r=n.text.slice(i-n.from,this.pos-n.from),o=r.search(wE(e,!1));return o<0?null:{from:i+o,to:this.pos,text:r.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function rA(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Dfe(t){let e=Object.create(null),n=Object.create(null);for(let{label:r}of t){e[r[0]]=!0;for(let o=1;o<r.length;o++)n[r[o]]=!0}let i=rA(e)+rA(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function $fe(t){let e=t.map(r=>typeof r=="string"?{label:r}:r),[n,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:Dfe(e);return r=>{let o=r.matchBefore(i);return o||r.explicit?{from:o?o.from:r.pos,options:e,validFor:n}:null}}class oA{constructor(e,n,i){this.completion=e,this.source=n,this.match=i}}function Io(t){return t.selection.main.head}function wE(t,e){var n;let{source:i}=t,r=e&&i[0]!="^",o=i[i.length-1]!="$";return!r&&!o?t:new RegExp(`${r?"^":""}(?:${i})${o?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const Rfe=ao.define();function Efe(t,e,n,i){return Object.assign(Object.assign({},t.changeByRange(r=>{if(r==t.selection.main)return{changes:{from:n,to:i,insert:e},range:ie.cursor(n+e.length)};let o=i-n;return!r.empty||o&&t.sliceDoc(r.from-o,r.from)!=t.sliceDoc(n,i)?{range:r}:{changes:{from:r.from-o,to:r.from,insert:e},range:ie.cursor(r.from-o+e.length)}})),{userEvent:"input.complete"})}function xE(t,e){const n=e.completion.apply||e.completion.label;let i=e.source;typeof n=="string"?t.dispatch(Object.assign(Object.assign({},Efe(t.state,n,i.from,i.to)),{annotations:Rfe.of(e.completion)})):n(t,e.completion,i.from,i.to)}const sA=new WeakMap;function Ife(t){if(!Array.isArray(t))return t;let e=sA.get(t);return e||sA.set(t,e=$fe(t)),e}class Lfe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let n=0;n<e.length;){let i=yn(e,n),r=Pi(i);this.chars.push(i);let o=e.slice(n,n+r),s=o.toUpperCase();this.folded.push(yn(s==o?o.toLowerCase():s,0)),n+=r}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;let{chars:n,folded:i,any:r,precise:o,byWord:s}=this;if(n.length==1){let b=yn(e,0),_=Pi(b),w=_==e.length?0:-100;if(b!=n[0])if(b==i[0])w+=-200;else return null;return[w,0,_]}let a=e.indexOf(this.pattern);if(a==0)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let l=n.length,c=0;if(a<0){for(let b=0,_=Math.min(e.length,200);b<_&&c<l;){let w=yn(e,b);(w==n[c]||w==i[c])&&(r[c++]=b),b+=Pi(w)}if(c<l)return null}let u=0,f=0,h=!1,d=0,p=-1,g=-1,y=/[a-z]/.test(e),m=!0;for(let b=0,_=Math.min(e.length,200),w=0;b<_&&f<l;){let S=yn(e,b);a<0&&(u<l&&S==n[u]&&(o[u++]=b),d<l&&(S==n[d]||S==i[d]?(d==0&&(p=b),g=b+1,d++):d=0));let A,x=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(A=b_(S))!=A.toLowerCase()?1:A!=A.toUpperCase()?2:0;(!b||x==1&&y||w==0&&x!=0)&&(n[f]==S||i[f]==S&&(h=!0)?s[f++]=b:s.length&&(m=!1)),w=x,b+=Pi(S)}return f==l&&s[0]==0&&m?this.result(-100+(h?-200:0),s,e):d==l&&p==0?[-200-e.length+(g==e.length?0:-100),0,g]:a>-1?[-700-e.length,a,a+this.pattern.length]:d==l?[-200+-700-e.length,p,g]:f==l?this.result(-100+(h?-200:0)+-700+(m?0:-1100),s,e):n.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,n,i){let r=[e-i.length],o=1;for(let s of n){let a=s+(this.astral?Pi(yn(i,s)):1);o>1&&r[o-1]==s?r[o-1]=a:(r[o++]=s,r[o++]=a)}return r}}const Fi=De.define({combine(t){return Er(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>i=>aA(e(i),n(i)),optionClass:(e,n)=>i=>aA(e(i),n(i)),addToOptions:(e,n)=>e.concat(n)})}});function aA(t,e){return t?e?t+" "+e:t:e}function Nfe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),n.type&&i.classList.add(...n.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(n,i,r){let o=document.createElement("span");o.className="cm-completionLabel";let{label:s}=n,a=0;for(let l=1;l<r.length;){let c=r[l++],u=r[l++];c>a&&o.appendChild(document.createTextNode(s.slice(a,c)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(s.slice(c,u))),f.className="cm-completionMatchedText",a=u}return a<s.length&&o.appendChild(document.createTextNode(s.slice(a))),o},position:50},{render(n){if(!n.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=n.detail,i},position:80}),e.sort((n,i)=>n.position-i.position).map(n=>n.render)}function lA(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let r=Math.floor(e/n);return{from:r*n,to:(r+1)*n}}let i=Math.floor((t-e)/n);return{from:t-(i+1)*n,to:t-i*n}}class Bfe{constructor(e,n){this.view=e,this.stateField=n,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:a=>this.positionInfo(a),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:r,selected:o}=i.open,s=e.state.facet(Fi);this.optionContent=Nfe(s),this.optionClass=s.optionClass,this.tooltipClass=s.tooltipClass,this.range=lA(r.length,o,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{for(let l=a.target,c;l&&l!=this.dom;l=l.parentNode)if(l.nodeName=="LI"&&(c=/-(\d+)$/.exec(l.id))&&+c[1]<r.length){xE(e,r[+c[1]]),a.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(r,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){var n,i,r;let o=e.state.field(this.stateField),s=e.startState.field(this.stateField);this.updateTooltipClass(e.state),o!=s&&(this.updateSel(),((n=o.open)===null||n===void 0?void 0:n.disabled)!=((i=s.open)===null||i===void 0?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((r=o.open)===null||r===void 0)&&r.disabled)))}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of n.split(" "))i&&this.dom.classList.add(i);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=lA(n.options.length,n.selected,this.view.state.facet(Fi).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(n.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=n.options[n.selected],{info:r}=i;if(!r)return;let o=typeof r=="string"?document.createTextNode(r):r(i);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s)}).catch(s=>vi(this.view.state,s,"completion info")):this.addInfoPane(o)}}addInfoPane(e){let n=this.info=document.createElement("div");n.className="cm-tooltip cm-completionInfo",n.appendChild(e),this.dom.appendChild(n),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let n=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),n=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return n&&Hfe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),o=this.space;if(!o){let p=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:p.innerWidth,bottom:p.innerHeight}}if(r.top>Math.min(o.bottom,n.bottom)-10||r.bottom<Math.max(o.top,n.top)+10)return null;let s=this.view.textDirection==Vt.RTL,a=s,l=!1,c,u="",f="",h=n.left-o.left,d=o.right-n.right;if(a&&h<Math.min(i.width,d)?a=!1:!a&&d<Math.min(i.width,h)&&(a=!0),i.width<=(a?h:d))u=Math.max(o.top,Math.min(r.top,o.bottom-i.height))-n.top+"px",c=Math.min(400,a?h:d)+"px";else{l=!0,c=Math.min(400,(s?n.right:o.right-n.left)-30)+"px";let p=o.bottom-n.bottom;p>=i.height||p>n.top?u=r.bottom-n.top+"px":f=n.bottom-r.top+"px"}return{top:u,bottom:f,maxWidth:c,class:l?s?"left-narrow":"right-narrow":a?"left":"right"}}positionInfo(e){this.info&&(e?(this.info.style.top=e.top,this.info.style.bottom=e.bottom,this.info.style.maxWidth=e.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+e.class):this.info.style.top="-1e6px")}createListBox(e,n,i){const r=document.createElement("ul");r.id=n,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let o=i.from;o<i.to;o++){let{completion:s,match:a}=e[o];const l=r.appendChild(document.createElement("li"));l.id=n+"-"+o,l.setAttribute("role","option");let c=this.optionClass(s);c&&(l.className=c);for(let u of this.optionContent){let f=u(s,this.view.state,a);f&&l.appendChild(f)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function Ffe(t){return e=>new Bfe(e,t)}function Hfe(t,e){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<n.top?t.scrollTop-=n.top-i.top:i.bottom>n.bottom&&(t.scrollTop+=i.bottom-n.bottom)}function cA(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Vfe(t,e){let n=[],i=0;for(let a of t)if(a.hasResult())if(a.result.filter===!1){let l=a.result.getMatch;for(let c of a.result.options){let u=[1e9-i++];if(l)for(let f of l(c))u.push(f);n.push(new oA(c,a,u))}}else{let l=new Lfe(e.sliceDoc(a.from,a.to)),c;for(let u of a.result.options)(c=l.match(u.label))&&(u.boost!=null&&(c[0]+=u.boost),n.push(new oA(u,a,c)))}let r=[],o=null,s=e.facet(Fi).compareCompletions;for(let a of n.sort((l,c)=>c.match[0]-l.match[0]||s(l.completion,c.completion)))!o||o.label!=a.completion.label||o.detail!=a.completion.detail||o.type!=null&&a.completion.type!=null&&o.type!=a.completion.type||o.apply!=a.completion.apply?r.push(a):cA(a.completion)>cA(o)&&(r[r.length-1]=a),o=a.completion;return r}class Ma{constructor(e,n,i,r,o,s){this.options=e,this.attrs=n,this.tooltip=i,this.timestamp=r,this.selected=o,this.disabled=s}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Ma(this.options,uA(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,i,r,o){let s=Vfe(e,n);if(!s.length)return r&&e.some(l=>l.state==1)?new Ma(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let a=n.facet(Fi).selectOnOpen?0:-1;if(r&&r.selected!=a&&r.selected!=-1){let l=r.options[r.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==l){a=c;break}}return new Ma(s,uA(i,a),{pos:e.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:Ffe(Mi),above:o.aboveCursor},r?r.timestamp:Date.now(),a,!1)}map(e){return new Ma(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Np{constructor(e,n,i){this.active=e,this.id=n,this.open=i}static start(){return new Np(Wfe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,i=n.facet(Fi),o=(i.override||n.languageDataAt("autocomplete",Io(n)).map(Ife)).map(a=>(this.active.find(c=>c.source==a)||new Jn(a,this.active.some(c=>c.state!=0)?1:0)).update(e,i));o.length==this.active.length&&o.every((a,l)=>a==this.active[l])&&(o=this.active);let s=this.open;s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!jfe(o,this.active)?s=Ma.build(o,n,this.id,s,i):s&&s.disabled&&!o.some(a=>a.state==1)&&(s=null),!s&&o.every(a=>a.state!=1)&&o.some(a=>a.hasResult())&&(o=o.map(a=>a.hasResult()?new Jn(a.source,0):a));for(let a of e.effects)a.is(kE)&&(s=s&&s.setSelected(a.value,this.id));return o==this.active&&s==this.open?this:new Np(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:zfe}}function jfe(t,e){if(t==e)return!0;for(let n=0,i=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;i<e.length&&!e[i].hasResult;)i++;let r=n==t.length,o=i==e.length;if(r||o)return r==o;if(t[n++].result!=e[i++].result)return!1}}const zfe={"aria-autocomplete":"list"};function uA(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const Wfe=[];function Cb(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class Jn{constructor(e,n,i=-1){this.source=e,this.state=n,this.explicitPos=i}hasResult(){return!1}update(e,n){let i=Cb(e),r=this;i?r=r.handleUserEvent(e,i,n):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new Jn(r.source,0));for(let o of e.effects)if(o.is(W_))r=new Jn(r.source,1,o.value?Io(e.state):-1);else if(o.is(Bp))r=new Jn(r.source,0);else if(o.is(SE))for(let s of o.value)s.source==r.source&&(r=s);return r}handleUserEvent(e,n,i){return n=="delete"||!i.activateOnTyping?this.map(e.changes):new Jn(this.source,1)}handleChange(e){return e.changes.touchesRange(Io(e.startState))?new Jn(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Jn(this.source,this.state,e.mapPos(this.explicitPos))}}class jc extends Jn{constructor(e,n,i,r,o){super(e,2,n),this.result=i,this.from=r,this.to=o}hasResult(){return!0}handleUserEvent(e,n,i){var r;let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=Io(e.state);if((this.explicitPos<0?a<=o:a<this.from)||a>s||n=="delete"&&Io(e.startState)==this.from)return new Jn(this.source,n=="input"&&i.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),c;return Ufe(this.result.validFor,e.state,o,s)?new jc(this.source,l,this.result,o,s):this.result.update&&(c=this.result.update(this.result,o,s,new _E(e.state,a,l>=0)))?new jc(this.source,l,c,c.from,(r=c.to)!==null&&r!==void 0?r:Io(e.state)):new Jn(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Jn(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new jc(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function Ufe(t,e,n,i){if(!t)return!1;let r=e.sliceDoc(n,i);return typeof t=="function"?t(r,n,i,e):wE(t,!0).test(r)}const W_=Ke.define(),Bp=Ke.define(),SE=Ke.define({map(t,e){return t.map(n=>n.map(e))}}),kE=Ke.define(),Mi=xn.define({create(){return Np.start()},update(t,e){return t.update(e)},provide:t=>[P_.from(t,e=>e.tooltip),Pe.contentAttributes.from(t,e=>e.attrs)]});function Nf(t,e="option"){return n=>{let i=n.state.field(Mi,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<n.state.facet(Fi).interactionDelay)return!1;let r=1,o;e=="page"&&(o=Ale(n,i.open.tooltip))&&(r=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=i.open.options,a=i.open.selected>-1?i.open.selected+r*(t?1:-1):t?0:s-1;return a<0?a=e=="page"?0:s-1:a>=s&&(a=e=="page"?s-1:0),n.dispatch({effects:kE.of(a)}),!0}}const Yfe=t=>{let e=t.state.field(Mi,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<t.state.facet(Fi).interactionDelay?!1:(e.open.disabled||xE(t,e.open.options[e.open.selected]),!0)},qfe=t=>t.state.field(Mi,!1)?(t.dispatch({effects:W_.of(!0)}),!0):!1,Kfe=t=>{let e=t.state.field(Mi,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Bp.of(null)}),!0)};class Gfe{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const fA=50,Xfe=50,Jfe=1e3,Qfe=on.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(Mi).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(Mi);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Mi)==e)return;let n=t.transactions.some(i=>(i.selection||i.docChanged)&&!Cb(i));for(let i=0;i<this.running.length;i++){let r=this.running[i];if(n||r.updates.length+t.transactions.length>Xfe&&Date.now()-r.time>Jfe){for(let o of r.context.abortListeners)try{o()}catch(s){vi(this.view.state,s)}r.context.abortListeners=null,this.running.splice(i--,1)}else r.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(r=>r.active.source==i.source))?setTimeout(()=>this.startUpdate(),fA):-1,this.composing!=0)for(let i of t.transactions)Cb(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(Mi);for(let n of e.active)n.state==1&&!this.running.some(i=>i.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=Io(e),i=new _E(e,n,t.explicitPos==n),r=new Gfe(t,i);this.running.push(r),Promise.resolve(t.source(i)).then(o=>{r.context.aborted||(r.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Bp.of(null)}),vi(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),fA))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Fi);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let s=new jc(r.active.source,r.active.explicitPos,r.done,r.done.from,(t=r.done.to)!==null&&t!==void 0?t:Io(r.updates.length?r.updates[0].startState:this.view.state));for(let a of r.updates)s=s.update(a,n);if(s.hasResult()){e.push(s);continue}}let o=this.view.state.field(Mi).active.find(s=>s.source==r.active.source);if(o&&o.state==1)if(r.done==null){let s=new Jn(r.active.source,0);for(let a of r.updates)s=s.update(a,n);s.state!=1&&e.push(s)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:SE.of(e)})}},{eventHandlers:{blur(){let t=this.view.state.field(Mi,!1);t&&t.tooltip&&this.view.state.facet(Fi).closeOnBlur&&this.view.dispatch({effects:Bp.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:W_.of(!1)}),20),this.composing=0}}}),Zfe=Pe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),bu={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ts=Ke.define({map(t,e){let n=e.mapPos(t,-1,zn.TrackAfter);return n??void 0}}),U_=Ke.define({map(t,e){return e.mapPos(t)}}),Y_=new class extends qs{};Y_.startSide=1;Y_.endSide=-1;const CE=xn.define({create(){return pt.empty},update(t,e){if(e.selection){let n=e.state.doc.lineAt(e.selection.main.head).from,i=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(i,-1)&&(t=pt.empty)}t=t.map(e.changes);for(let n of e.effects)n.is(Ts)?t=t.update({add:[Y_.range(n.value,n.value+1)]}):n.is(U_)&&(t=t.update({filter:i=>i!=n.value}));return t}});function ehe(){return[nhe,CE]}const ky="()[]{}<>";function OE(t){for(let e=0;e<ky.length;e+=2)if(ky.charCodeAt(e)==t)return ky.charAt(e+1);return b_(t<128?t:t+1)}function ME(t,e){return t.languageDataAt("closeBrackets",e)[0]||bu}const the=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),nhe=Pe.inputHandler.of((t,e,n,i)=>{if((the?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let r=t.state.selection.main;if(i.length>2||i.length==2&&Pi(yn(i,0))==1||e!=r.from||n!=r.to)return!1;let o=ohe(t.state,i);return o?(t.dispatch(o),!0):!1}),ihe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let i=ME(t,t.selection.main.head).brackets||bu.brackets,r=null,o=t.changeByRange(s=>{if(s.empty){let a=she(t.doc,s.head);for(let l of i)if(l==a&&zg(t.doc,s.head)==OE(yn(l,0)))return{changes:{from:s.head-l.length,to:s.head+l.length},range:ie.cursor(s.head-l.length)}}return{range:r=s}});return r||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},rhe=[{key:"Backspace",run:ihe}];function ohe(t,e){let n=ME(t,t.selection.main.head),i=n.brackets||bu.brackets;for(let r of i){let o=OE(yn(r,0));if(e==r)return o==r?che(t,r,i.indexOf(r+r+r)>-1,n):ahe(t,r,o,n.before||bu.before);if(e==o&&AE(t,t.selection.main.from))return lhe(t,r,o)}return null}function AE(t,e){let n=!1;return t.field(CE).between(0,t.doc.length,i=>{i==e&&(n=!0)}),n}function zg(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Pi(yn(n,0)))}function she(t,e){let n=t.sliceString(e-2,e);return Pi(yn(n,0))==n.length?n:n.slice(1)}function ahe(t,e,n,i){let r=null,o=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:Ts.of(s.to+e.length),range:ie.range(s.anchor+e.length,s.head+e.length)};let a=zg(t.doc,s.head);return!a||/\s/.test(a)||i.indexOf(a)>-1?{changes:{insert:e+n,from:s.head},effects:Ts.of(s.head+e.length),range:ie.cursor(s.head+e.length)}:{range:r=s}});return r?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function lhe(t,e,n){let i=null,r=t.selection.ranges.map(o=>o.empty&&zg(t.doc,o.head)==n?ie.cursor(o.head+n.length):i=o);return i?null:t.update({selection:ie.create(r,t.selection.mainIndex),scrollIntoView:!0,effects:t.selection.ranges.map(({from:o})=>U_.of(o))})}function che(t,e,n,i){let r=i.stringPrefixes||bu.stringPrefixes,o=null,s=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Ts.of(a.to+e.length),range:ie.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=zg(t.doc,l),u;if(c==e){if(hA(t,l))return{changes:{insert:e+e,from:l},effects:Ts.of(l+e.length),range:ie.cursor(l+e.length)};if(AE(t,l)){let f=n&&t.sliceDoc(l,l+e.length*3)==e+e+e;return{range:ie.cursor(l+e.length*(f?3:1)),effects:U_.of(l)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(u=dA(t,l-2*e.length,r))>-1&&hA(t,u))return{changes:{insert:e+e+e+e,from:l},effects:Ts.of(l+e.length),range:ie.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=Nt.Word&&dA(t,l,r)>-1&&!uhe(t,l,e,r))return{changes:{insert:e+e,from:l},effects:Ts.of(l+e.length),range:ie.cursor(l+e.length)}}return{range:o=a}});return o?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function hA(t,e){let n=In(t).resolveInner(e+1);return n.parent&&n.from==e}function uhe(t,e,n,i){let r=In(t).resolveInner(e,-1),o=i.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=t.sliceDoc(r.from,Math.min(r.to,r.from+n.length+o)),l=a.indexOf(n);if(!l||l>-1&&i.indexOf(a.slice(0,l))>-1){let u=r.firstChild;for(;u&&u.from==r.from&&u.to-u.from>n.length+l;){if(t.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=r.to==e&&r.parent;if(!c)break;r=c}return!1}function dA(t,e,n){let i=t.charCategorizer(e);if(i(t.sliceDoc(e-1,e))!=Nt.Word)return e;for(let r of n){let o=e-r.length;if(t.sliceDoc(o,e)==r&&i(t.sliceDoc(o-1,o))!=Nt.Word)return o}return-1}function fhe(t={}){return[Mi,Fi.of(t),Qfe,hhe,Zfe]}const PE=[{key:"Ctrl-Space",run:qfe},{key:"Escape",run:Kfe},{key:"ArrowDown",run:Nf(!0)},{key:"ArrowUp",run:Nf(!1)},{key:"PageDown",run:Nf(!0,"page")},{key:"PageUp",run:Nf(!1,"page")},{key:"Enter",run:Yfe}],hhe=$l.highest(Eg.computeN([Fi],t=>t.facet(Fi).defaultKeymap?[PE]:[]));class dhe{constructor(e,n,i){this.from=e,this.to=n,this.diagnostic=i}}class Os{constructor(e,n,i){this.diagnostics=e,this.panel=n,this.selected=i}static init(e,n,i){let r=e,o=i.facet(Aa).markerFilter;o&&(r=o(r));let s=Ne.set(r.map(a=>a.from==a.to||a.from==a.to-1&&i.doc.lineAt(a.from).to==a.from?Ne.widget({widget:new She(a),diagnostic:a}).range(a.from):Ne.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity},diagnostic:a}).range(a.from,a.to)),!0);return new Os(s,n,_l(s))}}function _l(t,e=null,n=0){let i=null;return t.between(n,1e9,(r,o,{spec:s})=>{if(!(e&&s.diagnostic!=e))return i=new dhe(r,o,s.diagnostic),!1}),i}function phe(t,e){return!!(t.effects.some(n=>n.is(q_))||t.changes.touchesRange(e.pos))}function TE(t,e){return t.field(di,!1)?e:e.concat(Ke.appendConfig.of([di,Pe.decorations.compute([di],n=>{let{selected:i,panel:r}=n.field(di);return!i||!r||i.from==i.to?Ne.none:Ne.set([mhe.range(i.from,i.to)])}),Mle(yhe,{hideOn:phe}),Che]))}function ghe(t,e){return{effects:TE(t,[q_.of(e)])}}const q_=Ke.define(),K_=Ke.define(),DE=Ke.define(),di=xn.define({create(){return new Os(Ne.none,null,null)},update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),i=null;if(t.selected){let r=e.changes.mapPos(t.selected.from,1);i=_l(n,t.selected.diagnostic,r)||_l(n,null,r)}t=new Os(n,t.panel,i)}for(let n of e.effects)n.is(q_)?t=Os.init(n.value,t.panel,e.state):n.is(K_)?t=new Os(t.diagnostics,n.value?Wg.open:null,t.selected):n.is(DE)&&(t=new Os(t.diagnostics,t.panel,n.value));return t},provide:t=>[mu.from(t,e=>e.panel),Pe.decorations.from(t,e=>e.diagnostics)]}),mhe=Ne.mark({class:"cm-lintRange cm-lintRange-active"});function yhe(t,e,n){let{diagnostics:i}=t.state.field(di),r=[],o=2e8,s=0;i.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:u})=>{e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0))&&(r.push(u.diagnostic),o=Math.min(l,o),s=Math.max(c,s))});let a=t.state.facet(Aa).tooltipFilter;return a&&(r=a(r)),r.length?{pos:o,end:s,above:t.state.doc.lineAt(o).to<s,create(){return{dom:vhe(t,r)}}}:null}function vhe(t,e){return St("ul",{class:"cm-tooltip-lint"},e.map(n=>RE(t,n,!1)))}const bhe=t=>{let e=t.state.field(di,!1);(!e||!e.panel)&&t.dispatch({effects:TE(t.state,[K_.of(!0)])});let n=gu(t,Wg.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},pA=t=>{let e=t.state.field(di,!1);return!e||!e.panel?!1:(t.dispatch({effects:K_.of(!1)}),!0)},_he=t=>{let e=t.state.field(di,!1);if(!e)return!1;let n=t.state.selection.main,i=e.diagnostics.iter(n.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==n.from&&i.to==n.to)?!1:(t.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},whe=[{key:"Mod-Shift-m",run:bhe,preventDefault:!0},{key:"F8",run:_he}],xhe=on.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(Aa);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:n}=e.facet(Aa);Promise.all(n.map(i=>Promise.resolve(i(this.view)))).then(i=>{let r=i.reduce((o,s)=>o.concat(s));this.view.state.doc==e.doc&&this.view.dispatch(ghe(this.view.state,r))},i=>{vi(this.view.state,i)})}}update(t){let e=t.state.facet(Aa);(t.docChanged||e!=t.startState.facet(Aa)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Aa=De.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},Er(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,n)=>e?n?i=>e(i)||n(i):e:n}))},enables:xhe});function $E(t){let e=[];if(t)e:for(let{name:n}of t){for(let i=0;i<n.length;i++){let r=n[i];if(/[a-zA-Z]/.test(r)&&!e.some(o=>o.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function RE(t,e,n){var i;let r=n?$E(e.actions):[];return St("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},St("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((o,s)=>{let a=!1,l=h=>{if(h.preventDefault(),a)return;a=!0;let d=_l(t.state.field(di).diagnostics,e);d&&o.apply(t,d.from,d.to)},{name:c}=o,u=r[s]?c.indexOf(r[s]):-1,f=u<0?c:[c.slice(0,u),St("u",c.slice(u,u+1)),c.slice(u+1)];return St("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${r[s]})"`}.`},f)}),e.source&&St("div",{class:"cm-diagnosticSource"},e.source))}class She extends os{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return St("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class gA{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=RE(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Wg{constructor(e){this.view=e,this.items=[];let n=r=>{if(r.keyCode==27)pA(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=$E(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==r.keyCode){let l=_l(this.view.state.field(di).diagnostics,o);l&&o.actions[a].apply(e,l.from,l.to)}}else return;r.preventDefault()},i=r=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(r.target)&&this.moveSelection(o)};this.list=St("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:i}),this.dom=St("div",{class:"cm-panel-lint"},this.list,St("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>pA(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(di).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(di),i=0,r=!1,o=null;for(e.between(0,this.view.state.doc.length,(s,a,{spec:l})=>{let c=-1,u;for(let f=i;f<this.items.length;f++)if(this.items[f].diagnostic==l.diagnostic){c=f;break}c<0?(u=new gA(this.view,l.diagnostic),this.items.splice(i,0,u),r=!0):(u=this.items[c],c>i&&(this.items.splice(i,c-i),r=!0)),n&&u.diagnostic==n.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),o=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new gA(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:a})=>{s.top<a.top?this.list.scrollTop-=a.top-s.top:s.bottom>a.bottom&&(this.list.scrollTop+=s.bottom-a.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function n(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)n();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(di),i=_l(n.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:DE.of(i)})}static open(e){return new Wg(e)}}function khe(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Cy(t){return khe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Che=Pe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Cy("#d11")},".cm-lintRange-warning":{backgroundImage:Cy("orange")},".cm-lintRange-info":{backgroundImage:Cy("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),Ohe=(()=>[Nle(),Hle(),ole(),rue(),Pce(),Kae(),Zae(),it.allowMultipleSelections.of(!0),mce(),Dce(Ece,{fallback:!0}),Vce(),ehe(),fhe(),yle(),_le(),fle(),lfe(),Eg.of([...rhe,...nfe,...Mfe,...due,...Oce,...PE,...whe])])(),Mhe={class:"w-full h-full border-neutral-300 border-x p-2"},Oy=$e({__name:"CodeEditor",props:{modelValue:null,disabled:{type:Boolean}},emits:["update:modelValue","change"],setup(t,{emit:e}){const n=t,i=te();let r;const o=Fs(n,"modelValue",""),s=te(o.value??"");mt(()=>o.value,async f=>{if(s.value=f??"",(r==null?void 0:r.state.doc.toString())===s.value||typeof r>"u")return;const d=r.state.update({changes:{from:0,to:r.state.doc.length,insert:s.value}});r.update([d])});const a=new dl,l=new dl,c=Z(()=>{const f="#e0dee9";return Pe.theme({".cm-scroller":{overflow:"auto"},".cm-focused .cm-selectionBackground .cm-activeLine, .cm-selectionBackground, .cm-content .cm-activeLine ::selection":{backgroundColor:`${f} !important`}})}),u=async()=>{s.value=o.value??"";const f=Pe.updateListener.of(p=>{if(!p.docChanged)return;const g=p.view.state.doc.toString();e("update:modelValue",g),e("change",g)}),h=[Ohe],d=it.create({doc:s.value,extensions:h.concat([Eg.of([ife]),l.of(c.value),a.of(it.readOnly.of(n.disabled)),f,Pe.lineWrapping])});r=new Pe({state:d,parent:i.value})};return sn(()=>{i.value&&u()}),(f,h)=>(M(),D("div",Mhe,[j("div",{ref_key:"editorMount",ref:i,class:"border border-neutral-300",onKeyup:h[0]||(h[0]=hi(()=>{},["stop"])),onKeydown:h[1]||(h[1]=hi(()=>{},["stop"]))},null,544)]))}}),Ahe={key:0,class:"flex flex-col items-center w-full"},Phe=$e({__name:"IopCompiler",setup(t){const e=oa();e.FETCH_ORGANIZATIONS();const n=kl(),i=Z(()=>{var r;return((r=e.organizations)==null?void 0:r.flatMap(o=>o.collections.map(s=>s.compiler)).find(o=>`${o==null?void 0:o.id}`===n.params.compilerId))??null});return(r,o)=>C(i)?(M(),D("div",Ahe,[Ae(Oy,{modelValue:C(i).latestCompilation.platformioIni,"onUpdate:modelValue":o[0]||(o[0]=s=>C(i).latestCompilation.platformioIni=s),disabled:!0},null,8,["modelValue"]),Ae(Oy,{modelValue:C(i).latestCompilation.pinHpp,"onUpdate:modelValue":o[1]||(o[1]=s=>C(i).latestCompilation.pinHpp=s),disabled:!0},null,8,["modelValue"]),Ae(Oy,{modelValue:C(i).latestCompilation.mainCpp,"onUpdate:modelValue":o[2]||(o[2]=s=>C(i).latestCompilation.mainCpp=s),disabled:!0},null,8,["modelValue"])])):U("",!0)}}),The=$e({__name:"CompilerView",setup(t){return(e,n)=>(M(),ye(Phe))}}),Dhe=[{path:"/organization/:organizationId",name:"OrganizationView",meta:{title:"Organization"},component:Toe},{path:"/organization/:organizationId/collection/:collectionId",name:"DevicesView",meta:{title:"Devices"},component:Doe},{path:"/organization/:organizationId/collection/:collectionId/device/:deviceId",name:"DeviceView",meta:{title:"Device"},component:$oe},{path:"/compiler/:compilerId/code",name:"CompilerView",meta:{title:"Compiler"},component:The},{path:"/",name:"Home",meta:{title:"Login"},component:EO},{path:"/login",name:"LoginView",meta:{title:"Login"},component:EO},{path:"/signup",name:"SignupView",meta:{title:"Signup"},component:ise}],Qi=bB({history:NN("/"),routes:Dhe});async function lo(t,e){const n=localStorage.getItem("token")??void 0;if(n===void 0)throw localStorage.removeItem("token"),window.dispatchEvent(new Event("storage")),Qi.push({path:"/login"}),new Error("not authenticated");const i={Authorization:`Basic ${n}`};let r="";e!==void 0&&(r=Object.entries(e).map(([s,a])=>`${encodeURIComponent(s)}=${encodeURIComponent(a)}`).join("&"));const o=await fetch(`${Jb.API_HOST}${t}?${r}`,{method:"GET",headers:i});if(o.status===401)throw localStorage.removeItem("token"),window.dispatchEvent(new Event("storage")),Qi.push({path:"/login"}),new Error("not authenticated");return await o.json()}async function la(t,e){const n=localStorage.getItem("token")??void 0;if(n===void 0)throw localStorage.removeItem("token"),window.dispatchEvent(new Event("storage")),Qi.push({path:"/login"}),new Error("not authenticated");const i={Authorization:`Basic ${n}`};let r;e!==void 0&&!(e instanceof FormData)?(i["Content-Type"]="application/json",r=JSON.stringify(e)):r=e;const o=await fetch(`${Jb.API_HOST}${t}`,{method:"POST",body:r,headers:i});if(o.status===401)throw localStorage.removeItem("token"),window.dispatchEvent(new Event("storage")),Qi.push({path:"/login"}),new Error("not authenticated");return await o.json()}async function EE(t,e){const n={};let i;return e!==void 0&&!(e instanceof FormData)?(n["Content-Type"]="application/json",i=JSON.stringify(e)):i=e,await(await fetch(`${Jb.API_HOST}${t}`,{method:"POST",body:i,headers:n})).text()}async function $he(){return await lo("/v1/user")}async function Rhe(t){return await EE("/v1/user/login",t)}async function Ehe(t){return await EE("/v1/user",t)}const G_={find:$he,login:Rhe,signup:Ehe},Ug=_P("user",()=>{const t=te(null);async function e(){t.value=await G_.find()}const n=te(!1);return{user:t,FETCH_USER:e,isAuthenticated:n}}),Ihe={id:"nav"},Lhe=$e({__name:"SideBar",setup(t){const e=Ug(),n=oa();e.isAuthenticated&&e.FETCH_USER(),e.isAuthenticated&&n.FETCH_ORGANIZATIONS();const{user:i}=bN(e),r=kl();mt(i,s=>{var a;s&&((a=r.params)!=null&&a.organizationId||Qi.push({path:`/organization/${s.defaultOrganization.id}`}))});const o=s=>`${s}`===r.params.organizationId?["selected"]:[];return(s,a)=>{const l=kt("RouterLink");return M(!0),D(de,null,He(C(n).organizations??[],c=>(M(),D("div",Ihe,[Ae(l,{to:`/organization/${c.id}`},{default:Fe(()=>[j("div",{class:je(["link text-xl",o(c.id)])},ve(c.name),3)]),_:2},1032,["to"])]))),256)}}}),Nhe=$r(Lhe,[["__scopeId","data-v-859e97d5"]]),Bhe={class:"flex flex-col w-full h-full"},Fhe={class:"flex flex-row w-full content-header"},Hhe={class:"overflow-x-scroll py-10 w-full"},Vhe=Ub('<div class="flex flex-col w-full footer px-5 border-t border-black pt-3" data-v-24509972><a href="https://www.flaticon.com/free-icons/soil" title="soil icons" data-v-24509972>Soil icons created by Smashicons - Flaticon</a><a href="https://www.flaticon.com/free-icons/hot" title="hot icons" data-v-24509972>Hot icons created by Freepik - Flaticon</a><a href="https://www.flaticon.com/free-icons/evaporation" title="evaporation icons" data-v-24509972>Evaporation icons created by Smashicons - Flaticon</a><a href="https://www.flaticon.com/free-icons/plant" title="plant icons" data-v-24509972>Plant icons created by Freepik - Flaticon</a></div>',1),jhe=$e({__name:"App",setup(t){const e=kl();Z(()=>e.params.organizationId),Z(()=>e.params.collectionId),Z(()=>e.params.deviceId);const n=Ug(),i=oa(),r=()=>{n.isAuthenticated=!!localStorage.getItem("token"),n.isAuthenticated&&n.FETCH_USER()};return sn(()=>window.addEventListener("storage",r)),Sl(()=>window.removeEventListener("storage",r)),r(),n.isAuthenticated&&i.FETCH_ORGANIZATIONS(),n.isAuthenticated&&n.FETCH_USER(),(o,s)=>(M(),D("span",Bhe,[j("span",Fhe,[C(i).organizations&&C(i).organizations.length>0?(M(),ye(Nhe,{key:0})):U("",!0),j("div",Hhe,[Ae(C($P))])]),Vhe]))}}),zhe=$r(jhe,[["__scopeId","data-v-24509972"]]),X_=fN(zhe);X_.use(pN());X_.use(Qi);X_.mount("#app")});export default Whe();
